# dla libgadu i ekg --------------
LDFLAGS += -L/usr/lib
CFLAGS += -I/usr/src/ekg/lib
LIBS += -lgadu
# --------------------------------

SOURCES = ggnotify.c
OBJECTS = ${SOURCES:.c=.o}

OUT = ggnotify.so

all: $(OUT)

$(OUT): ${OBJECTS}
	gcc -shared $(OBJECTS) -o $(OUT) $(LDFLAGS) $(LIBS)
	rm -rf $(OBJECTS)

clean:
	rm -rf $(OUT) $(OBJECTS)

install:
	install -c -m 755 $(OUT) $(MODULESDIR)
	strip $(MODULESDIR)/$(OUT)
