<!--// $Id$ //-->
<TABLE WIDTH="100%" CELLPADDING="3">
	<TR CLASS="DARK">
		<TD width="99%" class="fleftu hand" onclick="showOrHide('nodespanel');">
			<IMG SRC="img/node.gif" alt="">
			<B><A name="customernodes">{t 0=$customernodes.total|default:"0"}Customer Nodes ($0):{/t}</A></B>
			{if $ewx_channelid}
			<B class="brown">[{t}Channel:{/t} {$ewx_channelid|string_format:"%05d"}]</B> 
			{/if}
		</TD>
		<TD width="1%" class="frightu" align="right" nowrap>
			{if $customerinfo.status neq "1" and ! $customerinfo.deleted}<A HREF="?m=nodeadd&ownerid={$customerinfo.id}">{t}New Node{/t} &raquo;</A>&nbsp;{/if}
		</TD>
	</TR>
        <TR id="nodespanel" style="display:none;">
	        <TD WIDTH="100%" colspan="2" class="fall">
		    <TABLE cellpadding="5" cellspacing="0" WIDTH="100%">
		        <TR class="dark">
	                    <TD WIDTH="96%" class="fleftu"><B>{t}Name:{/t}</B></TD>
		    	    <TD WIDTH="1%" class="fbt" align="right">{t}ID:{/t}</TD>
		    	    <TD WIDTH="1%" class="fbt" align="right">{t}Address:{/t}</TD>
		    	    <TD WIDTH="1%" class="fbt" align="right">{t}Network:{/t}</TD>
		    	    <TD WIDTH="1%" class="frightu">&nbsp;</TD>
			</TR>
			{cycle values="light,lucid" print=false}
			{if $customernodes.total > 0}
			{section name=customernodes loop=$customernodes}
			{if $customernodes[customernodes].id}
    			<TR class="{cycle}{if ! $customernodes[customernodes].access} blend{/if}" onmouseover="addClass(this, 'highlight')" onmouseout="removeClass(this, 'highlight')">
			    <TD WIDTH="96%" onClick="return self.location.href='?m=nodeinfo&id={$customernodes[customernodes].id}';">
				<B>{$customernodes[customernodes].name}</B>
				{if $customernodes[customernodes].location}<BR>
				<NOBR>{$customernodes[customernodes].location|truncate:60:"...":true}</NOBR>
				{/if}
				{if $customernodes[customernodes].info}<BR>
				<NOBR>{$customernodes[customernodes].info|truncate:60:"...":true}</NOBR>
				{/if}
			    </TD>
			    <TD WIDTH="1%" onClick="return self.location.href='?m=nodeinfo&id={$customernodes[customernodes].id}';" align="right">
				({$customernodes[customernodes].id|string_format:"%04d"})
			    </TD>
			    <TD WIDTH="1%" onClick="return self.location.href='?m=nodeinfo&id={$customernodes[customernodes].id}';" align="right" NOWRAP>
				{$customernodes[customernodes].ip} {if $customernodes[customernodes].ip_pub != "0.0.0.0"} ({$customernodes[customernodes].ip_pub}){/if} / {$customernodes[customernodes].mac}
			    </TD>
			    <TD WIDTH="1%" align="right" NOWRAP>
				<B><A HREF="?m=netinfo&id={$customernodes[customernodes].network.id}">{$customernodes[customernodes].network.name|truncate:"20":"...":true}</A></B> {if $customernodes[customernodes].network_pub} (<B><A HREF="?m=netinfo&id={$customernodes[customernodes].network_pub.id}">{$customernodes[customernodes].network_pub.name|truncate:"20":"...":true}</A></B>){/if}
			    </TD>
			    <TD WIDTH="1%" NOWRAP>
				<A HREF="?m=nodeset&id={$customernodes[customernodes].id}"><IMG src="img/{if ! $customernodes[customernodes].access}no{/if}access.gif" alt="[ {if ! $customernodes[customernodes].access}{t}Connect{/t}{else}{t}Disconnect{/t}{/if} ]" title="[ {if ! $customernodes[customernodes].access}{t}Connect{/t}{else}{t}Disconnect{/t}{/if} ]"></A>
				<A HREF="?m=nodewarn&id={$customernodes[customernodes].id}"><IMG src="img/warning{if ! $customernodes[customernodes].warning}off{else}on{/if}.gif" alt="[ {if ! $customernodes[customernodes].warning}{t}Enable warning{/t}{else}{t}Disable warning{/t}{/if} ]" title="[ {if ! $customernodes[customernodes].warning}{t}Enable warning{/t}{else}{t}Disable warning{/t}{/if} ]"></A>
				<A HREF="?m=nodeedit&id={$customernodes[customernodes].id}"><IMG SRC="img/edit.gif" alt="[ {t}Edit{/t} ]" title="[ {t}Edit{/t} ]"></A>
				<A HREF="?m=nodeinfo&id={$customernodes[customernodes].id}"><IMG SRC="img/info.gif" alt="[ {t}Info{/t} ]" title="[ {t}Info{/t} ]"></A>&nbsp;
				<A HREF="?m=nodedel&id={$customernodes[customernodes].id}" onClick="return confirmLink(this, '{t 0=$customernodes[customernodes].name|upper}Are you sure, you want to remove node \'$0\' from database?{/t}')"><IMG SRC="img/delete.gif" alt="[ {t}Delete{/t} ]" title="[ {t}Delete{/t} ]"></A>
			    </TD>
			</TR>
			{/if}
			{/section}
			{else}
			<TR>
			    <TD WIDTH="100%" COLSPAN="5" align="center">
				<P>&nbsp;</P>
				<P><B>{if $customerinfo.deleted}<FONT class="red">{t}That customer has been deleted.{/t}</FONT>{else}{t}That customer hasn't got any node.{/t}{/if}</B></P>
				<P>&nbsp;</P>
			    </TD>
			</TR>
			{/if}
			<TR CLASS="LIGHT">
			    <TD WIDTH="100%" COLSPAN="5" CLASS="FTOP">
				<A HREF="?m=nodeset&ownerid={$customerinfo.id}&access=1"><IMG SRC="img/access.gif"> {t}Connect All{/t}</A>
			    	<A HREF="?m=nodeset&ownerid={$customerinfo.id}"><IMG SRC="img/noaccess.gif"> {t}Disconnect All{/t}</A>
				<A HREF="?m=nodewarn&ownerid={$customerinfo.id}&warning=1"><IMG SRC="img/warningon.gif"> {t}Enable Warnings for All{/t}</A>
				<A HREF="?m=nodewarn&ownerid={$customerinfo.id}"><IMG SRC="img/warningoff.gif"> {t}Disable Warnings for All{/t}</A>
			    </TD>
			</TR>
		    </TABLE>
		</TD>
	</TR>
</TABLE>
{literal}<SCRIPT type="text/javascript">
<!--
        if(getCookie('nodespanel')=='1')
	{
	        document.getElementById('nodespanel').style.display = '';
	}
//-->
</SCRIPT>{/literal}
