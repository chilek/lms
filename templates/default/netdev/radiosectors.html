<!--// $Id$ //-->
<TABLE class="lmsbox">
    <THEAD>
	<TR class="hand" onclick="showOrHide('radiosectorspanel');">
		<TD class="bold">
			<IMG src="img/wireless.gif" alt="">
			<A name="radiosectors">{trans("Radio sectors:")}</A>
		</TD>
	</TR>
    </THEAD>
    <TBODY>
	<TR id="radiosectorspanel" style="display: none;">
		<TD style="width: 100%;">
			<FORM id="radiosectoradd" name="radiosectoradd">
			<DIV id="radiosectortable">
			</DIV>
			</FORM>
		</TD>
	</TR>
    </TBODY>
</TABLE>
<SCRIPT type="text/javascript">
<!--
if (getCookie('radiosectorspanel') == '1') {
	document.getElementById('radiosectorspanel').style.display = '';
}

function addRadioSector() {
	xjx.$('radiosectoraddlink').disabled = true;
	xajax_addRadioSector({$objectid}, xjx.getFormValues('radiosectoradd'));
}

function delRadioSector(id) {
	xjx.$('radiosectortable').disabled = true;
	xajax_delRadioSector({$objectid}, id);
}

function toggleEditRadioSector(id) {
	var elems = ['name', 'azimuth', 'radius', 'altitude', 'rsrange'];
	var edit = (xjx.$('edit_button_' + id).style.display != 'none');

	for (i = 0; i < elems.length; i++) {
		xjx.$(elems[i] + '_' + id).style.display = (edit ? 'none' : '');
		xjx.$(elems[i] + '_edit_' + id).style.display = (edit ? '' : 'none');
	}
	xjx.$('cancel_button_' + id).style.display = (edit ? '' : 'none');
	xjx.$('save_button_' + id).style.display = (edit ? '' : 'none');
	xjx.$('edit_button_' + id).style.display = (edit ? 'none' : '');
}

function updateRadioSector(id) {
	var elems = ['name', 'azimuth', 'radius', 'altitude', 'rsrange'];
	var params = {};
	for (i = 0; i < elems.length; i++) {
		params[elems[i]] = xjx.$(elems[i] + '_edit_' + id).value;
		xjx.$(elems[i] + '_edit_' + id).disabled = true;
	}
	xjx.$('save_button_' + id).disabled = true;
	xjx.$('cancel_button_' + id).disabled = true;
	xjx.$('delete_button_' + id).disabled = true;
	xajax_updateRadioSector(id, params);
}

xajax_getRadioSectors({$objectid}, null);
//-->
</SCRIPT>
