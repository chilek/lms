<!-- $Id$ -->
{include file="calendar_js.html"}
<TABLE class="lmsbox">
	<FORM NAME="netdevedit" METHOD="POST" ACTION="?m=netdevedit&id={$netdevinfo.id}">
	<INPUT type="submit" class="hiddenbtn">
        <THEAD>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/netdev.gif" ALT="">
		</TD>
		<TD WIDTH="1%">
			<B>{trans("Name:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[name]" VALUE="{$netdevinfo.name}" MAXLENGTH="32" {tip trigger="name" text="Enter device name" bold=1}>
		</TD>
	</TR>
        </THEAD>
        <TBODY>
	<TR>
        <TD WIDTH="100%" COLSPAN="3" CLASS="container">
		    <TABLE WIDTH="100%" CELLPADDING="0">
		                <TR>
		                        <TD WIDTH="50%" style="vertical-align:top;">
		                                <TABLE WIDTH="100%" CELLPADDING="3">
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/producer.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Producer:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[producer]" VALUE="{$netdevinfo.producer}" {tip text="Enter device producer (optional)"}>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/netdev_model.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Model:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[model]" VALUE="{$netdevinfo.model}" {tip text="Enter model name (optional)" }>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/serialnumber.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Serial number:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[serialnumber]" VALUE="{$netdevinfo.serialnumber}" {tip text="Enter serial number (optional)"}>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/port.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Ports number:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[ports]" VALUE="{if $netdevinfo.ports}{$netdevinfo.ports}{/if}" {tip trigger="ports" text="Enter number of ports (optional)"}>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/home.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Location:")}</B>
		</TD>
		<TD WIDTH="98%" NOWRAP>
		    <INPUT TYPE="TEXT" SIZE="30" VALUE="{$netdevinfo.location}" id="location" NAME="netdev[location]"  {tip text="Enter location (optional)" trigger="location"}>
			<A href="javascript: void(0);" onclick="if (check_teryt()) return locationchoosewin('netdev', 'netdevedit', document.forms['netdevedit'].elements['netdev[location_city]'].value,  document.forms['netdevedit'].elements['netdev[location_street]'].value)" {tip text="Click to select location"}>&raquo;&raquo;&raquo;</A>
			<BR>
		    <INPUT type="hidden" name="netdev[location_city]" value="{$netdevinfo.location_city}">
		    <INPUT type="hidden" name="netdev[location_street]" value="{$netdevinfo.location_street}">
		    <INPUT type="hidden" name="netdev[location_house]" value="{$netdevinfo.location_house}">
		    <INPUT type="hidden" name="netdev[location_flat]" value="{$netdevinfo.location_flat}">
			<INPUT TYPE="checkbox" name="netdev[teryt]" id="teryt" onchange="check_teryt('location')"{if $netdevinfo.teryt} checked{/if}><label for="teryt">{trans("TERRIT-DB")}</label>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/home.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("GPS longitude:")}</B>
		</TD>
		<TD WIDTH="98%" NOWRAP>
			<INPUT ID="longitude" TYPE="text" NAME="netdev[longitude]" VALUE="{$netdevinfo.longitude}" {tip text="Enter device longitude (optional)" trigger="longitude"}>
			<a href="javascript: void(0);" onClick="return gpscoordschoosewin(document.netdevedit.elements['netdev[longitude]'], document.netdevedit.elements['netdev[latitude]']);" {tip text="Click to select gps coordinates from map"}>&raquo;&raquo;&raquo;</A>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/home.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("GPS latitude:")}</B>
		</TD>
		<TD WIDTH="98%" NOWRAP>
			<INPUT ID="latitude" TYPE="text" NAME="netdev[latitude]" VALUE="{$netdevinfo.latitude}" {tip text="Enter device latitude (optional)" trigger="latitude"}>
			<a href="javascript: void(0);" onClick="return gpscoordschoosewin(document.netdevedit.elements['netdev[longitude]'], document.netdevedit.elements['netdev[latitude]']);" {tip text="Click to select gps coordinates from map"}>&raquo;&raquo;&raquo;</A>
		</TD>
	</TR>
{if check_conf('phpui.radius')}
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/radius.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Shortname:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[shortname]" VALUE="{$netdevinfo.shortname}" {tip text="Enter shortname (optional)"}>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/radius.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Type:")}</B>
		</TD>
		<TD WIDTH="98%">
			<SELECT NAME="netdev[nastype]" {tip text="Select type (optional)" trigger="nastype"}>
			<OPTION VALUE="0"></OPTION>
			{foreach from=$nastype item=item key=key}
			<OPTION VALUE="{$key}" {if $key==$netdevinfo.nastype} SELECTED{/if}>{$item.name}</OPTION>
			{/foreach}
			</SELECT>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/radius.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Max clients:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[clients]" VALUE="{if $netdevinfo.clients}{$netdevinfo.clients}{/if}" {tip text="Enter max clients (optional)"}>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/radius.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Secret:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[secret]" VALUE="{$netdevinfo.secret}" {tip text="Enter secret (optional)"}>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/radius.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Community:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[community]" VALUE="{$netdevinfo.community}" {tip text="Enter community (optional)"}>
		</TD>
	</TR>
{/if}
{if isset($channels)}
        <TR>
	        <TD WIDTH="1%">
		        <IMG SRC="img/channel.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
		        <B>{trans("Channel:")}</B>
		</TD>
		<TD WIDTH="98%">
		        <SELECT NAME="netdev[channelid]" {tip text="Select channel (optional)" trigger="channelid"}>
		        	<OPTION VALUE="">- {trans("none")} -</OPTION>
		        	{foreach from=$channels item=item}
			        <OPTION VALUE="{$item.id}" {if $item.id == $netdevinfo.channelid} SELECTED{/if}>{$item.name}</OPTION>
			        {/foreach}
		        </SELECT>
		</TD>
	</TR>
{/if}
                                        </TABLE>
				</TD>
			        <TD WIDTH="50%" style="vertical-align:top;">
			                <TABLE WIDTH="100%" CELLPADDING="3">
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/calendar.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Purchase date:")}</B>
		</TD>
		<TD WIDTH="98%">
			<INPUT TYPE="TEXT" NAME="netdev[purchasedate]" VALUE="{if $netdevinfo.purchasedate}{$netdevinfo.purchasedate}{/if}" SIZE="10" MAXSIZE="10" OnClick="javascript:cal1.popup();" {tip trigger="purchasedate" text="Enter device purchase date in 'yyyy/mm/dd' format or click to choose date from calendar (optional)"}>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/guarantee.png" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Guarantee period:")}</B>
		</TD>
		<TD WIDTH="98%">
			<SELECT SIZE="1" NAME="netdev[guaranteeperiod]" {tip text="Select device guarantee period (optional)"}>
				{foreach from=$_GUARANTEEPERIODS key=key item=period}
				<OPTION VALUE="{$key}"{if $netdevinfo.guaranteeperiod eq $key} SELECTED{/if}>{$period}</OPTION>
				{/foreach}
			</SELECT>
		</TD>
	</TR>
	<TR>
		<TD WIDTH="1%">
			<IMG SRC="img/desc.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>{trans("Description:")}</B>
		</TD>
		<TD WIDTH="98%">
			<TEXTAREA NAME="netdev[description]" COLS="40" ROWS="5" COLS="40" ROWS="5" {tip text="Enter additional information (optional)"}>{$netdevinfo.description}</TEXTAREA>
		</TD>
	</TR>
                                    		</TABLE>
                            		</TD>
                    		</TR>
            		</TABLE>
        	</TD>
	</TR>
	</FORM>
	<TR>
		<TD WIDTH="100%" COLSPAN="3" ALIGN="RIGHT">
			{if $replacelisttotal>1}
			<FORM METHOD="GET" ACTION="?m=netdevedit" NAME="replace">
			<INPUT type="submit" class="hiddenbtn">
			<INPUT TYPE="HIDDEN" NAME="m" VALUE="netdevedit">
			<INPUT TYPE="HIDDEN" NAME="id" VALUE="{$netdevinfo.id}">
			<INPUT TYPE="HIDDEN" NAME="action" VALUE="replace">
			<A HREF="javascript:document.replace.submit(); ">{trans("Replace with:")}</A>
			<SELECT NAME="netdev" {tip trigger="replace" text="Select from list device for replacement"}>
				{section name=replacelist loop=$replacelist}
				{if $replacelist[replacelist].id != $netdevinfo.id}
				{assign var=netdevname value=$replacelist[replacelist].name}
				{if $replacelist[replacelist].producer}{assign var=netdevname value=$netdevname|cat:" / "|cat:$replacelist[replacelist].producer}{/if}
				{if $replacelist[replacelist].location}{assign var=netdevname value=$netdevname|cat:" ("|cat:$replacelist[replacelist].location|cat:")"}{/if}
				<OPTION VALUE="{$replacelist[replacelist].id}">{$netdevname|truncate:120:"..."}</OPTION>
				{/if}
				{/section}
			</SELECT>
			</FORM>
			{/if}
			<A HREF="javascript:document.netdevedit.submit();" ACCESSKEY="S">{trans("Submit")} <IMG SRC="img/save.gif" alt=""></A>
			<A HREF="?m=netdevinfo&id={$netdevinfo.id}">{trans("Cancel")} <IMG SRC="img/cancel.gif" alt=""></A>
		</TD>
	</TR>
        </TBODY>
</TABLE>
<SCRIPT type="text/javascript">
<!--
BUL_TIMECOMPONENT = false;
var cal1 = new calendar(document.forms['netdevedit'].elements['netdev[purchasedate]']);
check_teryt('location', true);
//-->
</SCRIPT>
