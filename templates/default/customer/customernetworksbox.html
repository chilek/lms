{css}

{tab_container id="customernetworksbox"}

	{tab_header content_id="networkspanel-`$layout.module`"}
		{tab_header_cell icon="lms-ui-icon-network"}
			<strong>{t a=$customernetworks|@count|default:"0"}Customer Networks ($a):{/t}</strong>
		{/tab_header_cell}
		{tab_header_cell}
			{if $customerinfo.status != $smarty.const.CSTATUS_INTERESTED && !$customerinfo.deleted}
				<A href="?m=netadd&ownerid={$customerinfo.id}">{trans("New Network")} &raquo;</A>
			{/if}
		{/tab_header_cell}
	{/tab_header}

	{tab_contents id="networkspanel-`$layout.module`"}

		{tab_table}

			{if $customernetworks}
			<div class="lms-ui-tab-table-row header">
				<div class="lms-ui-tab-table-wrapper col-4">
					<div class="lms-ui-tab-table-column name">
						{trans("Name:")}
					</div>

					<div class="lms-ui-tab-table-wrapper col-3">
						<div class="lms-ui-tab-table-column id">
							{trans("ID:")}
						</div>
						<div class="lms-ui-tab-table-column address">
							{trans("Address:")}
						</div>
						<div class="lms-ui-tab-table-column host">
							{trans("Host:")}
						</div>
					</div>
				</div>

				<div class="lms-ui-tab-table-column buttons">
				</div>
			</div>
			{/if}

			{foreach $customernetworks as $network}
				<div class="lms-ui-tab-table-row{if $network.disabled} blend{/if}" data-target-url="?m=netinfo&id={$network.id}">
					<div class="lms-ui-tab-table-wrapper col-4">
						<div class="lms-ui-tab-table-column name">
							<strong>{$network.name}</strong>
							{if $network.location}<BR>
								<br><strong>{$network.location|truncate:60:"...":true}</strong>
							{/if}
						</div>

						<div class="lms-ui-tab-table-wrapper col-3">
							<div class="lms-ui-tab-table-column id">
								({$network.id|string_format:"%04d"})
							</div>
							<div class="lms-ui-tab-table-column address">
								{$network.ip}
							</div>
							<div class="lms-ui-tab-table-column host">
								{$network.hostname}
							</div>
						</div>
					</div>

					<div class="lms-ui-tab-table-column buttons">
						<A href="?m=netedit&networkset&id={$network.id}">
							<i class="lms-ui-icon-{if $network.disabled}disconnected{else}connected{/if}"
									title="{if $network.disabled}{trans("Connect")}{else}{trans("Disconnect")}{/if}"></i>
						</A>
						<A href="?m=netdel&id={$network.id}" class="lms-ui-delete-button"
								onClick="return confirmLink(this, '{t a=$network.name}Are you sure, you want to remove network \'$a\' from database?{/t}')">
							<i title="{trans("Delete")}"></i>
						</A>
						<A href="?m=netedit&id={$network.id}" class="lms-ui-edit-button">
							<i title="{trans("Edit")}"></i>
						</A>
						<A href="?m=netinfo&id={$network.id}" class="lms-ui-info-button">
							<i title="{trans("Info")}"></i>
						</A>&nbsp;
					</div>
				</div>

			{foreachelse}
			<div class="lms-ui-tab-empty-table{if $customerinfo.deleted} red{/if}">
				{if $customerinfo.deleted}
					{trans("That customer has been deleted.")}
				{else}
					{trans("That customer hasn't got any network.")}
				{/if}
			</div>
			{/foreach}

		{/tab_table}

	{/tab_contents}
{/tab_container}
