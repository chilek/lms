<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--// $Id$ //-->
<html><head>
<meta name="GENERATOR" content="LMS {$layout.lmsv}">
<meta http-equiv="Content-Language" content="{$LANGDEFS.$_ui_language.html}">
<meta http-equiv="Content-Type" content="text/html; charset={$LANGDEFS.$_ui_language.charset}">
<title>::: LMS :{if $layout.pagetitle neq ""} {$layout.pagetitle} :{/if}::</title>
<link href="img/style.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="img/common.js"></SCRIPT>
</head>
<body>
<script type="text/javascript">
<!--
	var targetfield = window.opener.targetfield;

	function SaveForm()
	{
		var result = '';

		for (var i=0; i<document.nodelist.elements.length; i++)
		{
			var e = document.nodelist.elements[i];
			if (e.name != 'allbox' && e.checked)
				result += e.value + ',';
		}

		sendvalue(targetfield, result);
		window.close();
	}
//-->
</script>
<form name="nodelist">
<table width="100%" cellpadding="3" id="table">
	{cycle values="light,lucid" print=false}
	{if $nodelist.total > 0}
	{section name=nodelist loop=$nodelist}
	{if $nodelist[nodelist].id}
	<tr class="{cycle}{if ! $nodelist[nodelist].access} blend{/if}" onmouseover="addClass(this, 'highlight')" onmouseout="removeClass(this, 'highlight')">
		<td width="1%">
			<input type="checkbox" class="box {cycle print=false}{cycle}" name="nodes" value="{$nodelist[nodelist].id}">
		</td>
		<td width="99%" style="vertical-align: top;">
			<table width="100%">
			    <tr>
				<td width="1%"><img src="img/node.gif" alt=""></td>
				<td width="99%"><b>{$nodelist[nodelist].name}</b></td>
			    </tr>
			    <tr>
				<td width="1%"><img src="img/ip.gif" alt=""></td>
				<td width="99%"><nobr>{$nodelist[nodelist].ip} {if $nodelist[nodelist].ip_pub!="0.0.0.0"} ({$nodelist[nodelist].ip_pub}) {/if} / {$nodelist[nodelist].mac}</nobr></td>
			    </tr>
			    {if $nodelist[nodelist].location}
			    <tr>
				<td width="1%"><img src="img/home.gif" alt=""></td>
				<td width="99%"><nobr>{$nodelist[nodelist].location|truncate:60:"...":true}</nobr></td>
			    </tr>
			    {/if}
			</table>
		</td>
	</tr>
	{/if}
	{/section}
	{else}
	<tr>
		<td width="100%" colspan="3" align="center">
			<p>&nbsp;</p>
			<p><b>{trans("That customer hasn't got any node.")}</b></p>
			<p>&nbsp;</p>
		</td>
	</tr>
	{/if}
	<tr>
		<td width="100%" colspan="3" align="center">
		    <table width="100%" cellpadding="3" id="table">
			<tr>
			    <td align="left">
			    	{if $nodelist.total > 0}
				<nobr><input class="box" type="checkbox" name="allbox" id="allbox" onchange="CheckAll('nodelist', this)" value="1"><label for="allbox">{trans("Check All")}</label></nobr>
				{/if}
			    </td>
			    <td align="right">
				<nobr><a href="javascript:SaveForm();">{trans("Close")} <img src="img/save.gif" alt=""></a></nobr>
			    </td>
			</tr>
		    </table>
		</td>
	</tr>
</table>
</form>
</body>
</html>
