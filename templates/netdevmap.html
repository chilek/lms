{include file="header.html"}
<!--// $Id$ //-->
<H1>{$layout.pagetitle}</H1>
{if $emptydb}
    <TABLE WIDTH="100%"><TR><TD WIDTH="100%" ALIGN="Center">
	<BR><BR><B><FONT COLOR="RED">{t}No such devices in database.{/t}</FONT></B>
    </TD></TR></TABLE>
{elseif !$ming && $type == 'flash'}
    <TABLE WIDTH="100%"><TR><TD WIDTH="100%" ALIGN="Center">
	<BR><BR><B><FONT COLOR="RED">{t}Your PHP does not support Ming library required for map generation!{/t}</FONT></B>
    </TD></TR></TABLE>
{elseif $ming && (!$type || $type=='flash')}
<P ALIGN="CENTER">
<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" WIDTH="100%" HEIGHT="400" id="intro" ALIGN="">
<PARAM NAME=movie VALUE="?m=netdevmap&graph=flash&start={$start}"> <PARAM NAME=loop VALUE=false> <PARAM NAME=quality VALUE=high> <PARAM NAME=bgcolor VALUE=#EBE4D6> <EMBED src="?m=netdevmap&graph=flash&start={$start}" loop=false quality=high bgcolor=#EBE4D6 WIDTH="100%" HEIGHT="400" NAME="map" ALIGN=""
  TYPE="application/x-shockwave-flash" PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED>
</OBJECT>
</P>
{elseif $gd} {* default if $type is not set or not 'flash' *}
<P ALIGN="CENTER">
<IMG SRC="?m=netdevmap&graph=true&start={$start}" ALT="" USEMAP="#devices" BORDER="0">
<MAP NAME="devices">
{section name=devicemap loop=$devicemap}
    <AREA SHAPE="CIRCLE" COORDS="{$devicemap[devicemap].x},{$devicemap[devicemap].y},10"  HREF="?m=netdevinfo&id={$devicemap[devicemap].id}">
{/section}
{section name=nodemap loop=$nodemap}
    <AREA SHAPE="CIRCLE" COORDS="{$nodemap[nodemap].x},{$nodemap[nodemap].y},10"  HREF="?m=nodeinfo&id={$nodemap[nodemap].id}">
{/section}
</MAP>
</P>
{else}
    <TABLE WIDTH="100%"><TR><TD WIDTH="100%" ALIGN="Center">
	<BR><BR><B><FONT COLOR="RED">{t}Your PHP does not support GD library required for map generation!{/t}</FONT></B>
    </TD></TR></TABLE>
{/if}
{if !$emptydb}
<P ALIGN="CENTER"><FORM METHOD="GET" ACTION="?m=netdevmap" NAME="x">
	{t}Start map from:{/t}
	<INPUT TYPE="hidden" NAME="m" VALUE="netdevmap">
	<SELECT SIZE="1" NAME="start" onChange="document.x.submit();">
		{section name=a loop=$deviceslist}
		<OPTION VALUE="{$deviceslist[a].id}"{if $deviceslist[a].id eq $start} SELECTED{/if}>{$deviceslist[a].name}</OPTION>
		{/section}
	</SELECT>
	<INPUT TYPE="SUBMIT" VALUE="{t}Generate{/t}">
</FORM></P>
{/if}
{include file="footer.html"}
