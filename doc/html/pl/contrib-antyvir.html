<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Antywirus</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="LMS - LAN Management System 1.11-cvs"
HREF="index.html"><LINK
REL="UP"
TITLE="Dodatki"
HREF="contrib.html"><LINK
REL="PREVIOUS"
TITLE="OstrzeĹźenia + squid"
HREF="contrib-squid.html"><LINK
REL="NEXT"
TITLE="Userpanel"
HREF="userpanel.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="../images/style.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#EBE4D6"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>LMS - LAN Management System 1.11-cvs</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="contrib-squid.html"
ACCESSKEY="P"
>Poprzedni</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Rozdzia&#322; 8. Dodatki</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="userpanel.html"
ACCESSKEY="N"
>Nast&#281;pny</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="CONTRIB-ANTYVIR"
>8.5. Antywirus</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="CONTRIB-ANTYVIR-INTRO"
>8.5.1. WstÄp</A
></H2
><P
>WiÄkszoĹÄ z nas miaĹa problemy z zawirusowanymi komputerami.
               RĂłĹźni ludzie majÄ rĂłĹźne podejĹcie do problemu. Skrypt lms-antyvir
               wykrywa wirusy zagraĹźajÄce stabilnoĹci sieci. Jest oparty na programie
               tcpdump, przy pomocy ktĂłrego moĹźemy sprĂłbowaÄ wykryÄ wirusy/trojany
               same siÄ rozprzestrzeniajÄce jak Mydoom itp. CechÄ wspĂłlnÄ prawie wszystkich 
               tego typu programĂłw jest skanowanie sieci na portach 135 i 445 oraz 
               dodatkowych w zaleĹźnoĹci od odmiany wirusa. OczywiĹcie MS Windows teĹź korzysta 
               z tych portĂłw, ale nie w takim stopniu. Po wykryciu nadmiernego ruchu
               wyĹwietlana jest informacja na standardowe wyjĹcie lub wĹÄczane jest 
               ostrzeĹźenie ze zdefiniowanym komunikatem.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="CONTRIB-ANTYVIR-CONFIG"
>8.5.2. Konfiguracja</A
></H2
><P
>KonfiguracjÄ lms-antyvir dokonuje siÄ w sekcji <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>[antyvir]</I
></SPAN
> pliku
               <TT
CLASS="FILENAME"
>lms.ini</TT
>, a masz do dyspozycji nastÄpujÄce opcje:</P
><UL
><LI
><P
>logfile</P
><P
>Lokalizacja tymczasowych pliku(Ăłw) z logami tcpdumpa.
                         DomyĹlnie: /tmp/antyvir</P
><P
>PrzykĹad:     <SAMP
CLASS="PROMPT"
>logfile = /var/log/antyvir</SAMP
></P
></LI
><LI
><P
>interfaces</P
><P
>Lista oddzielonych spacjÄ nazw interfejsĂłw, z ktĂłrych tcpdump ma 
                         zbieraÄ dane. DomyĹlnie: eth0</P
><P
>PrzykĹad:     <SAMP
CLASS="PROMPT"
>interfaces = eth0 eth1</SAMP
></P
></LI
><LI
><P
>ports</P
><P
>Lista oddzielonych spacjÄ portĂłw, z ktĂłrych tcpdump ma zbieraÄ dane.
                         Dla kaĹźdego tworzony jest osobny proces, wiÄc nie przesadzaÄ. DomyĹlnie: 135 445</P
><P
>PrzykĹad:     <SAMP
CLASS="PROMPT"
>ports = 445</SAMP
></P
></LI
><LI
><P
>packets</P
><P
>OkreĹla liczbÄ pakietĂłw po odebraniu ktĂłrej tcpdump koĹczy pracÄ.
                         DomyĹlnie: 1000</P
><P
>PrzykĹad:     <SAMP
CLASS="PROMPT"
>packets = 500</SAMP
></P
></LI
><LI
><P
>threshold</P
><P
>OkreĹla liczbÄ pakietĂłw, po przekroczeniu ktĂłrej program uznaje
                         ruch w sieci za podejrzany. DomyĹlnie: 50</P
><P
>PrzykĹad:     <SAMP
CLASS="PROMPT"
>threshold = 100</SAMP
></P
></LI
><LI
><P
>field</P
><P
>Ma to zwiÄzek z tcpdumpem i jego rĂłĹźnymi wersjami. W starszych
                         wersjach powinno byÄ tu 6. Jak to sprawdziÄ? tcpdump -i eth1 -enp -c 1
                         otrzymujemy 00:03:38.613761 0:40:f4:b3:1c:67 0:30:84:b3:bb:8d 0800 1414:
                         10.100.0.52.4314 &#62; 172.181.172.35.4662: .... interesuje nas pole w tym
                         wypadku 6 czyli adres IP nadawcy. DomyĹlnie: 11</P
><P
>PrzykĹad:     <SAMP
CLASS="PROMPT"
>field = 6</SAMP
></P
></LI
><LI
><P
>message</P
><P
>TreĹÄ ostrzeĹźenia, w ktĂłrym moĹźna zastosowaÄ zmiennÄ %DATE dla bieĹźÄcej daty
                         i godziny. JeĹli pusta, ostrzeĹźenie nie zostanie wĹÄczone. DomyĹlnie: pusta</P
><P
>PrzykĹad:     <SAMP
CLASS="PROMPT"
>message = Wykryto wirusa w dniu %DATE</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="contrib-squid.html"
ACCESSKEY="P"
>Poprzedni</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Spis tre&#347;ci</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="userpanel.html"
ACCESSKEY="N"
>Nast&#281;pny</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>OstrzeĹźenia + squid</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="contrib.html"
ACCESSKEY="U"
>Pocz&#261;tek rozdzia&#322;u</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Userpanel</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>