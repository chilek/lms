<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>ModuĹy</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="LMS - LAN Management System 1.11-cvs"
HREF="index.html"><LINK
REL="UP"
TITLE="LMS Daemon"
HREF="daemon.html"><LINK
REL="PREVIOUS"
TITLE="LMS Daemon"
HREF="daemon.html"><LINK
REL="NEXT"
TITLE="T-Script"
HREF="tscript.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="../images/style.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#EBE4D6"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>LMS - LAN Management System 1.11-cvs</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="daemon.html"
ACCESSKEY="P"
>Poprzedni</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Rozdzia&#322; 6. LMS Daemon</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="tscript.html"
ACCESSKEY="N"
>Nast&#281;pny</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DAEMON-MODULES"
>6.2. ModuĹy</A
></H1
><P
>Sam demon potrafi tylko uruchamiaÄ moduĹy i to one odwalajÄ caĹÄ robotÄ. 
	WiÄkszoĹÄ moduĹĂłw jest przeznaczona do okreĹlonego zastosowania, jedynie 'hostfile' 
	moĹźna uĹźywaÄ do rĂłĹźnych konfigĂłw (usĹug), np. rĂłĹźnych typĂłw firewalli.
	Parametry konfiguracyjne moduĹĂłw umieszcza siÄ w sekcjach instancji je wywoĹujÄcych.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-MODULESLIST"
>6.2.1. Lista dostÄpnych moduĹĂłw</A
></H2
><DIV
CLASS="TABLE"
><A
NAME="MODULES-LIST"
></A
><P
><B
>Tabela 6-1. Lista moduĹĂłw demona lmsd</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL
WIDTH="200"
ALIGN="CENTER"><COL
WIDTH="300"
ALIGN="CENTER"><THEAD
><TR
><TH
>Nazwa</TH
><TH
>Opis</TH
></TR
></THEAD
><TBODY
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-SYSTEM"
>system</A
></TD
><TD
>WywoĹywanie poleceĹ powĹoki</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-PARSER"
>parser</A
></TD
><TD
>Parser uniwersalnych skryptĂłw T-Script</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-DHCP"
>dhcp</A
></TD
><TD
>Konfiguracja serwera dhcpd</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-CUTOFF"
>cutoff</A
></TD
><TD
>OdĹÄczanie klientĂłw z zalegĹoĹciami w opĹatach</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-DNS"
>dns</A
></TD
><TD
>Konfiguracja serwera dns</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-ETHERS"
>ethers</A
></TD
><TD
>Tworzenie pliku /etc/ethers</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-HOSTFILE"
>hostfile</A
></TD
><TD
>ModuĹ uniwersalny (np. tworzenie reguĹ iptables)</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-NOTIFY"
>notify</A
></TD
><TD
>Powiadamianie klientĂłw o zalegĹoĹciach w opĹatach pocztÄ elektronicznÄ</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-GGNOTIFY"
>ggnotify</A
></TD
><TD
>Powiadamianie klientĂłw o zalegĹoĹciach w opĹatach przez gadu-gadu</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-PAYMENTS"
>payments</A
></TD
><TD
>Naliczanie opĹat abonamentowych</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-OIDENT"
>oident</A
></TD
><TD
>Konfiguracja oident</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-TC"
>tc</A
></TD
><TD
>Tworzenie reguĹ TC</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-TC-NEW"
>tc-new</A
></TD
><TD
>Tworzenie reguĹ TC (powiÄzania komputerĂłw z taryfami)</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-TRAFFIC"
>traffic</A
></TD
><TD
>Statystyki wykorzystania ĹÄcza</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-PINGER"
>pinger</A
></TD
><TD
>Badanie aktywnoĹci klientĂłw</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-EWX-PT"
>ewx-pt</A
></TD
><TD
>Konfiguracja EtherWerX PPPoE Terminatora</TD
></TR
><TR
><TD
><A
HREF="daemon-modules.html#DAEMON-EWX-STM"
>ewx-stm</A
></TD
><TD
>Konfiguracja EtherWerX Standalone Traffic Managera</TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-SYSTEM"
>6.2.2. System</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="SYSTEM-DESC"
>6.2.2.1. Opis</A
></H3
><P
>Jedyne co robi ten moduĹ to wykonanie zadanego polecenia (listy poleceĹ)
		    powĹoki i/lub komendy SQL. MoĹźe siÄ przydaÄ gdy chcesz podczas przeĹadowania konfiguracji 
		    wykonaÄ jakÄĹ komendÄ lub uruchomiÄ zewnÄtrzny skrypt, na przykĹad jeden 
		    z tych, ktĂłre moĹźesz znaleĹşÄ w katalogu <TT
CLASS="FILENAME"
>/bin</TT
>.
		    W pierwszej kolejnoĹci jest wykonywane polecenie SQL.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="SYSTEM-CONFIG"
>6.2.2.2. Konfiguracja</A
></H3
><P
>W zwiÄzku z powyĹźszym moĹźesz zdefiniowaÄ jedynie treĹÄ polecenia SQL lub
		    shella. PowĹoka powinna sobie takĹźe poradziÄ z listÄ poleceĹ oddzielonych 
		    Ĺrednikami:</P
><UL
><LI
><P
>sql</P
><P
>Polecenie SQL. DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>sql = 'DELETE FROM stats WHERE dt &#60; %NOW% - 365*86400'</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie powĹoki. DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = 'echo -n "tu moduĹ "; echo "system"'</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-PAYMENTS"
>6.2.3. Payments</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="PAYMENTS-DESC"
>6.2.3.1. Opis</A
></H3
><P
>ModuĹ nalicza opĹaty abonamentowe klientĂłw oraz opĹaty staĹe. NaleĹźy go uruchamiaÄ 
		    codziennie. OpĹaty naliczane na podstawie przypisanych klientowi
		    taryf zapisywane sÄ do bazy wraz z komentarzem okreĹlonym zmiennÄ 'comment'.
		    Po naliczeniu opĹat tworzone sÄ faktury. Komentarz do opĹaty staĹej to zlepek
		    skĹadajÄcy siÄ z jej nazwy oraz wierzyciela. Na koĹcu usuwane sÄ z bazy nieaktualne
		    obciÄĹźenia klientĂłw.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="PAYMENTS-CONFIG"
>6.2.3.2. Konfiguracja</A
></H3
><P
>Dla tego moduĹu sÄ dostÄpne nastÄpujÄce zmienne konfiguracyjne:</P
><UL
><LI
><P
>comment</P
><P
>Komentarz do operacji. '%period' zostanie zamienione na daty od-do 
			    naleĹźnego abonamentu, np. '2003/10/10 - 2003/11/09', '%tariff' na nazwÄ
			    odpowiedniej taryfy/zobowiÄzania, %month na peĹnÄ nazwÄ bieĹźÄcego
			    miesiÄca, a %year na bieĹźÄcy rok. DomyĹlnie: 'Subscription: '%tariff' for period: %period'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>comment = 'Abonament miesiÄczny za okres %period' </SAMP
></P
></LI
><LI
><P
>settlement_comment</P
><P
>Komentarz do operacji wyrĂłwnania. '%period' zostanie zamienione na daty od-do 
			    okresu wyrĂłwnania, np. '2003/10/20 - 2003/11/09', a '%tariff' na nazwÄ
			    odpowiedniej taryfy. DomyĹlnie odpowiada opcji <SAMP
CLASS="PROMPT"
>comment</SAMP
>.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>settlement_comment = 'WyrĂłwnanie za okres %period'</SAMP
></P
></LI
><LI
><P
>up_payments</P
><P
>"Naliczanie z gĂłry", czyli czy okres w komentarzu ma byÄ liczony do 
			    przodu, czy do tyĹu w stosunku do daty naliczenia opĹaty. DomyĹlnie: yes.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>up_payments = no</SAMP
></P
></LI
><LI
><P
>expiry_days</P
><P
>OkreĹla liczbÄ dni od daty wygaĹniÄcia przypisanych klientowi zobowiÄzaĹ, 
			    po ktĂłrej dane tego zobowiÄzania zostanÄ usuniÄte z bazy. Przy ustawieniu na '0' dane
			    zostanÄ usuniÄte natychmiast po dacie, do ktĂłrej obowiÄzywaĹo zobowiÄzanie. DomyĹlnie: 30.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>expiry_days = 365</SAMP
></P
></LI
><LI
><P
>deadline</P
><P
>Termin pĹatnoĹci podany w dniach. DomyĹlnie: 14.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>deadline = 21</SAMP
></P
></LI
><LI
><P
>paytype</P
><P
>Rodzaj pĹatnoĹci. DomyĹlnie: 'TRANSFER'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>paytype = 'GOTĂWKA'</SAMP
></P
></LI
><LI
><P
>numberplan</P
><P
>ID planu numeracyjnego faktur. 
				DomyĹlnie: 0 (plan domyĹlny).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>numberplan = 0</SAMP
></P
></LI
><LI
><P
>check_invoices</P
><P
>WĹÄcza automatyczne oznaczanie faktur jako rozliczonych
				dla klientĂłw z bilansem wiÄkszym rĂłwnym zero.
				DomyĹlnie: wyĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>check_invoices = 1</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
				DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>excluded_networks</P
><P
>Lista nazw sieci, ktĂłre majÄ pominiÄte. WielkoĹÄ liter nie ma znaczenia.
					DomyĹlnie: pusta (Ĺźadna).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_networks = "lan3 lan4"</SAMP
></P
></LI
><LI
><P
>customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
				DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>customergroups = "grupa1 grupa2"</SAMP
></P
></LI
><LI
><P
>excluded_customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ pominiÄte. WielkoĹÄ liter nie ma znaczenia. 
					DomyĹlnie: pusta (Ĺźadna).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_customergroups = "grupa3 grupa4"</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-NOTIFY"
>6.2.4. Notify</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="NOTIFY-DESC"
>6.2.4.1. Opis</A
></H3
><P
>ModuĹ 'notify' sĹuĹźy do informowania klientĂłw o zalegĹoĹciach
		    w opĹatach za pomocÄ poczty elektronicznej. Aktualne saldo klienta
		    porĂłwnywane jest ze zmiennÄ 'limit', jeĹli jest niĹźsze - wiadomoĹÄ
		    zostaje wysĹana. TreĹÄ wiadomoĹci pobierana jest z przygotowanego szablonu, 
		    w ktĂłrym moĹźna stosowaÄ nastÄpujÄce zmienne:
		    <UL
><LI
><P
>%saldo - aktualne saldo klienta (takĹźe %B)</P
></LI
><LI
><P
>%b - wartoĹÄ bezwzglÄdna aktualnego salda klienta</P
></LI
><LI
><P
>%pin - PIN klienta</P
></LI
><LI
><P
>%name - imiÄ klienta</P
></LI
><LI
><P
>%lastname - nazwisko/nazwa klienta</P
></LI
><LI
><P
>%last_10_in_a_table - wyciÄg ostatnich 10 operacji na kocie klienta</P
></LI
></UL
></P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="NOTIFY-CONFIG"
>6.2.4.2. Konfiguracja</A
></H3
><P
>PoniĹźej przedstawiono dostÄpne opcje konfiguracyjne moduĹu 'notify':</P
><UL
><LI
><P
>template</P
><P
>Lokalizacja pliku z szablonem wiadomoĹci. DomyĹlnie: pusty</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>template = modules/notify/sample/mailtemplate</SAMP
></P
></LI
><LI
><P
>file</P
><P
>Lokalizacja pliku tymczasowego. DomyĹlnie: /tmp/mail</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /tmp/mail.txt</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie powĹoki wysyĹajÄce e-maila. '%address' zostanie zastÄpione
			    adresem e-mail klienta. DomyĹlnie: 'mail -s "Liabilities Information" %address &lt; /tmp/mail'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = 'mail %address -s "musisz zapĹaciÄ, bo jak nie..." &lt; /tmp/mail.txt'</SAMP
></P
></LI
><LI
><P
>limit</P
><P
>WiadomoĹÄ o zalegĹoĹciach zostaje wysĹana jeĹli saldo klienta 
			    spadnie poniĹźej kwoty okreĹlonej zmiennÄ limit. DomyĹlnie: 0</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>limit = -20</SAMP
></P
></LI
><LI
><P
>debug_mail</P
><P
>OkreĹla adres na ktĂłry zostanÄ wysĹane wszystkie wiadomoĹci, przydatne
			    podczas testĂłw. DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>debug_mail = localhost@moja.net</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-GGNOTIFY"
>6.2.5. Ggnotify</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="GGNOTIFY-DESC"
>6.2.5.1. Opis</A
></H3
><P
>Odpowiednik moduĹu 'notify' sĹuĹźÄcy do wysyĹania wiadomoĹci gadu-gadu.
		    Aktualne saldo klienta porĂłwnywane jest ze zmiennÄ 'limit', jeĹli jest niĹźsze 
		    - wiadomoĹÄ zostaje wysĹana. TreĹÄ wiadomoĹci pobierana jest z przygotowanego szablonu, 
		    w ktĂłrym moĹźna stosowaÄ zmienne takie jak dla moduĹu 'notify' (moĹźe to byÄ teĹź ten sam 
		    szablon).</P
><P
>ModuĹ wymaga zainstalowanej biblioteki <TT
CLASS="FILENAME"
>libgadu</TT
> oraz ĹşrĂłdeĹ
		    programu <TT
CLASS="FILENAME"
>ekg</TT
>. Odpowiednie ĹcieĹźki do nich naleĹźy ustawiÄ
		    w <TT
CLASS="FILENAME"
>modules/ggnotify/Makefile</TT
> przed kompilacjÄ moduĹu.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="GGNOTIFY-CONFIG"
>6.2.5.2. Konfiguracja</A
></H3
><P
>Podobnie jak w 'notify' masz do dyspozycji nastÄpujÄce zmienne:</P
><UL
><LI
><P
>template</P
><P
>Lokalizacja pliku z szablonem wiadomoĹci. DomyĹlnie: pusty.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>template = modules/ggnotify/sample/mailtemplate</SAMP
></P
></LI
><LI
><P
>uin</P
><P
>Identyfikator gadu-gadu uĹźytkownika wysyĹajÄcego wiadomoĹci. 
			    DomyĹlnie: pusty.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>uin = 1234567</SAMP
></P
></LI
><LI
><P
>password</P
><P
>HasĹo dla konta okreĹlonego zmiennÄ 'uin'. DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>password = "moje_trudne__hasĹo"</SAMP
></P
></LI
><LI
><P
>limit</P
><P
>WiadomoĹÄ o zalegĹoĹciach zostaje wysĹana jeĹli saldo klienta 
			    spadnie poniĹźej kwoty okreĹlonej zmiennÄ limit. DomyĹlnie: 0</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>limit = -20</SAMP
></P
></LI
><LI
><P
>debug_uin</P
><P
>JeĹli ustawione, na to konto zostanÄ wysĹane wszystkie wiadomoĹci.
			    DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>debug_uin = 7654321</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-CUTOFF"
>6.2.6. Cutoff</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="CUTOFF-DESC"
>6.2.6.1. Opis</A
></H3
><P
>Cutoff zmienia status komputerĂłw na 'odĹÄczony' i/lub wĹÄcza ostrzeĹźenia
		    klientom, ktĂłrzy majÄ na koncie zalegĹoĹci wiÄksze niĹź okreĹlony limit. 
		    Ponadto odĹÄcza komputery klientĂłw, ktĂłrym wygasĹy wszystkie zobowiÄzania
		    lub sÄ one zawieszone. Ten moduĹ nie zajmuje siÄ fizycznym blokowaniem
		    dostÄpu do sieci.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="CUTOFF-CONFIG"
>6.2.6.2. Konfiguracja</A
></H3
><P
>Dla moduĹu 'cutoff' mamy nastÄpujÄce opcje:</P
><UL
><LI
><P
>limit</P
><P
>OdĹÄczenie nastÄpuje jeĹli saldo klienta spadnie poniĹźej
			    wartoĹci okreĹlonej jako kwota lub wartoĹÄ procentowa sumy miesiÄcznych
			    zobowiÄzaĹ klienta (ze znakiem '%'). DomyĹlnie: 0.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>limit = -20</SAMP
></P
></LI
><LI
><P
>command</P
><P
>OkreĹla komendÄ systemowÄ, ktĂłra zostanie wywoĹana jeĹźeli co najmniej
			    jeden klient zostanie odĹÄczony lub zostanie wĹÄczone ostrzeĹźenie. 
			    DomyĹlnie: nieustawiona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = 'lmsd -qi firewall'</SAMP
></P
></LI
><LI
><P
>warning</P
><P
>WĹÄcza ostrzeĹźenie dla odĹÄczanego klienta i przypisuje mu 
			    okreĹlonÄ w tej opcji treĹÄ. JeĹźeli pusta, ostrzeĹźenie nie bÄdzie wĹÄczane.
			    Data w ostrzeĹźeniu ukryta jest pod zmiennÄ '%time'. MoĹźesz takĹźe uĹźyÄ
			    zmiennych: %B dla rzeczywistego salda klienta oraz %b dla salda bez znaku.
			    Saldo liczone jest w chwili wykonania moduĹu cutoff, a nie wyĹwietlenia
			    komunikatu w przeglÄdarce klienta.
			    DomyĹlnie: 'Blocked automatically due to payment deadline override at %time".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>warning = ""</SAMP
></P
></LI
><LI
><P
>expired_warning</P
><P
>WĹÄcza ostrzeĹźenie dla odĹÄczanego klienta i przypisuje mu 
				okreĹlonÄ w tej opcji treĹÄ. JeĹźeli pusta, ostrzeĹźenie nie bÄdzie wĹÄczane.
				Dotyczy klientĂłw, ktĂłrym wygasĹy zobowiÄzania.
				Data w ostrzeĹźeniu ukryta jest pod zmiennÄ '%time'.
				DomyĹlnie: 'Blocked automatically due to tariff(s) expiration at %time".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>expired_warning = ""</SAMP
></P
></LI
><LI
><P
>warnings_only</P
><P
>Ta opcja pozwala zdecydowaÄ, czy chcemy uĹźyÄ naszego 
			    moduĹu wyĹÄcznie do wĹÄczania ostrzeĹźeĹ. DziaĹa tylko w stosunku do 
			    klientĂłw, ktĂłrzy posiadajÄ aktywne zobowiÄzania. Klienci, ktĂłrym 
			    wygasĹy zobowiÄzania, zostanÄ odĹÄczeni mimo wĹÄczenia tej opcji. 
			    DomyĹlnie: wyĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>warnings_only = true</SAMP
></P
></LI
><LI
><P
>setnodegroup_only</P
><P
>Ta opcja pozwala zdecydowaÄ, czy chemy przypisaÄ do wybranej grupy 
			komputery klienta, zamiast zmieniaÄ jego status lub wĹÄczaÄ ostrzeĹźenie. Do grupa 
			o podanej nazwie zostanÄ przypisane wszystkie komputery klienta, ktĂłry przekroczyĹ
			limit zadĹuĹźenia, albo posiada nierozliczone faktury (jeĹli wĹÄczono 
			check_invoices).
			DomyĹlnie: pusta.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>setnodegroup_only = ograniczony_dostep</SAMP
></P
></LI
><LI
><P
>use_nodeassignments</P
><P
>JeĹli stosujesz powiÄzywanie komputerĂłw z zobowiÄzaniami
				powinieneĹ wĹÄczyÄ tÄ opcjÄ. W przeciwnym wypadku bÄdÄ sprawdzane
				powiÄzania taryf z klientami. DomyĹlnie: wyĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>use_nodeassignments = true</SAMP
></P
></LI
><LI
><P
>use_customerassignments</P
><P
>JeĹli chciaĹbyĹ pominÄÄ sprawdzanie zobowiÄzaĹ klientĂłw 
				powinieneĹ wĹÄczyÄ tÄ opcjÄ. DomyĹlnie: wĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>use_customerassignments = false</SAMP
></P
></LI
><LI
><P
>disable_suspended</P
><P
>WĹÄczenie tej opcji spowoduje odĹaczenie takĹźe klientĂłw,
				ktĂłrych wszystkie obowiÄzujÄce zobowiÄzania sÄ zawieszone. 
				DomyĹlnie: wyĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>disable_suspended = true</SAMP
></P
></LI
><LI
><P
>check_invoices</P
><P
>Opcja wĹÄcza dodatkowe sprawdzenie czy klient posiada nierozliczone
				faktury z dniem pĹatnoĹci starszym o okreĹlonÄ w opcji 'deadline'
				iloĹÄ dni. DomyĹlnie: wyĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>check_invoices = true</SAMP
></P
></LI
><LI
><P
>deadline</P
><P
>OkreĹla okres w dniach (liczÄc od terminu pĹatnoĹci faktury), 
				po ktĂłrym nierozliczona faktura jest brana pod uwagÄ przy zastosowaniu
				opcji 'check_invoices'. DomyĹlnie, klient zostanie zablokowany od razu
				po terminie pĹatnoĹci. DomyĹlnie: 0.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>deadline = 30</SAMP
></P
></LI
><LI
><P
>customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
					DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>customergroups = "grupa1 grupa2"</SAMP
></P
></LI
><LI
><P
>excluded_customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ pominiÄte. WielkoĹÄ liter nie ma znaczenia. 
					DomyĹlnie: pusta (Ĺźadna).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_customergroups = "grupa3 grupa4"</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
				DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>excluded_networks</P
><P
>Lista nazw sieci, ktĂłre majÄ pominiÄte. WielkoĹÄ liter nie ma znaczenia.
					DomyĹlnie: pusta (Ĺźadna).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_networks = "lan3 lan4"</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-DHCP"
>6.2.7. Dhcp</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DHCP-DESC"
>6.2.7.1. Opis</A
></H3
><P
>ModuĹ zarzÄdzajÄcy serwerem DHCP, tworzy plik konfiguracyjny oraz
		    restartuje usĹugÄ. Zmienna 'command' umoĹźliwia rĂłwnieĹź wykonywanie innych 
		    czynnoĹci (programĂłw).</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DHCP-CONFIG"
>6.2.7.2. Konfiguracja</A
></H3
><P
>WiÄkszoĹÄ parametrĂłw konfiguracyjnych odpowiada fragmentom 
		    pliku konfiguracyjnego dhcpd, ktĂłre w typowych zastosowaniach
		    nie wymagajÄ zmiany:</P
><UL
><LI
><P
>file</P
><P
>OkreĹla lokalizacjÄ pliku konfiguracyjnego serwera dhcp. 
			    DomyĹlnie: /etc/dhcpd.conf.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /etc/dhcpd.conf</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie wykonywane po utworzeniu pliku konfiguracyjnego. 
			    DomyĹlnie: 'killall dhcpd; /usr/sbin/dhcpd'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = 'service dhcp restart'</SAMP
></P
></LI
><LI
><P
>begin</P
><P
>NagĹĂłwek pliku. DomyĹlnie: pusty.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>begin = "authoritative;"</SAMP
></P
></LI
><LI
><P
>end</P
><P
>Stopka pliku. DomyĹlnie: pusty.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>end = ""</SAMP
></P
></LI
><LI
><P
>subnet_start</P
><P
>NagĹĂłwek podsieci. '%a' - nazwa, '%m' - maska, %b - broadcast. 
			    DomyĹlnie: "subnet %a netmask %m {\ndefault-lease-time 86400;\nmax-lease-time 86400;".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>subnet_start = "subnet %a netmask %m {default-lease-time 3600;"</SAMP
></P
></LI
><LI
><P
>subnet_end</P
><P
>Stopka podsieci. DomyĹlnie: "}".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>subnet_end = '\t}'</SAMP
></P
></LI
><LI
><P
>subnet_gateway</P
><P
>Brama podsieci. '%i' zostanie zamienione na adres ip. DomyĹlnie: "option routers %i;".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>subnet_gateway = "option routers %i"</SAMP
></P
></LI
><LI
><P
>subnet_dns</P
><P
>DNS'y podsieci. '%i - adresy dns'Ăłw. DomyĹlnie: "option domain-name-servers %i;".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>subnet_dns = "option domain-name-servers 192.168.0.1"</SAMP
></P
></LI
><LI
><P
>subnet_domain</P
><P
>Nazwa domenowa podsieci. '%n' - nazwa. DomyĹlnie: 'option domain-name "%n";'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>subnet_domain = 'option domain-name "test.%n";'</SAMP
></P
></LI
><LI
><P
>subnet_wins</P
><P
>Serwery wins. '%i' - adres ip serwera. DomyĹlnie: "option netbios-name-servers %i;".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>subnet_wins = ""</SAMP
></P
></LI
><LI
><P
>subnet_range</P
><P
>Zakres adresĂłw podsieci. '%s' - adres poczÄtkowy, '%e' - koniec zakresu. DomyĹlnie: "range %s %e;".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>subnet_range = "range %s %e;"</SAMP
></P
></LI
><LI
><P
>host</P
><P
>Parametry hostĂłw, gdzie '%n' - nazwa hosta, '%m' - MAC, '%i' - adres ip. 
			    DomyĹlnie: "\thost %n {\n\t\thardware ethernet %m; fixed-address %i; \n\t}".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host = "host %n {hardware ethernet %m; fixed-address %i;}"</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
			    DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
			    DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>customergroups = "grupa1 grupa2"</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-HOSTFILE"
>6.2.8. Hostfile</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="HOSTFILE-DESC"
>6.2.8.1. Opis</A
></H3
><P
>ModuĹ 'hostfile' jest doĹÄ uniwersalnym narzÄdziem. PoniewaĹź 
		    wykonuje pÄtlÄ po wszystkich komputerach (oraz adresach urzÄdzeĹ sieciowych)
			w bazie rozrĂłĹźniajÄc ich status podĹÄczenia i ostrzeĹźenia, adresy prywatne 
			i publiczne, a ponadto sieÄ do ktĂłrej sÄ podĹÄczone oraz grupy do ktĂłrych 
			naleĹźÄ ich wĹaĹciciele. 
			DziÄki temu moĹźliwe jest tworzenie np. reguĹ
		    dowolnego firewalla, czy teĹź pliku /etc/hosts. Dane zapisuje do pliku 
		    i nastÄpnie wykonuje okreĹlone polecenie powĹoki.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="HOSTFILE-CONFIG"
>6.2.8.2. Konfiguracja</A
></H3
><P
>W opcjach zawierajÄcych reguĹy hosta moĹźna stosowaÄ specjalne 
			zmienne, ktĂłre podczas zapisu do pliku zostanÄ 
		    zastÄpione odpowiednimi dla danego komputera danymi:
		    <TABLE
BORDER="0"
><TBODY
><TR
><TD
>%i - adres IP,</TD
></TR
><TR
><TD
>%ipub - publiczny adres IP,</TD
></TR
><TR
><TD
>%id - ID komputera,</TD
></TR
><TR
><TD
>%m - mac adres,</TD
></TR
><TR
><TD
>%n - nazwa komputera,</TD
></TR
><TR
><TD
>%p - hasĹo,</TD
></TR
><TR
><TD
>%port - nr portu w urzÄdzeniu, do ktĂłrego jest podĹÄczony komputer,</TD
></TR
><TR
><TD
>%info - opis komputera,</TD
></TR
><TR
><TD
>%l - lokalizacja komputera,</TD
></TR
><TR
><TD
>%devl - lokalizacja urzÄdzenia, do ktĂłrego podĹÄczony jest komputer,</TD
></TR
><TR
><TD
>%domain - domena,</TD
></TR
><TR
><TD
>%net - nazwa sieci, do ktĂłrej naleĹźy host,</TD
></TR
><TR
><TD
>%if - interfejs sieci,</TD
></TR
><TR
><TD
>%addr - adres sieci,</TD
></TR
><TR
><TD
>%mask - maska sieci,</TD
></TR
><TR
><TD
>%prefix - maska sieci w postaci prefixu CIDR,</TD
></TR
><TR
><TD
>%gw - adres bramy,</TD
></TR
><TR
><TD
>%dns, %dns2 - adresy serwerĂłw DNS,</TD
></TR
><TR
><TD
>%dhcps, %dhcpe - poczÄtek i koniec zakresu DHCP,</TD
></TR
><TR
><TD
>%wins - adres serwera WINS,</TD
></TR
><TR
><TD
>%i16 - ostatni oktet adresu IP w formacie szesnastkowym,</TD
></TR
><TR
><TD
>%i16pub - ostatni oktet publicznego adresu IP w formacie szesnastkowym.</TD
></TR
><TR
><TD
>%domainpub - domena sieci publicznej,</TD
></TR
><TR
><TD
>%netpub - nazwa sieci, do ktĂłrej naleĹźy adres publiczny,</TD
></TR
><TR
><TD
>%ifpub - interfejs sieci publicznej,</TD
></TR
><TR
><TD
>%addrpub - adres sieci publicznej,</TD
></TR
><TR
><TD
>%maskpub - maska sieci publicznej,</TD
></TR
><TR
><TD
>%prefixpub - maska sieci publicznej w postaci prefixu CIDR,</TD
></TR
><TR
><TD
>%gwpub - adres bramy w sieci publicznej,</TD
></TR
><TR
><TD
>%dnspub, %dns2pub - adresy serwerĂłw DNS w sieci publicznej,</TD
></TR
><TR
><TD
>%dhcpspub, %dhcpepub - poczÄtek i koniec zakresu DHCP w sieci publicznej,</TD
></TR
><TR
><TD
>%winspub - adres serwera WINS w sieci publicznej,</TD
></TR
><TR
><TD
>%customer - nazwa klienta,</TD
></TR
><TR
><TD
>%cid - ID klienta</TD
></TR
></TBODY
></TABLE
></P
><P
>PoniĹźej opcje udostÄpniane przez ten moduĹ:</P
><UL
><LI
><P
>file</P
><P
>Lokalizacja pliku tymczasowego. DomyĹlnie: /tmp/hostfile</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /etc/rc.d/rc.firewall</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie powĹoki wyk. po utworzeniu pliku 'file'. DomyĹlnie: puste</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = '/bin/sh /etc/rc.d/rc.firewall'</SAMP
></P
></LI
><LI
><P
>begin</P
><P
>NagĹĂłwek pliku tymczasowego. DomyĹlnie: "/usr/sbin/iptables -F FORWARD\n"</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>begin = "IPT=/usr/sbin/iptables \n$IPT -F FORWARD\n"</SAMP
></P
></LI
><LI
><P
>end</P
><P
>Stopka pliku tymczasowego. DomyĹlnie: "/usr/sbin/iptables -A FORWARD -J REJECT\n"</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>end = "$IPT -A FORWARD -J REJECT\n"</SAMP
></P
></LI
><LI
><P
>host_begin</P
><P
>NagĹĂłwek reguĹy hosta. DomyĹlnie: ""</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host_begin = "#%n\n"</SAMP
></P
></LI
><LI
><P
>host_end</P
><P
>Stopka reguĹy hosta. DomyĹlnie: ""</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host_end = "\n"</SAMP
></P
></LI
><LI
><P
>grantedhost</P
><P
>ReguĹa dla hosta podĹÄczonego. DomyĹlnie: "/usr/sbin/iptables -A FORWARD -s %i -m mac --mac-source %m -j ACCEPT\n"</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>grantedhost = "$IPT -A FORWARD -s %i -m mac --mac-source %m -j ACCEPT\n"</SAMP
></P
></LI
><LI
><P
>deniedhost</P
><P
>ReguĹa dla hosta odĹÄczonego. DomyĹlnie: "/usr/sbin/iptables -A FORWARD -s %i -m mac --mac-source %m -j REJECT\n"</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>deniedhost = "$IPT -A FORWARD -s %i -m mac --mac-source %m -j REJECT\n"</SAMP
></P
></LI
><LI
><P
>public_grantedhost</P
><P
>ReguĹa dla hosta podĹÄczonego, ktĂłry posiada adres publiczny. 
				DomyĹlnie reguĹa okreĹlona opcjÄ 'grantedhost'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>public_grantedhost = "$IPT -A FORWARD -s %i -m mac --mac-source %m -j ACCEPT\n$IPT -t nat -A PREROUTING -p tcp -d %ipub -j DNAT --to-destination %i\n$IPT -t nat -A POSTROUTING -s %i -j SNAT --to-source %ipub\n"</SAMP
></P
></LI
><LI
><P
>public_deniedhost</P
><P
>ReguĹa dla hosta odĹÄczonego, ktĂłry posiada adres publiczny. 
				DomyĹlnie reguĹa okreĹlona opcjÄ 'deniedhost'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>public_deniedhost = ""</SAMP
></P
></LI
><LI
><P
>warnedhost</P
><P
>ReguĹa dla hosta z wĹÄczonym ostrzeĹźeniem.
				DomyĹlnie reguĹa okreĹlona opcjÄ 'grantedhost'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>warnedhost = "$IPT -A PREROUTING -s %i --dport 80 -p tcp -j REDIRECT --to-port 82\n"</SAMP
></P
></LI
><LI
><P
>public_warnedhost</P
><P
>ReguĹa dla hosta z wĹÄczonym ostrzeĹźeniem, ktĂłry posiada adres
				publiczny. DomyĹlnie reguĹa okreĹlona opcjÄ 'warnedhost'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>public_warnedhost = ""</SAMP
></P
></LI
><LI
><P
>public_replace</P
><P
>OkreĹla czy reguĹy zdefiniowane dla adresĂłw publicznych majÄ nadpisaÄ
				reguĹy gĹĂłwne, czy zostaÄ dopisane do nich.	DomyĹlnie: wĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>public_replace = false</SAMP
></P
></LI
><LI
><P
>warn_replace</P
><P
>OkreĹla czy reguĹy zdefiniowane dla komputerĂłw z ostrzeĹźeniem majÄ nadpisaÄ reguĹy gĹĂłwne, czy zostaÄ dopisane do nich. DomyĹlnie: wyĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>warn_replace = true</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
			    DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
			    DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>customergroups = "grupa1 grupa2"</SAMP
></P
></LI
><LI
><P
>nodegroups</P
><P
>Lista nazw grup komputerĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
				DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>nodegroups = "grupa1 grupa2"</SAMP
></P
></LI
><LI
><P
>excluded_networks</P
><P
>Lista nazw sieci, ktĂłre nie majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
					DomyĹlnie: pusta.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>excluded_customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre nie majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
					DomyĹlnie: pusta.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_customergroups = "grupa1 grupa2"</SAMP
></P
></LI
><LI
><P
>excluded_nodegroups</P
><P
>Lista nazw grup komputerĂłw, ktĂłre nie majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
					DomyĹlnie: pusta.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_nodegroups = "grupa1 grupa2"</SAMP
></P
></LI
><LI
><P
>skip_dev_ips</P
><P
>JeĹli ustawiona na tak (yes, true) pominiÄte zostanÄ adresy urzÄdzeĹ sieciowych. DomyĹlnie: tak</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>skip_dev_ips = nie</SAMP
></P
></LI
><LI
><P
>skip_host_ips</P
><P
>JeĹli ustawiona na tak (yes, true) pominiÄte zostanÄ adresy komputerĂłw. Uwaga: wĹÄczenie obu opcji 'skip_*_ips' spowoduje ich zignorowanie. DomyĹlnie: nie</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>skip_host_ips = tak</SAMP
></P
></LI
><LI
><P
>share_netdev_pubip</P
><P
>WĹÄczenie tej opcji (yes, true, 1) spowoduje, Ĺźe wszystkim
				adresom urzÄdzenia sieciowego, ktĂłre nie posiadajÄ zdefiniowanego 
				adresu publicznego zostanie przypisany jeden (ten sam) ze zdefiniowanych 
				dla danego urzÄdzenia adresĂłw publicznych. DomyĹlnie: nie</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>share_netdev_pubip = tak</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-TRAFFIC"
>6.2.9. Traffic</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="TRAFFIC-DESC"
>6.2.9.1. Opis</A
></H3
><P
>'Traffic' to odpowiednik perlowego lms-traffic, zapisujÄcy do bazy statystyki
		    wykorzystania ĹÄcza z pliku utworzonego przez uĹźytkownika. Plik taki powinien mieÄ 
		    format: ip_hosta upload download . WiÄcej informacji (w tym jak utworzyÄ taki plik)
		    moĹźna znaleĹşÄ w rozdziale dotyczÄcym lms-traffic.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="TRAFFIC-CONFIG"
>6.2.9.2. Konfiguracja</A
></H3
><P
>ModuĹ posiada trzy opcje:</P
><UL
><LI
><P
>file</P
><P
>Lokalizacja pliku ze statystykami firewalla. DomyĹlnie: /var/log/traffic.log</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /tmp/log</SAMP
></P
></LI
><LI
><P
>begin_command</P
><P
>Polecenie powĹoki wykonywane przed wczytaniem pliku. DomyĹlnie: puste</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>begin_command = 'perl /usr/local/lms/bin/traffic_ipt.pl'</SAMP
></P
></LI
><LI
><P
>end_command</P
><P
>Polecenie powĹoki wykonywane po wczytaniu pliku. DomyĹlnie: puste</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>end_command = 'rm /var/log/traffic.log'</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-TC"
>6.2.10. Tc (HTB)</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="TC-DESC"
>6.2.10.1. Opis</A
></H3
><P
>ModuĹ generujÄcy skrypt zawierajÄcy polecenia iptables i tc sĹuĹźÄce
		    do ograniczania przepĹywnoĹci i limitowania poĹÄczeĹ klientom. ReguĹki dla 
		    komputerĂłw moĹźna dowolnie zdefiniowaÄ i wykorzystaÄ nie tylko do "traffic 
		    control". Zasada dziaĹania skryptu przedstawia siÄ nastÄpujÄco: Najpierw z bazy
		    pobierane sÄ dane dla wszystkich klientĂłw. Obliczane sÄ sumy ograniczeĹ
		    (uprate, downrate, upceil, downceil, limity poĹÄczeĹ) dla kaĹźdego klienta
		    NastÄpnie wykonywana jest pÄtla ze sprawdzeniem przynaleĹźnoĹci do grupy klientĂłw
		    i sieci (jeĹli okreĹlono). JeĹli wartoĹci ograniczeĹ sÄ rĂłĹźne od zera nastÄpuje
		    zapis reguĹ do pliku z podmianÄ zmiennych. W reguĹkach moĹźna stosowaÄ nastÄpujÄce
		    zmienne: %name - nazwa hosta, %i - adres IP, %m - MAC, %if - interfejs, %uprate, %downrate, %upceil, 
		    %downceil, %plimit, %climit, %i16 - ostatni oktet adresu IP w formacie
		    szesnastkowym, %o1, %o2, %o3, %o4 - kolejne oktety adresu IP oraz %x - licznik o wartoĹci poczÄtkowej 100 
		    zwiÄkszany o jeden dla kaĹźdego komputera (lub klienta, w zaleĹźnoĹci od ustawienia
		    opcji <SAMP
CLASS="PROMPT"
>one_class_per_host</SAMP
>).</P
><P
>DomyĹlna polityka tworzenia klas htb zakĹada utworzenie jednej klasy dla
		    wszystkich komputerĂłw klienta. MoĹźe to byÄ zmienione za pomocÄ opcji
		    'one_class_per_host'.</P
><P
>Konfiguracja domyĹlna zakĹada, Ĺźe twĂłj system jest przystosowany
		    do zastosowania htb oraz iptables z moduĹami limit, connlimit, mark i ipp2p.
		    MoĹźesz sam spatchowaÄ jÄdro lub skorzystaÄ ze ĹşrĂłdeĹ dostÄpnych na stronie
		    <A
HREF="http://www.inet.one.pl"
TARGET="_top"
>www.inet.one.pl</A
>.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="TC-CONFIG"
>6.2.10.2. Konfiguracja</A
></H3
><P
>Masz do dyspozycji standardowe parametry takie jak customergroups, file,
		    command, networks i dodatkowo opcje definiujÄce treĹÄ reguĹek tc i firewalla.
		    DomyĹlna konfiguracja przeznaczona jest dla ĹÄcz 512/128 kbit i 100mbit.</P
><UL
><LI
><P
>file</P
><P
>Lokalizacja pliku tymczasowego. DomyĹlnie: /etc/rc.d/rc.htb.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /tmp/rc.htb</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie powĹoki wykonywane po utworzeniu pliku. DomyĹlnie: "sh /etc/rc.d/rc.htb start".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = "chmod 700 /tmp/rc.htb; /tmp/rc.htb start"</SAMP
></P
></LI
><LI
><P
>begin</P
><P
>NagĹĂłwek skryptu. DomyĹlnie:
<PRE
CLASS="SCREEN"
>"#!/bin/sh
IPT=/usr/sbin/iptables
TC=/sbin/tc
LAN=eth0
WAN=eth1
BURST="burst 30k"

stop ()
{
$IPT -t mangle -D FORWARD -i $WAN -j LIMITS &#62;/dev/null 2&#62;&#38;1
$IPT -t mangle -D FORWARD -o $WAN -j LIMITS &#62;/dev/null 2&#62;&#38;1
$IPT -t mangle -F LIMITS &#62;/dev/null 2&#62;&#38;1
$IPT -t mangle -X LIMITS &#62;/dev/null 2&#62;&#38;1
$IPT -t mangle -F OUTPUT
$IPT -t filter -F FORWARD
$TC qdisc del dev $LAN root 2&#62; /dev/null
$TC qdisc del dev $WAN root 2&#62; /dev/null
}

start ()
{
stop
$IPT -t mangle -N LIMITS
$IPT -t mangle -I FORWARD -i $WAN -j LIMITS
$IPT -t mangle -I FORWARD -o $WAN -j LIMITS
# incomming traffic
$IPT -t mangle -A OUTPUT -j MARK --set-mark 1
$TC qdisc add dev $LAN root handle 1:0 htb default 3 r2q 1
$TC class add dev $LAN parent 1:0 classid 1:1 htb rate 99000kbit ceil 99000kbit quantum 1500
$TC class add dev $LAN parent 1:1 classid 1:2 htb rate   500kbit ceil   500kbit
$TC class add dev $LAN parent 1:1 classid 1:3 htb rate 98500kbit ceil 98500kbit prio 9 quantum 1500
$TC qdisc add dev $LAN parent 1:3 esfq perturb 10 hash dst
# priorities for ICMP, TOS 0x10 and ports 22 and 53
$TC class add dev $LAN parent 1:2 classid 1:20 htb rate 50kbit ceil 500kbit $BURST prio 1 quantum 1500
$TC qdisc add dev $LAN parent 1:20 esfq perturb 10 hash dst
$TC filter add dev $LAN parent 1:0 protocol ip prio 2 u32 match ip sport 22 0xffff flowid 1:20
$TC filter add dev $LAN parent 1:0 protocol ip prio 2 u32 match ip sport 53 0xffff flowid 1:20
$TC filter add dev $LAN parent 1:0 protocol ip prio 1 u32 match ip tos 0x10 0xff flowid 1:20
$TC filter add dev $LAN parent 1:0 protocol ip prio 1 u32 match ip protocol 1 0xff flowid 1:20
# serwer -&#62; LAN
$TC filter add dev $LAN parent 1:0 protocol ip prio 4 handle 1 fw flowid 1:3

# outgoing traffic
$TC qdisc add dev $WAN root handle 2:0 htb default 11 r2q 1
$TC class add dev $WAN parent 2:0 classid 2:1 htb rate 120kbit ceil 120kbit
# priorities for ACK, ICMP, TOS 0x10, ports 22 and 53
$TC class add dev $WAN parent 2:1 classid 2:10 htb rate 60kbit ceil 120kbit prio 1 quantum 1500
$TC qdisc add dev $WAN parent 2:10 esfq perturb 10 hash dst
$TC filter add dev $WAN parent 2:0 protocol ip prio 1 u32 match ip protocol 6 0xff \
match u8 0x05 0x0f at 0 match u16 0x0000 0xffc0 at 1 match u8 0x10 0xff at 33 flowid 2:10
$TC filter add dev $WAN parent 2:0 protocol ip prio 1 u32 match ip dport 22 0xffff flowid 2:10
$TC filter add dev $WAN parent 2:0 protocol ip prio 1 u32 match ip dport 53 0xffff flowid 2:10
$TC filter add dev $WAN parent 2:0 protocol ip prio 1 u32 match ip tos 0x10 0xff flowid 2:10
$TC filter add dev $WAN parent 2:0 protocol ip prio 1 u32 match ip protocol 1 0xff flowid 2:10
# serwer -&#62; Internet
$TC class add dev $WAN parent 2:1 classid 2:11 htb rate 30kbit ceil 120kbit prio 2 quantum 1500
$TC qdisc add dev $WAN parent 2:11 esfq perturb 10 hash dst
$TC filter add dev $WAN parent 2:0 protocol ip prio 3 handle 1 fw flowid 2:11
$TC filter add dev $WAN parent 2:0 protocol ip prio 9 u32 match ip dst 0/0 flowid 2:11</PRE
></P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>begin = "#!/bin/bash\n$TC=/usr/local/sbin/tc\n"</SAMP
></P
></LI
><LI
><P
>end</P
><P
>Stopka skryptu. DomyĹlnie:
<PRE
CLASS="SCREEN"
>}

case "$1" in
    'start')
	start
    ;;
    'stop')
	stop
    ;;
    'status')
	echo "WAN Interface"
	echo "============="
	$TC class show dev $WAN | grep root
	$TC class show dev $WAN | grep -v root | sort | nl
	echo "LAN Interface"
	echo "============="
	$TC class show dev $LAN | grep root
	$TC class show dev $LAN | grep -v root | sort | nl
    ;;
    *)
	echo -e "\nUsage: rc.htb start|stop|status"
    ;;
esac</PRE
>
			    </P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>end = ""</SAMP
></P
></LI
><LI
><P
>one_class_per_host</P
><P
>OkreĹla politykÄ tworzenia klas htb. W ustawieniu domyĹlnym
			    wszystkie komputery klienta zostanÄ wrzucone do jednej klasy.
			    Ustawienie tej opcji na 'true' spowoduje, Ĺźe reguĹy okreĹlone w 
			    host_htb_up i host_htb_down zostanÄ wygenerowane dla wszystkich
			    komputerĂłw klienta (z innÄ wartoĹciÄ '%x'). ReguĹy z host_mark_down,
			    host_mark_up, host_plimit i host_climit generowane sÄ dla kaĹźdego
			    komputera niezaleĹźnie od ustawieĹ tej zmiennej. DomyĹlnie: false</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>one_class_per_host = 1</SAMP
></P
></LI
><LI
><P
>limit_per_host</P
><P
>OkreĹla politykÄ tworzenia limitĂłw poĹÄczeĹ/pakietĂłw dla komputerĂłw. W ustawieniu domyĹlnym
			    limit poĹÄczeĹ/pakietĂłw jest dzielony przez iloĹÄ komputerĂłw klienta.
			    WĹÄczenie tej opcji spowoduje, Ĺźe reguĹy okreĹlone w 
			    host_climit i host_plimit zostanÄ wygenerowane dla wszystkich
			    komputerĂłw klienta z wartoĹciÄ $climit i %plimit zdefiniowanÄ w taryfie (nie podzielonÄ przez iloĹÄ komputerĂłw).
				 DomyĹlnie: false</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>limit_per_host = 1</SAMP
></P
></LI
><LI
><P
>host_mark_up</P
><P
>ReguĹa markujÄca dla kaĹźdego komputera. DomyĹlnie:
<PRE
CLASS="SCREEN"
># %n
$IPT -t mangle -A LIMITS -s %i -j MARK --set-mark %x</PRE
>
			    </P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host_mark_up = ""</SAMP
></P
></LI
><LI
><P
>host_mark_down</P
><P
>ReguĹa markujÄca dla kaĹźdego komputera. DomyĹlnie:
<PRE
CLASS="SCREEN"
>$IPT -t mangle -A LIMITS -d %i -j MARK --set-mark %x</PRE
>
			    </P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host_mark_down = ""</SAMP
></P
></LI
><LI
><P
>host_htb_down</P
><P
>Zestaw reguĹ dla kaĹźdego komputera, wykonywanych
			    gdy uprate i downrate sÄ rĂłĹźne od zera. DomyĹlnie:
<PRE
CLASS="SCREEN"
>$TC class add dev $LAN parent 1:2 classid 1:%x htb rate %downratekbit ceil %downceilkbit $BURST prio 2 quantum 1500
$TC qdisc add dev $LAN parent 1:%x esfq perturb 10 hash dst
$TC filter add dev $LAN parent 1:0 protocol ip prio 5 handle %x fw flowid 1:%x</PRE
>
			    </P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host_htb_down = ""</SAMP
></P
></LI
><LI
><P
>host_htb_up</P
><P
>Zestaw reguĹ dla kaĹźdego komputera, wykonywanych
			    gdy uprate i downrate sÄ rĂłĹźne od zera. DomyĹlnie:
<PRE
CLASS="SCREEN"
>$TC class add dev $WAN parent 2:1 classid 2:%x htb rate %upratekbit ceil %upceilkbit $BURST prio 2 quantum 1500
$TC qdisc add dev $WAN parent 2:%x esfq perturb 10 hash dst
$TC filter add dev $WAN parent 2:0 protocol ip prio 5 handle %x fw flowid 2:%x</PRE
>
			    </P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host_htb_up = ""</SAMP
></P
></LI
><LI
><P
>host_climit</P
><P
>ReguĹka z ograniczeniem iloĹci rĂłwnoczesnych poĹÄczeĹ tcp. Wykonywana
			    gdy climit w bazie jest rĂłĹźny od zera. DomyĹlnie:
<PRE
CLASS="SCREEN"
>$IPT -t filter -I FORWARD -p tcp -s %i -m connlimit --connlimit-above %climit -m ipp2p --ipp2p -j REJECT</PRE
>
			    </P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host_climit = "$IPT -t filter -I FORWARD -p tcp -s %i -m connlimit --connlimit-above -j REJECT"</SAMP
></P
></LI
><LI
><P
>host_plimit</P
><P
>ReguĹka z ograniczeniem iloĹci pakietĂłw w jednostce czasu (tutaj sekunda). Wykonywana
			    gdy plimit w bazie jest rĂłĹźny od zera. DomyĹlnie:
<PRE
CLASS="SCREEN"
>$IPT -t filter -I FORWARD -p tcp -d %i -m limit --limit %plimit/s -m ipp2p --ipp2p -j ACCEPT
$IPT -t filter -I FORWARD -p tcp -s %i -m limit --limit %plimit/s -m ipp2p --ipp2p -j ACCEPT</PRE
>
			    </P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host_plimit = ""</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
			    DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
			    DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>customergroups = "grupa1 grupa2"</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-TC-NEW"
>6.2.11. Tc-new (HTB)</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="TC-NEW-DESC"
>6.2.11.1. Opis</A
></H3
><P
>ModuĹ generujÄcy skrypt zawierajÄcy polecenia iptables i tc sĹuĹźÄce
				do ograniczania przepĹywnoĹci i limitowania poĹÄczeĹ klientom. DziaĹa podobnie
				do moduĹu 'tc', lecz obsĹuguje funkcjonalnoĹÄ pozwalajÄcÄ na powiÄzywanie
				taryf z komputerami. Skrypt tworzy tzw. kanaĹy dla komputerĂłw klienta
				przypisanych do tej samej taryfy. PrzykĹadowo: dla klienta z dwoma 
				komputerami przypisanymi do tej samej taryfy zostanÄ utworzone dwie
				klasy (upload i download) oraz po dwa filtry dla kaĹźdego komputera. 
				W przypadku gdy klient ma dwie taryfy i do kaĹźdej po jednym komputerze 
				powstanÄ po dwie klasy dla kaĹźdej taryfy i odpowiednia iloĹÄ filtrĂłw.
				WartoĹÄ poczÄtkowa licznikĂłw (%x i %h w reguĹach) wynosi 100.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="TC-NEW-CONFIG"
>6.2.11.2. Konfiguracja</A
></H3
><P
>WartoĹci domyĹlne niektĂłrych opcjÄ sÄ zgodne z moduĹem <A
HREF="daemon-modules.html#DAEMON-TC"
>tc</A
>.
				</P
><UL
><LI
><P
>file</P
><P
>Lokalizacja pliku wynikowego. DomyĹlnie: /etc/rc.d/rc.htb.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /tmp/rc.htb</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie powĹoki wykonywane po utworzeniu pliku. DomyĹlnie: "sh /etc/rc.d/rc.htb start".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = "chmod 700 /tmp/rc.htb; /tmp/rc.htb start"</SAMP
></P
></LI
><LI
><P
>begin</P
><P
>NagĹĂłwek skryptu. DomyĹlnie: jak w module tc</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>begin = "#!/bin/bash\n$TC=/usr/local/sbin/tc\n"</SAMP
></P
></LI
><LI
><P
>end</P
><P
>Stopka skryptu. DomyĹlnie: jak w module tc</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>end = ""</SAMP
></P
></LI
><LI
><P
>class_up</P
><P
>Definicja klasy dla uploadu, w ktĂłrej moĹźemy uĹźyÄ nastÄpujÄcych 
					zmiennych: %cid - ID klienta, %cname - nazwa klienta, %h - numer uchwytu 
					klasy %uprate, %upceil. DomyĹlnie: 
					<PRE
CLASS="SCREEN"
># %cname (ID:%cid)
$TC class add dev $WAN parent 2:1 classid 2:%h htb rate %upratekbit ceil %upceilkbit $BURST prio 2 quantum 1500
$TC qdisc add dev $WAN parent 2:%h esfq perturb 10 hash dst</PRE
></P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>class_up = "$TC class add dev $WAN parent 2:1 classid 2:%h htb rate %upratekbit ceil %upceilkbit $BURST prio 2 quantum 1500"</SAMP
></P
></LI
><LI
><P
>class_down</P
><P
>Definicja klasy dla downloadu, w ktĂłrej moĹźemy uĹźyÄ nastÄpujÄcych 
					zmiennych: %cid - ID klienta, %cname - nazwa klienta, %h - numer uchwytu 
					klasy, %downrate, %downceil. DomyĹlnie: 
					<PRE
CLASS="SCREEN"
>$TC class add dev $LAN parent 1:2 classid 1:%h htb rate %downratekbit ceil %downceilkbit $BURST prio 2 quantum 1500
$TC qdisc add dev $LAN parent 1:%h esfq perturb 10 hash dst						</PRE
></P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>class_up = "$TC class add dev $LAN parent 1:2 classid 1:%h htb rate %downratekbit ceil %ceilceilkbit $BURST prio 2 quantum 1500"</SAMP
></P
></LI
><LI
><P
>filter_up</P
><P
>Definicja filtrĂłw dla ruchu w kierunku od hosta. Dozwolone zmienne:
					%n - nazwa hosta, %if - nazwa interfejsu sieci, %i16 - ostatni oktet adresu szesnastkowo, 
					%i - adres, %m - mac, %o1, %o2, %o3, %o4 - oktety adresu dziesiÄtnie, %h - uchwyt klasy, %x - uchwyt filtra (unikalny numer reguĹy). DomyĹlnie: 
					<PRE
CLASS="SCREEN"
># %n
$IPT -t mangle -A LIMITS -s %i -j MARK --set-mark %x
$TC filter add dev $WAN parent 2:0 protocol ip prio 5 handle %x fw flowid 2:%h</PRE
></P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>class_up = "%n\n$IPT -A src%o3 -s %i -j CLASSIFY --set-class 2:%h\n"</SAMP
></P
></LI
><LI
><P
>filter_down</P
><P
>Definicja filtrĂłw dla ruchu w kierunku do hosta. Dozwolone zmienne:
					%n - nazwa hosta, %if - nazwa interfejsu sieci, %i16 - ostatni 
					oktet adresu szesnastkowo, %i - adres, %m - mac, %o1, %o2, %o3, 
					%o4 - oktety adresu dziesiÄtnie, %h - uchwyt klasy, %x - uchwyt
					filtra (unikalny numer reguĹy). DomyĹlnie: 
					<PRE
CLASS="SCREEN"
>$IPT -t mangle -A LIMITS -d %i -j MARK --set-mark %x
$TC filter add dev $LAN parent 1:0 protocol ip prio 5 handle %x fw flowid 1:%h</PRE
></P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>class_down = "%n\n$IPT -A dst%o3 -d %i -j CLASSIFY --set-class 1:%h\n"</SAMP
></P
></LI
><LI
><P
>climit</P
><P
>Definicja reguĹy dla limitu poĹÄczeĹ hosta. Dozwolone 
					zmienne: %n - nazwa hosta, %if - nazwa interfejsu sieci, 
					%i16 - ostatni oktet adresu szesnastkowo, %i - adres, %m - mac, 
					%o1, %o2, %o3, %o4 - oktety adresu dziesiÄtnie, %climit - limit
					poĹÄczeĹ. DomyĹlnie: 
					<PRE
CLASS="SCREEN"
>$IPT -t filter -I FORWARD -p tcp -s %i -m connlimit --connlimit-above %climit -j REJECT
					</PRE
></P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>climit = ""</SAMP
></P
></LI
><LI
><P
>plimit</P
><P
>Definicja reguĹy dla limitu pakietĂłw dla hosta. Dozwolone 
					zmienne: %n - nazwa hosta, %if - nazwa interfejsu sieci, 
					%i16 - ostatni oktet adresu szesnastkowo, %i - adres, %m - mac, 
					%o1, %o2, %o3, %o4 - oktety adresu dziesiÄtnie, %plimit - limit
					pakietĂłw. DomyĹlnie: 
					<PRE
CLASS="SCREEN"
>$IPT -t filter -I FORWARD -d %i -m limit --limit %plimit/s -j ACCEPT
$IPT -t filter -I FORWARD -s %i -m limit --limit %plimit/s -j ACCEPT										</PRE
></P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>plimit = ""</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
					DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
					DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>customergroups = "grupa1 grupa2"</SAMP
></P
></LI
><LI
><P
>night_hours</P
><P
>Zakres godzin nocnych w formacie 24-godzinnym. Np. "22-5" 
					oznacza, Ĺźe podczas uruchomienia moduĹu w godzinach od 22:00 do 4:59
					brane bÄdÄ wartoĹci taryf dla godzin nocnych. ObowiÄzujÄ
					nastÄpujÄce ograniczenia dla formatu zakresu: nie moĹźe zawieraÄ spacji,
					okres nie moĹźe zaczynaÄ siÄ przed godzinÄ 18.
					DomyĹlnie: pusta.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>night_hours = "24-6"</SAMP
></P
></LI
><LI
><P
>night_no_debtors</P
><P
>WĹÄczenie tej opcji spowoduje sprawdzenie czy klient posiada
					nierozliczone faktury przeterminowane. JeĹli tak, taryfa nocna nie
					zostanie zastosowana. DomyĹlnie: false.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>night_no_debtors = tak</SAMP
></P
></LI
><LI
><P
>night_deadline</P
><P
>Dodatkowy czas (iloĹÄ dni) po terminie pĹatnoĹci,
					zanim faktura zostanie potraktowana jako przeterminowana. Opcja
					dziaĹa w poĹÄczeniu z 'night_no_debtors'. DomyĹlnie: 0.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>night_deadline = 7</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-DNS"
>6.2.12. Dns</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DNS-DESC"
>6.2.12.1. Opis</A
></H3
><P
>ModuĹ do konfiguracji stref serwera 'named' jest jednym z bardziej skomplikowanych.
		    Tworzy dla kaĹźdej sieci pliki stref oraz odpowiednie wpisy w named.conf w oparciu
		    o szablony tych plikĂłw. PrzykĹadowe szablony znajdujÄ siÄ w katalogu
		    <TT
CLASS="FILENAME"
>/modules/dns/sample</TT
>.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DNS-CONFIG"
>6.2.12.2. Konfiguracja</A
></H3
><P
></P
><UL
><LI
><P
>forward-patterns</P
><P
>Katalog z szablonami stref. DomyĹlnie: forward.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>forward-patterns = /dns/patterns/forward</SAMP
></P
></LI
><LI
><P
>reverse-patterns</P
><P
>Katalog z szablonami stref odwrotnych. DomyĹlnie: reverse.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>reverse-patterns = /dns/patterns/revers</SAMP
></P
></LI
><LI
><P
>generic-forward</P
><P
>Szablon domyĹlny. Zostanie wykorzystany jeĹli w katalogu okreĹlonym
			    'forward-patterns' nie bÄdzie pliku odpowiadajÄcego nazwie domenowej sieci.
			    DomyĹlnie: modules/dns/sample/forward/generic.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>generic-forward = /dns/patterns/forward</SAMP
></P
></LI
><LI
><P
>generic-reverse</P
><P
>Szablon domyĹlny. Zostanie wykorzystany jeĹli w katalogu okreĹlonym
			    'reverse-patterns' nie bÄdzie pliku odpowiadajÄcego numerowi IP sieci.
			    DomyĹlnie: modules/dns/sample/reverse/generic.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>generic-reverse = /dns/patterns/forward</SAMP
></P
></LI
><LI
><P
>forward-zones</P
><P
>Katalog na pliki wynikowe stref.
			    DomyĹlnie: modules/dns/sample/out/forward.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>forward-zones = /dns/forward</SAMP
></P
></LI
><LI
><P
>reverse-zones</P
><P
>Katalog na pliki wynikowe stref odwrotnych.
			    DomyĹlnie: modules/dns/sample/out/reverse.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>reverse-zones = /dns/reverse</SAMP
></P
></LI
><LI
><P
>host-reverse</P
><P
>Linia w pliku strefy odwr. odpowiadajÄca kaĹźdemu komputerowi w dane sieci.
			    DomyĹlnie: "%n IN A %i\n".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host-reverse = "\t %n IN A %i\n"</SAMP
></P
></LI
><LI
><P
>host-forward</P
><P
>Linia w pliku strefy odpowiadajÄca kaĹźdemu komputerowi w danej sieci.
			    DomyĹlnie: "%c IN PTR %n.%d.\n".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host-forward = "\t %c IN PTR %n.%d.\n"</SAMP
></P
></LI
><LI
><P
>conf-pattern</P
><P
>Lokalizacja szablonu gĹĂłwnego pliku konfiguracyjnego serwera.
			    DomyĹlnie: modules/dns/sample/named.conf.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>conf-pattern = /dns/patterns/named.conf</SAMP
></P
></LI
><LI
><P
>conf-output</P
><P
>Lokalizacja gĹĂłwnego pliku konfiguracyjnego serwera.
			    DomyĹlnie: /tmp/named.conf.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>conf-output = /etc/named.conf</SAMP
></P
></LI
><LI
><P
>conf-forward-entry</P
><P
>Wpis dla kaĹźdej strefy w gĹĂłwnym pliku konfiguracyjnym.
			    DomyĹlnie: 'zone "%n" {\ntype master;\n file "forward/%n"; \nnotify yes; \n}; \n'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>conf-forward-entry = 'zone "%n" { \n\ttype master; \n\tfile "forward/%n"; \n\tnotify yes; \n}; \n'</SAMP
></P
></LI
><LI
><P
>conf-reverse-entry</P
><P
>Wpis dla kaĹźdej strefy odwr. w gĹĂłwnym pliku konfiguracyjnym.
			    DomyĹlnie: 'zone "%c.in-addr.arpa" { \ntype master; \nfile "reverse/%i"; \nnotify yes; \n}; \n'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>conf-revers-entry = 'zone "%c.in-addr.arpa" { \n\ttype master; \n\tfile "reverse/%i"; \n\tnotify yes; \n}; \n'</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie wykonywane po utworzeniu plikĂłw konf. DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = ""</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
			    DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>custmergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
			    DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>customergroups = "grupa1 grupa2"</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-ETHERS"
>6.2.13. Ethers</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="ETHERS-DESC"
>6.2.13.1. Opis</A
></H3
><P
>ModuĹ tworzÄcy konfiguracjÄ tablicy ARP systemu. UstawiajÄc opcjÄ
		    'dummy_macs' moĹźna sprawiÄ, aby komputerom odĹÄczonym zostaĹ przypisany 
		    mac-adres 00:00:00:00:00:00.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="ETHERS-CONFIG"
>6.2.13.2. Konfiguracja</A
></H3
><P
>Tutaj sÄ tylko standardowe opcje:</P
><UL
><LI
><P
>file</P
><P
>Lokalizacja pliku wynikowego. DomyĹlnie: /etc/ethers.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /tmp/ethers</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie powĹoki wykonywane po wygenerowaniu konfiga. DomyĹlnie: 'arp -f /etc/ethers'.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = ""</SAMP
></P
></LI
><LI
><P
>dummy_macs</P
><P
>JeĹli ustawimy na 'yes', to komputerom odĹÄczonym zostanie
			    przypisany mac-adres '00:00:00:00:00:00'. DomyĹlnie: "no".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>dummy_macs = yes</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia.
			    DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = "lan1 lan2"</SAMP
></P
></LI
><LI
><P
>customergroups</P
><P
>Lista nazw grup klientĂłw, ktĂłre majÄ byÄ brane pod uwagÄ. WielkoĹÄ liter nie ma znaczenia. 
			    DomyĹlnie: pusta (wszystkie grupy).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>customergroups = "grupa1 grupa2"</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-OIDENT"
>6.2.14. Oident</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="OIDENT-DESC"
>6.2.14.1. Opis</A
></H3
><P
>ModuĹ do konfiguracji oidentd. W zasadzie moĹźna to zrobiÄ moduĹem
		    'hostfile', ale tutaj masz juĹź gotowe ustawienia domyĹlne.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="OIDENT-CONFIG"
>6.2.14.2. Konfiguracja</A
></H3
><P
>A oto parametry moduĹu 'oident'</P
><UL
><LI
><P
>begin</P
><P
>Tekst wstawiany na poczÄtku pliku. DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>begin = "#Generowany automatycznie\n"</SAMP
></P
></LI
><LI
><P
>end</P
><P
>Tekst wstawiany na koĹcu pliku. DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>end = ""</SAMP
></P
></LI
><LI
><P
>host</P
><P
>Linia tekstu dla kaĹźdego komputera. DomyĹlnie: "%i\t%n\tUNIX".</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>host = "%i %n WINDOWS"</SAMP
></P
></LI
><LI
><P
>file</P
><P
>Nazwa pliku konfiguracyjnego. DomyĹlnie: /etc/oidentd.conf.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /etc/oident/identd.conf</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci do uwzglÄdnienia. DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = 'lan1 lan2'</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie do wykonania po utworzeniu pliku. DomyĹlnie: puste.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = "killall -HUP midentd"</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-PINGER"
>6.2.15. Pinger</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="PINGER-DESC"
>6.2.15.1. Opis</A
></H3
><P
>ModuĹ pinger to odpowiednik perlowego skryptu lms-fping. RĂłĹźnice sÄ jednak
		    zasadnicze. Nie potrzebuje zewnÄtrznego programu i dziaĹa przy wykorzystaniu
		    protokoĹu ARP. Powodem tego jest mniej wiÄcej dwukrotnie szybsze wykonanie
		    skanowania sieci. Nie ma takĹźe problemĂłw z komputerami majÄcymi wyĹÄczone 
		    odpowiadanie na pingi. Po skanowaniu, wszystkim wĹÄczonym komputerom jest
		    ustawiany w bazie danych czas skanowania, wykorzystywany do obrazowania
		    aktywnoĹci komputerĂłw np. na mapie sieci.</P
><P
><DIV
CLASS="NOTE"
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Notatka"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Pinger rozpoznaje interfejsy sieciowe na podstawie
		    nazwy, dlatego (np. gdy do zakĹadania interfejsĂłw wirtualnych/aliasĂłw 
		    wykorzystujesz program <TT
CLASS="FILENAME"
>ip</TT
>) musisz nadawaÄ interfejsom etykiety 
		    (ip addr add ... label ...). PamiÄtaj takĹźe, Ĺźeby nie uĹźywaÄ w nazwach
		    kropek, ani myĹlnikĂłw (mimo, Ĺźe <TT
CLASS="FILENAME"
>ip</TT
> na to pozwala), gdyĹź pinger
		    nie rozpozna poprawnie takiego interfejsu.</P
></TD
></TR
></TABLE
></DIV
></P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="PINGER-CONFIG"
>6.2.15.2. Konfiguracja</A
></H3
><P
>Pinger udostÄpnia tylko jednÄ opcjÄ konfiguracyjnÄ:</P
><UL
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ skanowane. DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = 'lan1 lan2'</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-PARSER"
>6.2.16. Parser</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DAEMON-PARSER-INTRO"
>6.2.16.1. WstÄp</A
></H3
><P
>ModuĹ parser jest oparty na skryptowym jÄzyku
				<A
HREF="http://silvercoders.com/index.php?page=T_Script"
TARGET="_top"
>T-Script</A
>,
				ktĂłrego gĹĂłwnym zadaniem jest generowanie plikĂłw tekstowych. MoĹźe byÄ
				uĹźywany do przetwarzania szablonĂłw z danymi pobieranymi z rĂłĹźnych
				ĹşrĂłdeĹ np. baz SQL lub plikĂłw tekstowych. W naszym przypadku treĹÄ
				skryptu (szablon) jest przechowywany w bazie danych, dlatego istnieje
				moĹźliwoĹÄ jego edycji poprzez <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>LMS-UI</I
></SPAN
>.
				W przyszĹoĹci moduĹ parser moĹźe zastÄpiÄ wiÄkszoĹÄ moduĹĂłw 
				demona.</P
><P
>Opis jÄzyka T-Script znajduje siÄ w rozdziale <A
HREF="tscript.html"
>T-Script</A
>.</P
><P
>Przed kompilacjÄ moduĹu upewnij siÄ, Ĺźe posiadasz w systemie
				pakiety <TT
CLASS="FILENAME"
>bison</TT
> (co najmniej w wersji 1.875) oraz 
				<TT
CLASS="FILENAME"
>flex</TT
>.</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DAEMON-PARSER-CONFIG"
>6.2.16.2. Konfiguracja</A
></H3
><P
>Parser posiada nastÄpujÄce opcje:</P
><UL
><LI
><P
>script</P
><P
>ZawartoĹÄ skryptu (szablonu). DomyĹlnie: pusta.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>script = '{var=1}zmienna var={var}'</SAMP
></P
></LI
><LI
><P
>file</P
><P
>Lokalizacja pliku wynikowego. DomyĹlnie: pusta</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>file = /tmp/parser.out</SAMP
></P
></LI
><LI
><P
>command</P
><P
>Polecenie powĹoki do wykonania po kompilacji skryptu. DomyĹlnie: pusta</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>command = "sh /tmp/parser.out"</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-EWX-PT"
>6.2.17. Ewx-pt</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DAEMON-EWX-PT-INTRO"
>6.2.17.1. WstÄp</A
></H3
><P
>ModuĹ ewx-pt sĹuĹźy do zarzÄdzania urzÄdzeniem PPPoE
				Terminator marki <A
HREF="http://etherwerx.com"
TARGET="_top"
>EtherWerX</A
>.
				Komunikacja odbywa siÄ z wykorzystaniem protokoĹu SNMP.</P
><P
>ModuĹ podczas pracy tworzy wĹasnÄ kopiÄ konfiguracji urzÄdzenia.
				Konfiguracja urzÄdzenia nie jest w Ĺźaden sposĂłb weryfikowana, dlatego 
				korzystajÄc z moduĹu ewx-pt nie moĹźna dokonywaÄ zmian bezpoĹrednio na
				urzÄdzeniu. W celu rekonfiguracji urzÄdzenia naleĹźy wyczyĹciÄ konfiguracjÄ
				na urzÄdzeniu oraz usunÄÄ zawartoĹÄ tabeli ewx_pt_config w bazie LMSa.
				<DIV
CLASS="NOTE"
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Notatka"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>PamiÄtaj o wĹÄczeniu opcji konfiguracyjnej <SAMP
CLASS="PROMPT"
>ewx_support</SAMP
>
				w sekcji <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>[phpui]</I
></SPAN
>.</P
></TD
></TR
></TABLE
></DIV
>
				</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DAEMON-EWX-PT-CONFIG"
>6.2.17.2. Konfiguracja</A
></H3
><P
>ModuĹ ewx-pt udostÄpnia nastÄpujÄce opcje:</P
><UL
><LI
><P
>snmp_host</P
><P
>Adres urzÄdzenia EtherWerX. DomyĹlnie: pusty.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>snmp_host = 192.168.0.1</SAMP
></P
></LI
><LI
><P
>snmp_port</P
><P
>Port urzÄdzenia dla komunikacji SNMP. DomyĹlnie: 161</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>snmp_port = 2161</SAMP
></P
></LI
><LI
><P
>community</P
><P
>Nazwa community SNMP urzÄdzenia. DomyĹlnie: private</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>community = public</SAMP
></P
></LI
><LI
><P
>offset</P
><P
>Liczba caĹkowita o jakÄ bÄdÄ zwiÄkszane identyfikatory komputerĂłw
						podczas zapisu na urzÄdzeniu EtherWerX. DomyĹlnie: 0.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>offset = 1000</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. 
						Uwaga: po zmianie wartoĹci tej opcji zalecana jest rekonfiguracja urzÄdzenia.
						DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = 'lan1 lan2'</SAMP
></P
></LI
><LI
><P
>dummy_ip_networks</P
><P
>Lista nazw sieci, dla ktĂłrych komputerom zostanie
							przypisany adres IP 0.0.0.0. Uwaga: po zmianie
							wartoĹci tej opcji zalecana jest rekonfiguracja urzÄdzenia.
							DomyĹlnie: pusta (Ĺźadna sieÄ).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>dummy_ip_networks = lan1</SAMP
></P
></LI
><LI
><P
>dummy_mac_networks</P
><P
>Lista nazw sieci, dla ktĂłrych komputerom zostanie
							przypisany adres MAC 00:00:00:00:00:00. Uwaga: po zmianie
							wartoĹci tej opcji zalecana jest rekonfiguracja urzÄdzenia.
							DomyĹlnie: pusta (Ĺźadna sieÄ).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>dummy_mac_networks = lan1</SAMP
></P
></LI
><LI
><P
>skip_disabled</P
><P
>WyĹÄczenie tej opcji spowoduje, Ĺźe komputery o statusie
						odĹÄczony nie bÄdÄ pomijane. NaleĹźy jÄ wyĹÄczyÄ w przypadku gdy
						chcemy aby zablokowani klienci mieli moĹźliwoĹÄ zalogowania siÄ
						do Terminatora. DomyĹlnie: wĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>skip_disabled = false</SAMP
></P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DAEMON-EWX-STM"
>6.2.18. Ewx-stm</A
></H2
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DAEMON-EWX-STM-INTRO"
>6.2.18.1. WstÄp</A
></H3
><P
>ModuĹ ewx-stm sĹuĹźy do zarzÄdzania urzÄdzeniem Standalone Traffic
				Manager marki <A
HREF="http://etherwerx.com"
TARGET="_top"
>EtherWerX</A
>.
				Komunikacja odbywa siÄ z wykorzystaniem protokoĹu SNMP. Do prawidĹowej
				pracy wymagany jest firmware w wersji 1.4.x lub nowszej.</P
><P
>ModuĹ podczas pracy tworzy wĹasnÄ kopiÄ konfiguracji urzÄdzenia.
				Konfiguracja urzÄdzenia nie jest w Ĺźaden sposĂłb weryfikowana, dlatego 
				korzystajÄc z moduĹu ewx-stm nie moĹźna dokonywaÄ zmian bezpoĹrednio na
				urzÄdzeniu. W celu rekonfiguracji urzÄdzenia naleĹźy wyczyĹciÄ konfiguracjÄ
				na urzÄdzeniu oraz usunÄÄ zawartoĹÄ tabel ewx_stm_channels oraz
				ewx_stm_nodes w bazie LMSa.
				<DIV
CLASS="NOTE"
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Notatka"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>PamiÄtaj o wĹÄczeniu opcji konfiguracyjnej <SAMP
CLASS="PROMPT"
>ewx_support</SAMP
>
				w sekcji <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>[phpui]</I
></SPAN
>.</P
></TD
></TR
></TABLE
></DIV
>
				NaleĹźy takĹźe zwrĂłciÄ uwagÄ na to, iĹź moduĹ uwzglÄdnia ustawienia opcji 
				'Sprawdzanie MACa' oraz 'Half duplex' w danych komputera.
				</P
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="DAEMON-EWX-STM-CONFIG"
>6.2.18.2. Konfiguracja</A
></H3
><P
>ModuĹ ewx-stm udostÄpnia nastÄpujÄce opcje:</P
><UL
><LI
><P
>snmp_host</P
><P
>Adres urzÄdzenia EtherWerX. DomyĹlnie: pusty.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>snmp_host = 192.168.0.1</SAMP
></P
></LI
><LI
><P
>snmp_port</P
><P
>Port urzÄdzenia dla komunikacji SNMP. DomyĹlnie: 161</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>snmp_port = 2161</SAMP
></P
></LI
><LI
><P
>community</P
><P
>Nazwa community SNMP urzÄdzenia. DomyĹlnie: private</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>community = public</SAMP
></P
></LI
><LI
><P
>path</P
><P
>Numer ĹcieĹźki zdefiniowanej na urzÄdzeniu, do ktĂłrej
						zostanÄ dopisane komputery i kanaĹy z LMSa. DomyĹlnie: nieustawiona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>path = 1</SAMP
></P
></LI
><LI
><P
>offset</P
><P
>Liczba caĹkowita o jakÄ bÄdÄ zwiÄkszane identyfikatory komputerĂłw
						podczas zapisu na urzÄdzeniu EtherWerX. Uwaga: po zmianie
						wartoĹci tej opcji zalecana jest rekonfiguracja urzÄdzenia.
						DomyĹlnie: 0.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>offset = 1000</SAMP
></P
></LI
><LI
><P
>networks</P
><P
>Lista nazw sieci, ktĂłre majÄ byÄ brane pod uwagÄ. 
						Uwaga: po zmianie wartoĹci tej opcji zalecana jest rekonfiguracja urzÄdzenia.
						DomyĹlnie: pusta (wszystkie sieci).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>networks = 'lan1 lan2'</SAMP
></P
></LI
><LI
><P
>excluded_networks</P
><P
>Lista nazw sieci, ktĂłre majÄ zostaÄ pominiÄte. 
						Uwaga: po zmianie wartoĹci tej opcji zalecana jest rekonfiguracja urzÄdzenia.
						DomyĹlnie: pusta.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_networks = 'lan3 lan4'</SAMP
></P
></LI
><LI
><P
>dummy_ip_networks</P
><P
>Lista nazw sieci, dla ktĂłrych komputerom zostanie
						przypisany adres IP 0.0.0.0. WartoĹÄ tej opcji moĹźe zawieraÄ 
						specjalny znak '*', oznaczajÄcy wszystkie sieci. Uwaga: po zmianie
						wartoĹci tej opcji zalecana jest rekonfiguracja urzÄdzenia.
						DomyĹlnie: pusta (Ĺźadna sieÄ).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>dummy_ip_networks = lan1</SAMP
></P
></LI
><LI
><P
>dummy_mac_networks</P
><P
>Lista nazw sieci, dla ktĂłrych komputerom zostanie
						przypisany adres MAC 00:00:00:00:00:00. WartoĹÄ tej opcji moĹźe 
						zawieraÄ specjalny znak '*', oznaczajÄcy wszystkie sieci.
						Uwaga: po zmianie wartoĹci tej opcji zalecana jest rekonfiguracja
						urzÄdzenia. DomyĹlnie: pusta (Ĺźadna sieÄ).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>dummy_mac_networks = lan1</SAMP
></P
></LI
><LI
><P
>excluded_dummy_ip_networks</P
><P
>Lista nazw sieci, ktĂłre zostanÄ wyĹÄczone z dziaĹania 
						opcji dummy_ip_networks, w przypadku uĹźycia w niej znaku '*'.
						DomyĹlnie: pusta (Ĺźadna sieÄ).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_dummy_ip_networks = lan5</SAMP
></P
></LI
><LI
><P
>excluded_dummy_mac_networks</P
><P
>Lista nazw sieci, ktĂłre zostanÄ wyĹÄczone z dziaĹania 
						opcji dummy_mac_networks, w przypadku uĹźycia w niej znaku '*'. DomyĹlnie: pusta (Ĺźadna sieÄ).</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>excluded_dummy_mac_networks = lan7</SAMP
></P
></LI
><LI
><P
>skip_disabled</P
><P
>Przy domyĹlnym ustawieniu tej opcji (true) komputery o statusie
						'odĹÄczony' nie sÄ brane pod uwagÄ. DomyĹlnie: wĹÄczona.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>skip_disabled = false</SAMP
></P
></LI
><LI
><P
>night_hours</P
><P
>Zakres godzin nocnych w formacie 24-godzinnym. Np. "22-5" 
						oznacza, Ĺźe podczas uruchomienia moduĹu w godzinach od 22:00 do 4:59
						brane bÄdÄ wartoĹci taryf dla godzin nocnych. ObowiÄzujÄ
						nastÄpujÄce ograniczenia dla formatu zakresu: nie moĹźe zawieraÄ spacji,
						okres nie moĹźe zaczynaÄ siÄ przed godzinÄ 18.
						DomyĹlnie: pusta.</P
><P
>PrzykĹad: <SAMP
CLASS="PROMPT"
>night_hours = "24-6"</SAMP
></P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="daemon.html"
ACCESSKEY="P"
>Poprzedni</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Spis tre&#347;ci</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="tscript.html"
ACCESSKEY="N"
>Nast&#281;pny</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>LMS Daemon</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="daemon.html"
ACCESSKEY="U"
>Pocz&#261;tek rozdzia&#322;u</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>T-Script</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>