<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Basic Configuration</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="LMS - LAN Management System 1.6-cvs"
HREF="index.html"><LINK
REL="UP"
TITLE="Installation and configuration"
HREF="install.html"><LINK
REL="PREVIOUS"
TITLE="Database Server Installation"
HREF="install-db.html"><LINK
REL="NEXT"
TITLE="Access rights"
HREF="install-rights.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="../images/style.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#EBE4D6"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>LMS - LAN Management System 1.6-cvs</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="install-db.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 2. Installation and configuration</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="install-rights.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTALL-CONFIG"
>2.6. Basic Configuration</A
></H1
><P
>Main configuration file of LMS is <TT
CLASS="FILENAME"
>lms.ini</TT
>, which must be placed
         in directory <TT
CLASS="FILENAME"
>/etc/lms</TT
> or in LMS root directory (not recommended, see
         <A
HREF="install-install.html"
>Section 2.3</A
>!!!). It contains configuration options for <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>LMS-UI</I
></SPAN
>
         and for all scripts with exception of <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>LMS-MGC</I
></SPAN
>.</P
><P
><DIV
CLASS="NOTE"
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Remember to remove semicolons (comments sign) from beginning of line with
         parameter that you set.</P
></TD
></TR
></TABLE
></DIV
></P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-CONFIG-DB"
>2.6.1. Section [database] - Database Settings</A
></H2
><P
>         <UL
><LI
><P
>type</P
><P
>Database type. Currently only 'mysql' is 100% supported, but for the time being
        there has not been seen any problems with 'postgres' or 'sqlite'. Default: mysql</P
><P
>Example: <SAMP
CLASS="PROMPT"
>type = mysql</SAMP
></P
></LI
><LI
><P
>host</P
><P
>Host where database is running. Usually 'localhost', but you can set anything here     
        (IP, domain or path to socket in 'localhost:/path/to/socket' format).                       
        Default: localhost</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>host = localhost</SAMP
></P
></LI
><LI
><P
>user</P
><P
>Database user account name. In many cases (if you follow this documentation) that will
        be 'lms'. If you want to use privileged account, you can enter 'root' (MySQL on most of
        *nixes), 'mysql' (on PLD) or 'postgres' (PostgreSQL). Default: mysql</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>user = lms</SAMP
></P
></LI
><LI
><P
>password</P
><P
>Database user password. Default: empty.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>password = password</SAMP
></P
></LI
><LI
><P
>database</P
><P
>Database name (or path to database file for SQLite). Default: lms</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>database = lms</SAMP
></P
></LI
><LI
><P
>server_encoding</P
><P
>Database encoding. Use if your database encoding is not Unicode. Postgres is
        performing conversion automatically, but if you use MySQL PHP and iconv in LMS DB drivers is
        used. Default: unicode</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>server_encoding = latin2</SAMP
></P
></LI
></UL
>
     </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-CONFIG-DIR"
>2.6.2. Section [directories] - Directories Settings</A
></H2
><P
>        
     <UL
><LI
><P
>sys_dir</P
><P
>System directory. It is a place where the entire content of LMS UI is placed, that
        means index.php, graphics, templates and the rest. By default index.php tries to guess where
        is it located using getcwd(), but it's better to say it where it is:</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>sys_dir = /var/www/htdocs/lms/</SAMP
></P
></LI
><LI
><P
>modules_dir</P
><P
>Directory with LMS "modules". That is content of /modules directory. By default it is
        <TT
CLASS="FILENAME"
>modules</TT
> subdirectory of sys_dir.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>modules_dir = /usr/share/lms/modules/</SAMP
></P
></LI
><LI
><P
>lib_dir</P
><P
>Directory with LMS "libraries". That is content of /lib directory. By default it is
        <TT
CLASS="FILENAME"
>lib</TT
> subdirectory of sys_dir.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>lib_dir = /usr/share/lms/lib/</SAMP
></P
></LI
><LI
><P
>backup_dir</P
><P
>Directory for database backup files - it's a place where LMS can write its database
        snapshots. By default it is <TT
CLASS="FILENAME"
>backups</TT
> subdirectory of sys_dir.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>backup_dir = /var/backup/lms/</SAMP
></P
><P
><DIV
CLASS="WARNING"
><TABLE
CLASS="WARNING"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/warning.gif"
HSPACE="5"
ALT="Warning"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>If directory with backups is accessible from WWW
        level (within Web Server DocumentRoot), anybody can access them without
        authentication.</P
></TD
></TR
></TABLE
></DIV
></P
></LI
><LI
><P
>smarty_dir</P
><P
>Directory with Smarty library - By default <TT
CLASS="FILENAME"
>Smarty</TT
> subdirectory of lib_dir.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>smarty_dir = /usr/lib/php/Smarty</SAMP
></P
></LI
><LI
><P
>smarty_compile_dir</P
><P
>Compilation directory for Smarty. It's a place where Smarty compile its templates. By
        default it is <TT
CLASS="FILENAME"
>templates_c</TT
> subdirectory of sys_dir.</P
><P
>Example:      <SAMP
CLASS="PROMPT"
>smarty_compile_dir = /var/smarty/compile/lms</SAMP
></P
></LI
><LI
><P
>smarty_templates_dir</P
><P
>Directory with templates for Smarty. By default it is <TT
CLASS="FILENAME"
>templates</TT
>
        subdirectory of sys_dir.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>smarty_templates_dir = /usr/share/lms/templates</SAMP
></P
></LI
></UL
>
     </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-CONFIG-UI"
>2.6.3. Section [phpui] - Interface Setting</A
></H2
><UL
><LI
><P
>allow_from  (optional)</P
><P
>List of networks or IP addresses, which have access to LMS. If empty, every IP
             address is permitted. You can write here list of addresses or address classes and LMS
             will dismiss every unwanted user with HTTP 403 error.</P
><P
>Example:          <SAMP
CLASS="PROMPT"
>allow_from = 192.168.0.0/16, 213.25.209.224/27, 213.241.77.29</SAMP
></P
></LI
><LI
><P
>lang</P
><P
>User interface language code (ISO). IF not set, language will be based on HTML
         browser settings. Default: en</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>lang = pl</SAMP
></P
></LI
><LI
><P
>timeout</P
><P
>Timeout for WWW session. User will be log out if he won't perform any action in such
         number of seconds. Default: 600</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>timeout = 900</SAMP
></P
><P
><DIV
CLASS="WARNING"
><TABLE
CLASS="WARNING"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/warning.gif"
HSPACE="5"
ALT="Warning"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>It's not possible to not to have any timeout. If you set this value to
         zero, you won't be able to use LMS at all!</P
></TD
></TR
></TABLE
></DIV
></P
></LI
><LI
><P
>customerlist_pagelimit</P
><P
>Limit of records that can be displayed on one page of customers list. Default: no
         limit</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>customerlist_pagelimit = 10</SAMP
></P
></LI
><LI
><P
>nodelist_pagelimit</P
><P
>Limit of records that can be displayed on one page of nodes list. Default: no
         limit</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>nodelist_pagelimit = 10</SAMP
></P
></LI
><LI
><P
>balancelist_pagelimit</P
><P
>Limit of records that can be displayed on one page of customer balance. Default: 100.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>balancelist_pagelimit = 50</SAMP
></P
></LI
><LI
><P
>invoicelist_pagelimit</P
><P
>Limit of records that can be displayed on one page of invoices list. Default: 100</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>invoicelist_pagelimit = 50</SAMP
></P
></LI
><LI
><P
>ticketlist_pagelimit</P
><P
>Limit of records that can be displayed on one page of ticket (requests) list. Default: 100</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>ticketlist_pagelimit = 50</SAMP
></P
></LI
><LI
><P
>networkhosts_pagelimit</P
><P
>Limit of records that can be displayed on one page of nodes with network information.
         Default: 256</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>networkhosts_pagelimit = 1024</SAMP
></P
></LI
><LI
><P
>accountlist_pagelimit</P
><P
>Limit of records that can be displayed on one page of customer accounts. Default: 100</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>accountlist_pagelimit = 50</SAMP
></P
></LI
><LI
><P
>domainlist_pagelimit</P
><P
>Limit of records that can be displayed on one page of system domains. Default: 100</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>domainlist_pagelimit = 50</SAMP
></P
></LI
><LI
><P
>aliaslist_pagelimit</P
><P
>Limit of records that can be displayed on one page of user aliases. Default: 100</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>aliaslist_pagelimit = 50</SAMP
></P
></LI
><LI
><P
>configlist_pagelimit</P
><P
>Limit of records that can be displayed on one page of UI configuration list. Default: 100</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>configlist_pagelimit = 50</SAMP
></P
></LI
><LI
><P
>reload_type</P
><P
>Reload type. Allowed values:</P
><P
>exec - execute some command (usually with sudo, script or something
         else, configurable below)</P
><P
>sql  - doing SQL writes (can be also set to custom query)</P
><P
>Default: sql.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>reload_type = exec</SAMP
></P
></LI
><LI
><P
>reload_execcmd</P
><P
>Command to run during reload, if reload_type is set to 'exec'. By default
         <TT
CLASS="FILENAME"
>/bin/true</TT
>. This string is send to system() command, so make sure that
         you know what you're doing. :) Besides, semicolons should be parsed by bash, but LMS splits
         that string and execute commands separately.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>reload_execcmd = "sudo /usr/bin/reload_lms.sh"</SAMP
></P
></LI
><LI
><P
>reload_sqlquery</P
><P
>SQL query executed while reload, if <SAMP
CLASS="PROMPT"
>reload_type = sql</SAMP
>. By default,
         query does inserts into table 'timestamps' with '_force' value. You can use '%TIME%'
         template in your query which will be substituted with current UNIX timestamp. WARNING!
         Semicolon is handled as query separator, which means that you can enter couple of SQL
         queries separated by semicolon sign.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>reload_sqlquery = "INSERT INTO reload VALUES ('1','%TIME%')"</SAMP
></P
></LI
><LI
><P
>force_ssl</P
><P
>Enforce SSL for all connections. Setting this option to 1 will
         turn LMS into enforcing SSL connections by applying redirect to
         'https://'.$_SERVER[HTTP_HOST].$_SERVER[REQUEST_URI] at every access without SSL. Default:
         0 (off).</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>force_ssl = 1</SAMP
></P
></LI
><LI
><P
>allow_mac_sharing</P
><P
>Allows for node addition even if its MAC address is not unique (not checking that
         some computer have that MAC yet). Default: 0 (off)</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>allow_mac_sharing = 1</SAMP
></P
></LI
><LI
><P
>smarty_debug</P
><P
>Enable Smarty debug console. Useful for tracking values passed from PHP to Smarty.
         Default: 0 (off).</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>smarty_debug = 1</SAMP
></P
></LI
><LI
><P
>lang_debug</P
><P
>Enable LMS language console. Useful for tracking missing translation strings.
         Default: 0 (off).</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>lang_debug = 1</SAMP
></P
></LI
><LI
><P
>debug_email</P
><P
>E-mail address for debugging - messages sent from module 'Mailing' will be delivered
         to this address instead of sending them to real users. </P
><P
>Example:     <SAMP
CLASS="PROMPT"
>debug_email = root@localhost</SAMP
></P
></LI
><LI
><P
>default_zip, default_city, default_address</P
><P
>Default zip code, city and street used on "new user" form. Useful when we have many
         users on the same street.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>default_zip = 39-300</SAMP
></P
></LI
><LI
><P
>use_current_payday</P
><P
>Forces to use current day of month as a payment day instead of most often used day.
         Default: 0 (off).</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>use_current_payday = 1</SAMP
></P
></LI
><LI
><P
>lastonline_limit</P
><P
>Specify time (in seconds), after which node will be marked offline. It should match
         frequency of execution for script responsible for checking nodes activity (i.e. lms-fping).
         Default: 600.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>lastonline_limit = 300</SAMP
></P
></LI
><LI
><P
>timetable_days_forward</P
><P
>Specify number of days (including current day) visible on timetable.
         Default: 7.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>timetable_days_forward = 2</SAMP
></P
></LI
><LI
><P
>arpd_servers</P
><P
>List of arpd servers for reading MAC addresses from remote networks.
         That list should include IP[:port] items separated with spaces.
         Default: empty.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>arpd_servers = 192.168.1.1 192.168.2.1</SAMP
></P
></LI
><LI
><P
>helpdesk_backend_mode</P
><P
>When enabled, all messages in helpdesk system (except those sent to ticket reporter)
         will be sent to mail server to the appropriate queue address. Mail server should run
         lms-rtparser script, which will write messages to database. Default: disabled.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>helpdesk_backend_mode = On</SAMP
></P
></LI
><LI
><P
>helpdesk_sender_name</P
><P
>Name of message sender or predefined values: 'queue' - ticket's queue name,
      'user' - name of logged user (sender). Default: empty.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>helpdesk_sender_name = Helpdesk</SAMP
></P
></LI
><LI
><P
>newticket_notify</P
><P
>If enabled, after new ticket addition system will send notification
         emails to all users with rights to the queue. Default: disabled.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>newticket_notify = On</SAMP
></P
></LI
><LI
><P
>contract_template</P
><P
>Specify contract template(s) for customer. You can provide comma separated list of
         contract templates. Default: contract.html.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>contract_template = "../my_templates/contract.html"</SAMP
></P
><P
>Example:     <SAMP
CLASS="PROMPT"
>contract_template = "contract.html:Default Contract, file.html:Contract Plus"</SAMP
></P
></LI
><LI
><P
>to_words_short_format</P
><P
>Specify format of verbal amounts representation (on invoices). For value "1"
         verbal expand of 123,15 will be "one two thr 15/100". Default: 0.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>to_words_short_format = 1</SAMP
></P
></LI
><LI
><P
>nodepassword_length</P
><P
>Length of (auto-generated) node password. Max.32. Default: 16.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>nodepassword_length = 8</SAMP
></P
></LI
><LI
><P
>smtp_host, smtp_port, smtp_username, smtp_password</P
><P
>Parameters for smtp authorization in mailing. Default: 127.0.0.1:25.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>smtp_host = mail.domain.pl</SAMP
></P
></LI
><LI
><P
>smtp_auth_type</P
><P
>Smtp authorization method in mailing. By default LMS (exactly PEAR::Net_SMTP) 
      will use the best supported method. Default: none.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>smtp_auth_type = DIGEST-MD5</SAMP
></P
></LI
><LI
><P
>gd_translate_to</P
><P
>Charset of data that GD library expects (usefull if GD need ISO-8859-2 instead of UTF-8 to feed imagetext() function. Default: ISO-8859-2.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>gd_translate_to = </SAMP
></P
></LI
><LI
><P
>check_for_updates_period</P
><P
>How often to check for LMS updates (in seconds). Default: 86400.</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>check_for_updates_period = 604800</SAMP
></P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-CONFIG-FINANCES"
>2.6.4. Section [finances] - Finances Settings</A
></H2
><P
>This section consist options for financial system and for payment
     forms. You can read more about that in Invoices chapter.
             <UL
><LI
><P
>suspension_percentage (optional)</P
><P
>Percentage for suspended liabilities. Default: '0'</P
><P
>Example:     <SAMP
CLASS="PROMPT"
>suspension_percentage = '50'</SAMP
></P
></LI
></UL
>
     </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="install-db.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="install-rights.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Database Server Installation</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="install.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Access rights</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>