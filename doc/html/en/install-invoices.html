<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Invoices</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="LMS - LAN Management System 1.5-cvs"
HREF="index.html"><LINK
REL="UP"
TITLE="Installation and configuration"
HREF="install.html"><LINK
REL="PREVIOUS"
TITLE="Upgrade"
HREF="install-upgrade.html"><LINK
REL="NEXT"
TITLE="A.L.E.C's LMS Daemon"
HREF="daemon.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="../images/style.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=ISO-8859-1"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#EBE4D6"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>LMS - LAN Management System 1.5-cvs</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="install-upgrade.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 2. Installation and configuration</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="daemon.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTALL-INVOICES"
>2.8. Invoices</A
></H1
><P
>In LMS is possible automatic and manual invoices settlement. Manual invoices
		creation is is possible in 'New Invoice' module from 'Finances' menu. Automatic settlement 
		need to enable that option while liabilities ascribing to customers. In that case
		invoices are created while accounting by <TT
CLASS="FILENAME"
>lms-payments</TT
> script or 
		daemon <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>almsd</I
></SPAN
>.</P
><P
>For proper working and printouts you will need to set custom options 
		in section <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>[invoices]</I
></SPAN
> of <TT
CLASS="FILENAME"
>lms.ini</TT
>:
		<UL
><LI
><P
>number_template</P
><P
>Invoice number pattern. Accessible variables: '%N' - successive number in year/month,
			'%M' - settlement month number, '%Y' - settlement year number (four digits). Default: %N/LMS/%Y</P
><P
>Example: <SAMP
CLASS="PROMPT"
>number_template = %N/%Y</SAMP
></P
></LI
><LI
><P
>monthly_numbering</P
><P
>Enable this option when you need to reset invoice numbering on start of every month.
			Default: disabled</P
><P
>Example: <SAMP
CLASS="PROMPT"
>monthly_numbering = 1</SAMP
></P
></LI
><LI
><P
>header</P
><P
>Seller. Can use string "\n" for lines separation. Default: empty.</P
><P
>Example: <SAMP
CLASS="PROMPT"
>header = "SuperNet ISP\nNew Street 15\n12-000 City\n"</SAMP
></P
></LI
><LI
><P
>footer</P
><P
>Invoice footer - e.g. seller description. Footer will be placed at bottom of a invoice, small font. Like in header option use "\n" to separate lines. Default: empty</P
><P
>Example: <SAMP
CLASS="PROMPT"
>footer = "Internet Service Provider K-27, phone 555-23-23, etc."</SAMP
></P
></LI
><LI
><P
>default_author</P
><P
>Invoice settler. Default: empty</P
><P
>Example: <SAMP
CLASS="PROMPT"
>default_author = "invoicing expert"</SAMP
></P
></LI
><LI
><P
>cplace</P
><P
>Invoice settlement place (city). Default: empty.</P
><P
>Example: <SAMP
CLASS="PROMPT"
>cplace = Warsaw</SAMP
></P
></LI
></UL
>
		Generated invoices can be viewed in double ways: by printer icon on balance sheet 
		or by 'Invoices List' in 'Finances' menu. In second case, is also possible to 
		filter invoices for printing.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-INVOICES-HTML"
>2.8.1. HTML</A
></H2
><P
>With default settings invoices are printed in html format
		with use of default template. In <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>[invoices]</I
></SPAN
> section
		are also options:
		<UL
><LI
><P
>template_file</P
><P
>Invoice template, which should be placed in 
			<TT
CLASS="FILENAME"
>templates</TT
> directory. Default: invoice.html.</P
><P
>Example: <SAMP
CLASS="PROMPT"
>template_file = invoice-mynet.html</SAMP
></P
></LI
><LI
><P
>content_type</P
><P
>Invoice content-type. If you enter here 'application/octet-stream'
			then browser will send file to save on disk, instead of displaying it.
			It's useful if you use your own template which generate e.g. rtf or xls file.
			Default: 'text/html'</P
><P
>Example: <SAMP
CLASS="PROMPT"
>content_type = application/octet-stream</SAMP
></P
></LI
><LI
><P
>attachment_name</P
><P
>File name for saving finished invoice printout. WARNING: Setting attachment_name 
			with default content_type will (in case of MSIE) print invoice + prompt for save on 
			disk + bonus browser crash (6.0SP1 on WInXP).
			Default: empty.</P
><P
>Example: <SAMP
CLASS="PROMPT"
>attachment_name = invoice.xls</SAMP
></P
></LI
></UL
>
		Generated HTML invoice consist originals and copies, which are separated
		by CSS page-break markups. So every modern browser that support CSS 
		should print many-page invoices shallow. This function was tested on
		Microsoft Internet Explorer 6.0, Opera 7.02 and Mozilla 1.3.</P
><P
>			<DIV
CLASS="NOTE"
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Almost every internet browser has printing 
			configuration, where functions like header and footer or URL 
			printing can be disabled.</P
></TD
></TR
></TABLE
></DIV
>
		</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="INSTALL-INVOICES-PDF"
>2.8.2. PDF</A
></H2
><P
>It's possible to create invoices as pdf files. Setting
		option <TT
CLASS="FILENAME"
>type</TT
> from <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>[invoices]</I
></SPAN
> section
		to 'pdf' will make, that invoice will be created in pdf instead of html.
		Option <TT
CLASS="FILENAME"
>template_file</TT
> performs similiar part like in html invoices,
		with one difference, it has predefined values: 'standard' - basic invoice 
		(invoice.html equivalent) and 'FT-0100' - invoice adjusted for printing on
		FT-0100 print including payment form. You can set <TT
CLASS="FILENAME"
>template_file</TT
>
		option for php file name, but this feature is assigned for advanced users.
		because it require creation of more complicated php file than in html invoices 
		simple Smarty template.</P
><P
>Data for printout of payment form are stored in <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>[finances]</I
></SPAN
>
		section of <TT
CLASS="FILENAME"
>lms.ini</TT
> file. That is:
		<TABLE
BORDER="0"
><TBODY
><TR
><TD
>name - seller name</TD
></TR
><TR
><TD
>shortname - short seller name</TD
></TR
><TR
><TD
>address - seller address</TD
></TR
><TR
><TD
>zip - seller postal code</TD
></TR
><TR
><TD
>city - seller city</TD
></TR
><TR
><TD
>account - banking account number</TD
></TR
></TBODY
></TABLE
>
		</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="install-upgrade.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="daemon.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Upgrade</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="install.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>A.L.E.C's LMS Daemon</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>