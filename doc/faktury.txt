$Id$

Faktury w LMS.

LMS mo¿e wystawiaæ faktury, aby mu to umo¿liwiæ trzeba przygotowaæ parê rzeczy:

Szablon

Szablon jest niczym innym jak dokumentem tekstowym w formacie RTF (tekstowym) 
lub html który mo¿na stworzyæ pod dowolnym programem obs³uguj±cym RTF. Plik ten 
powinien wygl±daæ jak gotowa faktura, a pozycje które maj± byæ rozwijane przez 
LMS nale¿y zast±piæ nastêpuj±cymi s³owami kluczowymi:

%nabywca         - jest rozwijany do imienia i nazwiska nabywcy
%nab_adres       - jest rozwijany do adresu nabywcy (ulica)
%nab_adres_cd    - jest rozwijany do adresu nabywcy (kod pocztowy i miasto)
%nip             - nip nabywcy
%nr_klienta      - numer klienta (ID) z bazy u¿ytkowników
%sprzedawca      - nazwa sprzedawcy, z lms.ini
%sprzed_adres    - adres sprzedawcy, z lms.ini
%sprzed_adres_cd - ci±g dalszy adreu sprzedawcy, z lms.ini
%numer           - numer kolejny faktury w postaci id_operacji_kasowej/rok
%data            - data wystawienia faktury
%termin          - termin zap³aty, ilo¶æ dni mo¿na ustawiæ w lms.ini
%dni             - ilo¶æ dni do zap³aty, mo¿na ustawiæ j/w
%usluga          - nazwa us³ugi, jak nazwa jest pobierany opis operacji kasowej
%od              - pierwszy dzieñ okresu ¶wiadczenia us³ugi (pierwszy dzieñ 
                   miesi±ca w ktorym by³o wpisane obci±¿enie do bazy)
%do              - ostatni dzieñ okresu ¶wiadczenia us³ugi (ostatni dzieñ 
                   miesi±ca w ktorym by³o wpisane obci±¿enie do bazy)
%netto           - warto¶æ us³ugi netto, bezpo¶rednio przepisana z bazy
%brutto          - netto + 7% VAT
%vat             - warto¶æ VAT (netto * 7%)
%slownie         - kwota do zap³aty s³ownie
%konto           - jest rozwijane do numeru konta bankowego, ustawiane w 
                   lms.ini
%wystawil        - jest rozwijane do danych administratora zalogowanego 
                   aktualnie w LMS
%stopka          - pozwala na wpisanie danych do stopki, dane ustawiamy w 
                   lms.ini

Przyk³adowy szablon znajduje siê w katalogu sample (faktura.rtf) i by³ 
testowany pod OpenOffice i M$ Office.

lms.ini

[finances]

; W³±czenie modu³u wystawiania faktur
; enable_faktury = 1

; Nazwa sieci/organizacji na fakturze
; name 			= "ASK Jaka¶tam"

; Adres sieci
; address 		= "Wiosenna 52"

; Kod pocztowy
; zip 			= "12-345"

; Miasto
; city 			= "W±chocko"

; Termin zaplaty w dniach
; deadline 		= 5

; Nazwa banku
; bank 			= "Bank jaki¶tam SA"

; Konto bankowe
; account 		= "123-456789-01"

; Stopka widoczna na fakturze
; footer 		= "ASK Jaka¶tam, telefony, adresy etc."

; Szablon faktury do uzycia
; template 		= /etc/lms/faktura.rtf

UWAGA! pamiêtaj ¿e modu³ pobiera z bazy kwotê jako netto, tak wiêc aby wszystko dobrze
dzia³a³o wszystkie kwoty w bazie musz± byæ wpisane jako netto.
Modu³ nie rozwi±zuje do postaci s³ownej liczb wiêkszych ni¿ 999.