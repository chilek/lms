<!-- $Id$ -->
<chapter id="devel">
	<title>Dla dociekliwych</title>
	<sect1 id="devel-catalogs">
		<title>Drzewo katalogów</title>
			<table id="catalog-tree">
				<title>Drzewo katalogów LMS</title>
			<tgroup cols="2">
				<colspec ALIGN="center" COLWIDTH="200">
				<colspec ALIGN="center" COLWIDTH="300">
		    	<thead>
				<row>
				<entry>Nazwa</entry>
				<entry>Opis</entry>
				</row>
		    	</thead>
		    	<tbody>
				<row>
				<entry>backups</entry>
				<entry>Kopie zapasowe bazy danych</entry>
				</row>
				<row>
				<entry>bin</entry>
				<entry>Skrypty wykonywalne lms-...</entry>
				</row>
				<row>
				<entry>contrib</entry>
				<entry>Dodatki stworzone przez u¿ytkowników LMS</entry>
				</row>
				<row>
				<entry>daemon</entry>
				<entry>A.L.E.C's LMS Daemon</entry>
				</row>
				<row>
				<entry>devel</entry>
				<entry>Skrypty przydatne dla developerów</entry>
				</row>
				<row>
				<entry>doc</entry>
				<entry>Dokumentacja</entry>
				</row>
				<row>
				<entry>img</entry>
				<entry>Obrazki do Interfejsu U¿ytkownika</entry>
				</row>
				<row>
				<entry>lib</entry>
				<entry>LMS'owy zbiór bibliotek PHP oraz Smarty</entry>
				</row>
				<row>
				<entry>modules</entry>
				<entry>Modu³y Interfejsu U¿ytkownika</entry>
				</row>
				<row>
				<entry>sample</entry>
				<entry>Przyk³adowe skrypty i inne dodatki</entry>
				</row>
				<row>
				<entry>templates</entry>
				<entry>Szablony Smarty dla Interfejsu U¿ytkownika</entry>
				</row>
				<row>
				<entry>templates_c</entry>
				<entry>Pliki tymczasowe</entry>
				</row>
			</tbody>
			</tgroup>
	    		</table>
	</sect1>
	<sect1 id="devel-db">
		<title>Struktura bazy danych</title>
		<para>Poni¿ej przedstawiono ogóln± strukturê bazy danych LMS. Bardziej szczegó³owe
		informacje o typach danych, ograniczeniach nak³adanych na pola oraz warto¶ci domy¶lne
		zawarte s± w plikach <ulink url="../lms.mysql"><filename>lms.mysql</filename></ulink>,
		<ulink url="../lms.pgsql"><filename>lms.pgsql</filename></ulink> i 
		<ulink url="../lms.sqlite"><filename>lms.sqlite</filename></ulink> w katalogu
		<filename>/doc</filename>.</para>
		<sect2 id="admins">
			<title>U¿ytkownicy ('admins')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>login - login</member>
				<member>name - nazwa (nazwisko i imiê)</member>
				<member>email - adres admina</member>
				<member>rights - prawa dostêpu</member>
				<member>hosts - lista hostów z prawem do logowania</member>
				<member>passwd - has³o logowania</member>
				<member>lastlogindate - data ostatniego logowania</member>
				<member>lastloginip - adres IP, z którego nast±pi³o ostatnie logowanie</member>
				<member>failedlogindate - data ostatniej nieudanej próby logowania</member>
				<member>failedloginip - adres IP, z którego próbowano siê zalogowaæ</member>
				<member>deleted - czy usuniêty (0/1)</member>
			</simplelist>
		</sect2>
		<sect2 id="users">
			<title>Klienci ('users')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>lastname - nazwa/nazwisko</member>
				<member>name - imiê</member>
				<member>status - status (3-pod³±czony, 2-oczekuj±cy, 1-zainteresowany)</member>
				<member>email - adres poczty internetowej</member>
				<member>phone1 - telefon</member>
				<member>phone2 - telefon</member>
				<member>phone3 - telefon</member>
				<member>gguin - identyfikator gadu-gadu</member>
				<member>pin - numer pin (uwierzytelnianie)</member>
				<member>address - adres (ulica, nr domu, nr lokalu)</member>
				<member>zip - kod pocztowy</member>
				<member>city - nazwa miasta</member>
				<member>nip - numer identyfikacji podatkowej NIP</member>
				<member>pesel - numer PESEL</member>
				<member>info - dodatkowe informacje</member>
				<member>serviceaddr - adres do dorêczeñ (np. na faktury)</member>
				<member>creationdate - czas utworzenia wpisu</member>
				<member>moddate - czas modyfikacji</member>
				<member>creatorid - identyfikator u¿ytkownika tworz±cego wpis</member>
				<member>modid - identyfikator u¿ytkownika dokonuj±cego zmian danych</member>
				<member>deleted - usuniêty z bazy (0/1)</member>
				<member>message - komunikat do wy¶wietlenia przy w³±czonych ostrze¿eniach</member>
			</simplelist>
		</sect2>
		<sect2 id="usergroups">
			<title>Grupy klientów ('usergroups')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa</member>
				<member>description - opis</member>
			</simplelist>
		</sect2>
		<sect2 id="userassignments">
			<title>Grupy klientów - c.d. ('userassignments')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>usergroupid - identyfikator grupy</member>
				<member>userid - identyfikator klienta</member>
			</simplelist>
		</sect2>
		<sect2 id="networks">
			<title>Sieci ('networks')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa sieci</member>
				<member>address - adres IP</member>
				<member>mask - maska</member>
				<member>interface - interfejs (np. eth1)</member>
				<member>gateway - adres IP bramy</member>
				<member>dns - adres IP serwera nazw</member>
				<member>dns2 - adres IP zapasowego serwera nazw</member>
				<member>domain - domena</member>
				<member>wins - adres serwera WINS</member>
				<member>dhcpstart - pocz±tek zakresu DHCP</member>
				<member>dhcpend - koniec zakresu DHCP</member>
			</simplelist>
		</sect2>
		<sect2 id="nodes">
			<title>Komputery i adresy IP urz±dzeñ sieciowych ('nodes')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa</member>
				<member>mac - adres MAC</member>
				<member>ipaddr - adres IP</member>
				<member>passwd - has³o np. pppoe</member>
				<member>ownerid - identyfikator w³a¶ciciela ('0' - dla adresu urz±dzenia)</member>
				<member>creationdate - znacznik czasu utworzenia wpisu</member>
				<member>moddate - znacznik czasu ostatniej modyfikacji</member>
				<member>creatorid - identyfikator u¿ytkownika tworz±cego wpis</member>
				<member>modid - identyfikator u¿ytkownika ostatnio modyfikuj±cego wpis</member>
				<member>netdev - identyfikator urz±dzenia sieciowego do którego jest pod³±czony komputer</member>
				<member>linktype - typ po³±czenia sieciowego (0-kabel, 1-radio)</member>
				<member>access - pod³±czony/od³±czony (1/0)</member>
				<member>warning - ostrzegaj/nie ostrzegaj (1/0)</member>
				<member>lastonline - znacznik czasu ostatniej obecno¶ci w sieci</member>
				<member>info - informacje dodatkowe</member>
			</simplelist>
		</sect2>
		<sect2 id="netdevices">
			<title>Sprzêt sieciowy ('netdevices')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa</member>
				<member>location - lokalizacja</member>
				<member>description - opis</member>
				<member>producer - producent</member>
				<member>model - model</member>
				<member>serialnumber - numer seryjny</member>
				<member>ports - ilo¶æ portów</member>
			</simplelist>
		</sect2>
		<sect2 id="netlinks">
			<title>Po³±czenia sieciowe ('netlinks')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>src - jeden koniec</member>
				<member>dst- drugi koniec</member>
				<member>type - typ po³±czenia (0-kabel, 1-radio)</member>
			</simplelist>
		</sect2>
		<sect2 id="cash">
			<title>Operacje finansowe ('cash')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>time - znacznik czasu zaksiêgowania operacji</member>
				<member>adminid - identyfikator u¿ytkownika dokonuj±cego operacji</member>
				<member>type - typ operacji (przychód, rozchód, wp³ata, obci±¿enie)</member>
				<member>value - warto¶æ w z³otych</member>
				<member>taxvalue - procent podatku</member>
				<member>userid - identyfikator klienta ('0' - je¶li nie dotyczy)</member>
				<member>invoiceid - identyfikator faktury obejmuj±cej dan± operacjê</member>
				<member>itemid - nr pozycji na fakturze</member>
				<member>comment - opis operacji</member>
			</simplelist>
		</sect2>
		<sect2 id="cashimport">
			<title>Import operacji finansowych ('cashimport')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>date - znacznik czasu operacji</member>
				<member>value - kwota operacji</member>
				<member>customer - dane wp³acaj±cego</member>
				<member>description - opis operacji</member>
				<member>customerid - identyfikator klienta</member>
				<member>hash - unikalny skrót danych operacji</member>
				<member>closed - status operacji</member>
			</simplelist>
		</sect2>
		<sect2 id="tariffs">
			<title>Taryfy ('tariffs')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa</member>
				<member>value - kwota</member>
				<member>taxvalue - wysoko¶æ podatku w procentach</member>
				<member>pkwiu - numer PKWiU</member>
				<member>uprate - gwarantowany upload</member>
				<member>upceil - maksymalny upload</member>
				<member>downrate - gwarantowany download</member>
				<member>downceil - maksymalny download</member>
				<member>climit - limit po³±czeñ</member>
				<member>plimit - limit pakietów</member>
				<member>description - opis</member>
			</simplelist>
		</sect2>
		<sect2 id="payments">
			<title>Op³aty sta³e ('payments')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa</member>
				<member>value - kwota</member>
				<member>creditor - nazwa wierzyciela</member>
				<member>period - typ okresu naliczania: co tydzieñ/co miesi±c/co kwarta³/co rok (0/1/2/3)</member>
				<member>at - dzieñ naliczenia</member>
				<member>description - opis</member>
			</simplelist>
		</sect2>
		<sect2 id="assignments">
			<title>Powi±zania ('assignments')</title>
   			<simplelist>
				<member>id - identyfikator</member>
				<member>tariffid - identyfikator taryfy</member>
				<member>userid - identyfikator klienta</member>
				<member>period - typ okresu </member>
				<member>at - dzieñ naliczania</member>
				<member>datefrom - data obowi±zywania zobowi±zania</member>
				<member>dateto - data obowi±zywania zobowi±zania</member>
				<member>invoice - okre¶la czy ma byæ wystawiana faktura (1 - tak, 0 - nie)</member>
				<member>discount - warto¶æ procentowa rabatu</member>
				<member>suspended - zawieszenie p³atno¶ci (1 - tak, 0 - nie)</member>
			</simplelist>
		</sect2>
		<sect2 id="invoices">
			<title>Faktury ('invoices')</title>
   			<simplelist>
				<member>id - identyfikator</member>
				<member>number - numer w roku</member>
				<member>cdate - data wystawienia</member>
				<member>paytime - termin p³atno¶ci (ilo¶æ dni)</member>
				<member>paytype - rodzaj p³atno¶ci (przelew/gotówka/etc.)</member>
				<member>customerid - identyfikator klienta-nabywcy</member>
				<member>name - nazwa (nazwisko i imiê) nabywcy</member>
				<member>address - adres nabywcy</member>
				<member>nip - nip nabywcy</member>
				<member>pesel - PESEL nabywcy</member>
				<member>zip - kod pocztowy nabywcy</member>
				<member>phone - telefon nabywcy</member>
				<member>city - miasto nabywcy</member>
				<member>finished - pole okre¶laj±ce zamkniêcie faktury (0/1)</member>
			</simplelist>
		</sect2>
		<sect2 id="invoicecontents">
			<title>Faktury - cd. ('invoicecontents')</title>
   			<simplelist>
				<member>invoiceid - identyfikator faktury</member>
				<member>itemid - nr pozycji</member>
				<member>value - kwota pozycji</member>
				<member>taxvalue - wysoko¶æ podatku w procentach</member>
				<member>pkwiu - numer PKWiU</member>
				<member>content - u¿yta jednostka (najczê¶ciej 'szt.')</member>
				<member>count - ilo¶æ</member>
				<member>description - opis</member>
				<member>tariffid - identyfikator taryfy</member>
			</simplelist>
		</sect2>
		<sect2 id="passwd">
			<title>Konta ('passwd')</title>
			<simplelist>
				<member>id - identyfikator rekordu</member>
				<member>ownerid - identyfikator klienta (0 - konto "systemowe")</member>
				<member>login - nazwa konta</member>
				<member>password - has³o zaszyfrowane funkcj± crypt()</member>
				<member>realname - dodatkowa nazwa konta/u¿ytkownika</member>
				<member>lastlogin - data ostatniego logowania</member>
				<member>uid - identyfikator systemowy konta</member>
				<member>home - katalog domowy</member>
				<member>type - typ konta (suma: 1-shell, 2-poczta, 4-www, 8-ftp)</member>
				<member>expdate - data wa¿no¶ci konta</member>
				<member>domainid - identyfikator domeny z tabeli 'domains'</member>
				<member>createtime - data utworzenia konta</member>
				<member>quota_sh - limit</member>
				<member>quota_mail - limit</member>
				<member>quota_www - limit</member>
				<member>quota_ftp - limit</member>
			</simplelist>
		</sect2>
		<sect2 id="domains">
			<title>Domeny ('domains')</title>
			<simplelist>
				<member>id - identyfikator rekordu</member>
				<member>name - nazwa domeny</member>
				<member>description - opis</member>
			</simplelist>
		</sect2>
		<sect2 id="aliases">
			<title>Aliasy ('aliases')</title>
			<simplelist>
				<member>id - identyfikator rekordu</member>
				<member>login - nazwa konta (bez domeny)</member>
				<member>accountid - identyfikator konta</member>
			</simplelist>
		</sect2>
		<sect2 id="timestamps">
			<title>Historia ('timestamps')</title>
			<simplelist>
				<member>time - czas ostatniej modyfikacji</member>
				<member>tablename - nazwa tabeli</member>
			</simplelist>
		</sect2>
		<sect2 id="stats">
			<title>Statystyki wykorzystania ³±cza ('stats')</title>
			<simplelist>
				<member>nodeid - numer komputera</member>
				<member>dt - znacznik czasu</member>
				<member>upload - ilo¶æ danych wys³anych, w bajtach</member>
				<member>download - ilo¶æ danych odebranych, w bajtach</member>
			</simplelist>
		</sect2>
		<sect2 id="rtqueues">
			<title>Helpdesk - kolejki ('rtqueues')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa</member>
				<member>email - adres konta pocztowego</member>
				<member>description - opis dodatkowy</member>
			</simplelist>
		</sect2>
		<sect2 id="rttickets">
			<title>Helpdesk - zg³oszenia ('rttickets')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>queueid - identyfikator kolejki</member>
				<member>requestor - dane zg³aszaj±cego-klienta (w tym e-mail)</member>
				<member>userid - identyfikator klienta</member>
				<member>subject - temat zg³oszenia</member>
				<member>state - status (0-nowy, 1-otwarty, 2-rozwi±zany, 3-martwy)</member>
				<member>owner - identyfikator w³a¶ciciela-u¿ytkownika</member>
				<member>createtime - data zg³oszenia</member>
			</simplelist>
		</sect2>
		<sect2 id="rtmessages">
			<title>Helpdesk - wiadomo¶ci ('rtmessages')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>ticketid - identyfikator zg³oszenia</member>
				<member>adminid - identyfikator u¿ytkownika-nadawcy</member>
				<member>userid - identyfikator klienta-nadawcy</member>
				<member>mailfrom - e-mail nadawcy</member>
				<member>subject - temat wiadomo¶ci</member>
				<member>messageid - pocztowy identyfikator wiadomo¶ci</member>
				<member>inreplyto - identyfikator poprzedniej wiadomo¶ci</member>
				<member>replyto - nag³ówek wiadomo¶ci</member>
				<member>headers - wszystkie nag³ówki pocztowe wiadomo¶ci</member>
				<member>body - tre¶æ wiadomo¶ci</member>
				<member>createtime - data utworzenia/wys³ania/odebrania </member>
			</simplelist>
		</sect2>
		<sect2 id="rtattachments">
			<title>Helpdesk - za³±czniki ('rtattachments')</title>
			<simplelist>
				<member>messageid - identyfikator wiadomo¶ci</member>
				<member>filename - nazwa pliku</member>
				<member>contenttype - typ pliku</member>
			</simplelist>
		</sect2>
		<sect2 id="rtrights">
			<title>Helpdesk - uprawnienia ('rtrights')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>queueid - identyfikator kolejki</member>
				<member>adminid - identyfikator u¿ytkownika</member>
				<member>rights - (1-odczyt, 2-zapis)</member>
			</simplelist>
		</sect2>
		<sect2 id="uiconfig">
			<title>Konfiguracja LMS-UI ('uiconfig')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>section - nazwa sekcji</member>
				<member>var - nazwa opcji konfiguracyjnej</member>
				<member>value - warto¶æ</member>
				<member>description - opis/komentarz</member>
				<member>disabled - wy³±czenie opcji (0-w³., 1-wy³.)</member>
			</simplelist>
		</sect2>
		<sect2 id="events">
			<title>Terminarz - zdarzenia ('events')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>title - tytu³</member>
				<member>description - opis</member>
				<member>note - notatka</member>
				<member>date - data zdarzenia</member>
				<member>begintime - pocz±tek zdarzenia</member>
				<member>endtime - koniec zdarzenia</member>
				<member>adminid - identyfikator u¿ytkownika tworz±cego wpis w terminarzu</member>
				<member>userid - identyfikator klienta</member>
				<member>private - prywatny/publiczny</member>
				<member>closed - status zamkniêcia</member>
			</simplelist>
		</sect2>
		<sect2 id="eventassignments">
			<title>Terminarz - powi±zania ('eventassignments')</title>
			<simplelist>
				<member>eventid - identyfikator zdarzenia</member>
				<member>adminid - identyfikator u¿ytkownika</member>
			</simplelist>
		</sect2>
		<sect2 id="daemonhosts">
			<title>Konfiguracja demona - hosty ('daemonhosts')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa hosta</member>
				<member>description - opis</member>
				<member>lastreload - data ostatniego prze³adowania</member>
				<member>reload - ¿±danie prze³adowania</member>
			</simplelist>
		</sect2>
		<sect2 id="daemoninstances">
			<title>Konfiguracja demona - instancje ('daemoninstances')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>name - nazwa instancji</member>
				<member>hostid - identyfikator hosta</member>
				<member>module - nazwa i ¶cie¿ka do modu³u</member>
				<member>crontab - czas wykonania</member>
				<member>priority - priorytet prze³adowania</member>
				<member>description - opis</member>
				<member>disabled - status (w³±czona/wy³±czona)</member>
			</simplelist>
		</sect2>
		<sect2 id="daemonconfig">
			<title>Konfiguracja demona - opcje ('daemonconfig')</title>
			<simplelist>
				<member>id - identyfikator</member>
				<member>instanceid - identyfikator instancji</member>
				<member>var - nazwa opcji</member>
				<member>value - warto¶æ opcji</member>
				<member>description - opis</member>
				<member>disabled - status (w³±czona/wy³±czona)</member>
			</simplelist>
		</sect2>
		<sect2 id="sessions">
			<title>Sesje ('sessions')</title>
			<simplelist>
				<member>id - identyfikator sesji</member>
				<member>ctime - czas utworzenia</member>
				<member>mtime - czas modyfikacji</member>
				<member>atime - czas ost. dostêpu</member>
				<member>vdata - dane weryfikuj±ce</member>
				<member>content - dane</member>
			</simplelist>
		</sect2>
		<sect2 id="dbinfo">
			<title>Informacje o bazie danych ('dbinfo')</title>
			<simplelist>
				<member>keytype - typ</member>
				<member>keyvalue - warto¶æ</member>
			</simplelist>
		</sect2>
	</sect1>
	<sect1 id="devel-ini">
		<title>Format pliku konfiguracyjnego</title>
		<para>W pliku konfiguracyjnym LMS'a (standardowo <filename>/etc/lms/lms.ini</filename>)
		mo¿na ustawiaæ parametry <emphasis>LMS-UI</emphasis>, daemona <emphasis>almsd</emphasis>
		oraz skryptów perlowych (<emphasis>LMS_MGC</emphasis>). Przy czym format
		warto¶ci parametrów dla skryptów perlowych podlega wiêkszym restrykcjom.</para>
		<sect2 id="comments">
			<title>Komentarze</title>
			<para>Programy parsuj±ce plik konfiguracyjny pomijaj± wszystkie linie
			zaczynaj±ce siê znakiem '#' lub ';'. Komentarze poprzedzone jednym z tych
			znaków mo¿na tak¿e wstawiaæ w tej samej linii co sekcje i opcje.</para>
		</sect2>
		<sect2 id="params">
			<title>Sekcje, klucze, warto¶ci</title>
			<para>Opcje konfiguracyjne pogrupowane s± w sekcje. Nazwê sekcji, sk³adaj±c±
			siê z liter i/lub cyfr nale¿y zamkn±æ w nawiasy kwadratowe. Ich nazwy
			powinny byæ unikalne.</para>
			<para>Sekcje i parametry umieszcza siê w osobnych liniach. Parametry
			sk³adaj± siê z klucza i warto¶ci. Klucz to nazwa parametru konfiguracyjnego
			sk³adaj±ca siê z liter i/lub cyfr. W tej samej linii co klucz, po znaku
			równo¶ci, umieszcza siê warto¶æ parametru. Je¶li warto¶æ zawiera znaki specjalne
			nale¿y j± obj±æ w apostrofy lub cudzys³ów.</para>
			<example id="config-format">
				<title>Format opcji konfiguracyjnych</title>
				<screen>
[sekcja]
klucz = warto¶æ 
zmienna1 = "jaki¶ tekst"
para_metr = 'zmienna "para_metr" w apostrofach'

[sekcja_1]				#tu mo¿na komentowaæ
klucz = "tekst ze znakami \t i ;"	; tu te¿ mo¿na komentowaæ
; a to jest komentarz na ca³± liniê
key = "A.L.E.C's LMS Daemon is the best"
# opcja = wy³±czona
</screen>
			</example>
		</sect2>
		<sect2 id="perl">
			<title>Zmienne dla skryptów perlowych</title>
			<para>Konfiguracja skryptów perlowych, z uwagi na zastosowanie
			modu³u Config::IniFiles, ma pewne ograniczenia. Komentarze mog±
			byæ wstawiane tylko i wy³±cznie w nowej linii. Warto¶ci
			zmiennych nie obejmuje siê w apostrofy lub cudzys³ów, a s±
			one czytane od znaku równo¶ci do koñca wiersza. Dlatego w³a¶nie 
			nie mo¿na umieszczaæ komentarzy w jednej linii z parametrami.
			</para>
		</sect2>
	</sect1>
	<sect1 id="devel-genfake">
		<title>Generowanie danych losowych</title>
		<para>Dla osób chc±cych szybko sprawdziæ jak dzia³a LMS przygotowali¶my
		modu³ 'genfake', s³u¿±cy do tworzenia bazy zawieraj±cej przyk³adowe dane. </para>
		<para>Aby wygenerowaæ dane nale¿y, po zalogowaniu siê w LMS'ie wywo³aæ adres <filename>
		http://twoj.serwer.net/lms/?m=genfake</filename>, okre¶liæ ilu
		u¿ytkowników ma zostaæ stworzonych i nacisn±æ ENTER. To wszystko. Ewentualne b³êdy
		bazy danych, spowodowane ograniczeniami unikalno¶ci niektórych danych, mo¿na zignorowaæ.
		<note><para>Dla prawid³owego wygenerowania zale¿no¶ci, modu³ 'genfake'
		nale¿y uruchamiaæ na pustej, nowo utworzonej bazie.</para></note>
		<warning><para>Wszystkie dane (oprócz danych u¿ytkowników) zostan±
		usuniête z bazy.</para></warning>
		</para>
	</sect1>
	<sect1 id="devel-rights">
		<title>Poziomy dostêpu</title>
		<para>W  sumie  tutaj  to  wyt³umaczê  bardziej  dla developerów, gdy¿ osoby
		korzystaj±ce z LMS raczej nie bêd± zainteresowane.</para>
		<para>Oryginalnie poziomy dostêpu mia³y byæ definiowane poprzez ró¿ne litery.
		By³o to  za³o¿enie  z  czasów LMS-0.4, lecz nigdy nie wykorzystane. Z
		racji  tego,  ¿e  wesz³o  to  do 1.0, d³ugo siê g³owi³em jak wykorzystaæ
		64-znakowego  stringa. Otó¿ w kolumnie rights jest po prostu 64-znakowa
		(256-bitowa)  liczba  heksadecymalna.  Ka¿dy jej znak mo¿e opisaæ
		maksymalnie  cztery bity kombinacji (4*64 = 256 - st±d ilo¶æ mo¿liwych
		poziomów).  Tak  wiêc  w³±czenie  jakiego¶  poziomu  dostêpu  powoduje
		ustawienie  w  tej  liczbie  odpowiedniego  bitu.  I tak je¿eli "pe³en
		dostêp"  ma pozycjê 0 w lib/accesstable.php, zostanie ustawiony bit 0,
		czyli  bêdzie  to liczba 1. Wiêc poziomy mog± mieæ numery od 0 do 255.
		Nie jest to finalne ograniczenie. Stosuj±c wiêcej liter i znaków mo¿na
		rozszerzyæ ilo¶æ mo¿liwych kombinacji do przynajmniej 6 bitów na znak,
		co da nam 384 kombinacje.
		</para>
	</sect1>
	<sect1 id="devel-limits">
		<title>Ograniczenia</title>
		<para>Ka¿dy system ma ograniczenia. Pewne wynikaj± z u¿ytego silnika SQL (DBMS)
		inne za¶ z za³o¿eñ [prawie] ¶wiadomie podjêtych przez developerów. Nasz system
		takowe posiada:</para>
		<sect2 id="devel-limits-lms">
			<title>Wynikaj±ce z naszego projektu</title>
			<para>Ilo¶æ pieniêdzy (tabela 'cash'). Pieni±¿ki (od lms-1.1) przechowywali¶my jako
			32 bitow± liczbê ca³kowit± i w zwi±zku z tym za 8 lat mogli¶cie nas nie lubiæ 
			posiadaj±c oko³o 5000 u¿ytkowników.  Aktualnie (od lms-1.1.7 Hathor) u¿ywamy 
			bardziej odpowiedniego typu danych [decimal (9.2), 2 miejsca znacz±ce po przecinku,
			a w sumie 9 miejsc na ca³± liczbê]. Maksymalna warto¶æ to 9'999'999.99 (dotyczy sumy			 wszystkich operacji finansowych!). Procedury konwertuj±ce liczby na s³owa s± 
			przygotowane na kwoty tak du¿e jak 10^18.</para>
		</sect2>
		<sect2 id="devel-limits-db">
			<title>Wynikaj±ce z u¿ywanego DBMS</title>
			<itemizedlist>
			<listitem>
			<para>MySQL</para>
			<itemizedlist>
			<listitem>
			<para>Rozmiar bazy danych:</para>
			<para>Jak mówi dokumentacja do MySQL'a (rozdzia³: Table size, paragraf "How Big Can
			MySQL Tables Be?"), MySQL wersja 3.22 by³ ograniczony do 4 GB na tabelkê.
			W wersji za¶ 3.23 zosta³o to podniesione do 8 milionów terabajtów (czyli
			2^63 bajtów). Jednak warto zauwa¿yæ ¿e ró¿ne systemy operacyjne maj±
			limity nak³adane przez systemy plików, najczê¶ciej jest to 2 lub 4 GB.</para>
			</listitem>
			<listitem>
			<para>Ilo¶æ rekordów:</para>
			<para>Prawdziwe informacje na temat limitów uzyskamy dopiero po wydaniu polecenia:
			(w interpreterze poleceñ mysql)</para>
			<screen>
mysql&gt; show table status;

...| Avg_row_length | Data_length | Max_data_length | Index_length |
...|             44 |       24136 |      4294967295 |        19456 |</screen>
			<para>Zauwa¿ymy ¿e miejsca wystarczy na oko³o 175 000 razy tyle ile mamy
			aktualnie wpisów w tabelce. (czyt.: mo¿esz spaæ spokojnie, chyba ¿e
			planujesz posiadanie ponad 100000 u¿ytkowników :-)</para>
			</listitem>
			</itemizedlist>
			</listitem>
			<listitem>
			<para>PostgreSQL</para>
			<itemizedlist>
			<listitem>
			<para>Rozmiar bazy danych:</para>
			<para>PostgreSQL zapisuje dane w porcjach po 8 kB. Liczba tych bloków jest
			ograniczona do 32-bitowej liczby ca³kowitej ze znakiem, daj±c maksymaln±
			wielko¶æ tabeli wynosz±c± 16 terabajtów. Z uwagi na ograniczenia systemów
			operacyjnych dane przechowywane s± w wielu plikach o wielko¶ci 1 GB ka¿dy.</para>
			</listitem>
			<listitem>
			<para>Ilo¶æ rekordów:</para>
			<para>PostgreSQL nie narzuca ograniczenia na liczbê wierszy w dowolnej tabeli.
			Jednak funkcja COUNT zwraca 32-bitow± liczbê ca³kowit±, a zatem dla tabel
			zawieraj±cych ponad dwa miliardy wierszy wynik tej funkcji bêdzie
			nieprawid³owy. (Informacja dot. PostgreSQL 7.1)</para>
			</listitem>
			</itemizedlist>
			</listitem>
			<listitem>
			<para>SQLite</para>
			<itemizedlist>
			<listitem>
			<para>Rozmiar bazy danych:</para>
			<para>Od wersji 2.7.4 SQLite mo¿e obs³ugiwaæ bazy o rozmiarze do 2 terabajtów. 
			Dodatkowym ograniczeniem jest objêto¶æ danych zapisanych w jednym rekordzie.
			Wielko¶æ ta, ograniczona do 1 MB mo¿e zostaæ zwiêkszona do 16 MB podczas 
			kompilacji.</para>
			</listitem>
			<listitem>
			<para>Ilo¶æ rekordów:</para>
			<para>Maksymalna ilo¶æ rekordów dla tej bazy to 2^32, ale nikt nie testowa³ nigdy takiej 
			ilo¶ci.</para>
			</listitem>
			</itemizedlist>
			</listitem>
			</itemizedlist>
		</sect2>
	</sect1>
</chapter>
