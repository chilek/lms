<!-- $Id$ -->
<chapter id="devel">
     <title>Dla dociekliwych</title>
     <sect1 id="devel-catalogs">
          <title>Drzewo katalog�</title>
               <table id="catalog-tree">
                    <title>Drzewo katalog� LMS</title>
               <tgroup cols="2">
                    <colspec ALIGN="center" COLWIDTH="200">
                    <colspec ALIGN="center" COLWIDTH="300">
                   <thead>
                    <row>
                    <entry>Nazwa</entry>
                    <entry>Opis</entry>
                    </row>
                   </thead>
                   <tbody>
                    <row>
                    <entry>backups</entry>
                    <entry>Kopie zapasowe bazy danych</entry>
                    </row>
                    <row>
                    <entry>bin</entry>
                    <entry>Skrypty wykonywalne lms-...</entry>
                    </row>
                    <row>
                    <entry>contrib</entry>
                    <entry>Dodatki stworzone przez uytkownik� LMS</entry>
                    </row>
                    <row>
                    <entry>daemon</entry>
                    <entry>A.L.E.C's LMS Daemon</entry>
                    </row>
                    <row>
                    <entry>devel</entry>
                    <entry>Skrypty przydatne dla developer�</entry>
                    </row>
                    <row>
                    <entry>doc</entry>
                    <entry>Dokumentacja</entry>
                    </row>
                    <row>
                    <entry>documents</entry>
                    <entry>Archiwum dokument�</entry>
                    </row>
                    <row>
                    <entry>img</entry>
                    <entry>Obrazki do Interfejsu Uytkownika</entry>
                    </row>
                    <row>
                    <entry>lib</entry>
                    <entry>LMS'owy zbi� bibliotek PHP oraz Smarty</entry>
                    </row>
                    <row>
                    <entry>modules</entry>
                    <entry>Moduy Interfejsu Uytkownika</entry>
                    </row>
                    <row>
                    <entry>sample</entry>
                    <entry>Przykadowe skrypty i inne dodatki</entry>
                    </row>
                    <row>
                    <entry>templates</entry>
                    <entry>Szablony Smarty dla Interfejsu Uytkownika</entry>
                    </row>
                    <row>
                    <entry>templates_c</entry>
                    <entry>Pliki tymczasowe</entry>
                    </row>
               </tbody>
               </tgroup>
                   </table>
     </sect1>
     <sect1 id="devel-db">
          <title>Struktura bazy danych</title>
          <para>Poniej przedstawiono og�n struktur�bazy danych LMS. Bardziej szczeg�we
          informacje o typach danych, ograniczeniach nakadanych na pola oraz wartoci domylne
          zawarte s w plikach <ulink url="../lms.mysql"><filename>lms.mysql</filename></ulink>,
          <ulink url="../lms.pgsql"><filename>lms.pgsql</filename></ulink> 
          w katalogu <filename>/doc</filename>.</para>
          <sect2 id="users">
               <title>Uytkownicy ('users')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>login - login</member>
                    <member>name - nazwa (nazwisko i imi�</member>
                    <member>email - adres admina</member>
                    <member>rights - prawa dost�u</member>
                    <member>hosts - lista host� z prawem do logowania</member>
                    <member>passwd - haso logowania</member>
                    <member>lastlogindate - data ostatniego logowania</member>
                    <member>lastloginip - adres IP, z kt�ego nastpio ostatnie logowanie</member>
                    <member>failedlogindate - data ostatniej nieudanej pr�y logowania</member>
                    <member>failedloginip - adres IP, z kt�ego pr�owano si�zalogowa�/member>
                    <member>deleted - czy usuni�y (0/1)</member>
               </simplelist>
          </sect2>
          <sect2 id="customers">
               <title>Klienci ('customers')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>lastname - nazwa/nazwisko</member>
                    <member>name - imi�/member>
                    <member>status - status (3-podczony, 2-oczekujcy, 1-zainteresowany)</member>
                    <member>email - adres poczty internetowej</member>
                    <member>phone1 - telefon</member>
                    <member>phone2 - telefon</member>
                    <member>phone3 - telefon</member>
                    <member>pin - numer pin (uwierzytelnianie)</member>
                    <member>address - adres (ulica, nr domu, nr lokalu)</member>
                    <member>zip - kod pocztowy</member>
                    <member>city - nazwa miasta</member>
                    <member>ten - numer identyfikacji podatkowej NIP</member>
                    <member>ssn - numer PESEL</member>
		    <member>regon - numer REGON</member>
		    <member>rbe - numer KRS/EDG</member>
		    <member>icn - numer dowodu osobistego</member>
                    <member>info - dodatkowe informacje</member>
                    <member>notes - notatki</member>
		    <member>serviceaddr - adres do dor�ze�(np. na faktury)</member>
                    <member>creationdate - czas utworzenia wpisu</member>
                    <member>moddate - czas modyfikacji</member>
                    <member>creatorid - identyfikator uytkownika tworzcego wpis</member>
                    <member>modid - identyfikator uytkownika dokonujcego zmian danych</member>
                    <member>deleted - usuni�y z bazy (0/1)</member>
                    <member>message - komunikat do wywietlenia przy wczonych ostrzeeniach</member>
               </simplelist>
          </sect2>
          <sect2 id="customergroups">
               <title>Grupy klient� ('customergroups')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa</member>
                    <member>description - opis</member>
               </simplelist>
          </sect2>
          <sect2 id="customerassignments">
               <title>Grupy klient� - c.d. ('customerassignments')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>customergroupid - identyfikator grupy</member>
                    <member>customerid - identyfikator klienta</member>
               </simplelist>
          </sect2>
          <sect2 id="networks">
               <title>Sieci ('networks')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa sieci</member>
                    <member>address - adres IP</member>
                    <member>mask - maska</member>
                    <member>interface - interfejs (np. eth1)</member>
                    <member>gateway - adres IP bramy</member>
                    <member>dns - adres IP serwera nazw</member>
                    <member>dns2 - adres IP zapasowego serwera nazw</member>
                    <member>domain - domena</member>
                    <member>wins - adres serwera WINS</member>
                    <member>dhcpstart - pocztek zakresu DHCP</member>
                    <member>dhcpend - koniec zakresu DHCP</member>
               </simplelist>
          </sect2>
          <sect2 id="nodes">
               <title>Komputery i adresy IP urzdze�sieciowych ('nodes')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa</member>
                    <member>mac - adres MAC</member>
                    <member>ipaddr - adres IP</member>
                    <member>passwd - haso np. pppoe</member>
                    <member>ownerid - identyfikator waciciela ('0' - dla adresu urzdzenia)</member>
                    <member>creationdate - znacznik czasu utworzenia wpisu</member>
                    <member>moddate - znacznik czasu ostatniej modyfikacji</member>
                    <member>creatorid - identyfikator uytkownika tworzcego wpis</member>
                    <member>modid - identyfikator uytkownika ostatnio modyfikujcego wpis</member>
                    <member>netdev - identyfikator urzdzenia sieciowego do kt�ego jest podczony komputer</member>
                    <member>linktype - typ poczenia sieciowego (0-kabel, 1-radio)</member>
                    <member>access - podczony/odczony (1/0)</member>
                    <member>chkmac - wczone/wyczone sprawdzanie MAC adresu (1/0)</member>
                    <member>halfduplex - half/full duplex (0/1)</member>
                    <member>warning - ostrzegaj/nie ostrzegaj (1/0)</member>
                    <member>lastonline - znacznik czasu ostatniej obecnoci w sieci</member>
                    <member>info - informacje dodatkowe</member>
		    <member>location - lokalizacja (adres)</member>
               </simplelist>
          </sect2>
          <sect2 id="netdevices">
               <title>Sprz� sieciowy ('netdevices')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa</member>
                    <member>location - lokalizacja</member>
                    <member>description - opis</member>
                    <member>producer - producent</member>
                    <member>model - model</member>
                    <member>serialnumber - numer seryjny</member>
                    <member>ports - ilo�port�</member>
               </simplelist>
          </sect2>
          <sect2 id="netlinks">
               <title>Poczenia sieciowe ('netlinks')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>src - jeden koniec</member>
                    <member>dst- drugi koniec</member>
                    <member>type - typ poczenia (0-kabel, 1-radio)</member>
               </simplelist>
          </sect2>
          <sect2 id="cash">
               <title>Operacje finansowe ('cash')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>time - znacznik czasu zaksi�owania operacji</member>
		    <member>type - typ operacji (1-patno� 0-zobowizanie)</member>
                    <member>userid - identyfikator uytkownika dokonujcego operacji</member>
                    <member>value - warto�w zotych</member>
                    <member>taxid - identyfikator stawki podatkowej</member>
                    <member>customerid - identyfikator klienta ('0' - jeli nie dotyczy)</member>
                    <member>docid - identyfikator dokumentu (np. faktury) obejmujcego dan operacj�/member>
                    <member>itemid - nr pozycji na fakturze</member>
                    <member>comment - opis operacji</member>
               </simplelist>
          </sect2>
          <sect2 id="cashimport">
               <title>Import operacji finansowych ('cashimport')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>date - znacznik czasu operacji</member>
                    <member>value - kwota operacji</member>
                    <member>customer - dane wpacajcego</member>
                    <member>description - opis operacji</member>
                    <member>customerid - identyfikator klienta</member>
                    <member>hash - unikalny skr� danych operacji</member>
                    <member>closed - status operacji</member>
               </simplelist>
          </sect2>
          <sect2 id="taxes">
               <title>Stawki podatkowe ('taxes')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>value - warto�procentowa stawki</member>
                    <member>label - etykieta stawki</member>
                    <member>validfrom - pocztek okresu obowizywania</member>
                    <member>validto - koniec okresu obowizywania</member>
                    <member>taxed - status opodatkowania (1-tak, 0-nie)</member>
               </simplelist>
          </sect2>
          <sect2 id="tariffs">
               <title>Taryfy ('tariffs')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa</member>
                    <member>value - kwota</member>
                    <member>taxid - identyfikator stawki podatkowej</member>
                    <member>prodid - numer PKWiU</member>
                    <member>uprate - gwarantowany upload</member>
                    <member>upceil - maksymalny upload</member>
                    <member>downrate - gwarantowany download</member>
                    <member>downceil - maksymalny download</member>
                    <member>climit - limit pocze�/member>
                    <member>plimit - limit pakiet� w jednostce czasu</member>
                    <member>plimit - limit danych w jednostce czasu</member>
                    <member>description - opis</member>
               </simplelist>
          </sect2>
        <sect2 id="liabilities">
		<title>Zobowizania ('liabilities')</title>
		<simplelist>
			<member>id - identyfikator</member>
			<member>name - nazwa (opis) zobowizania</member>
			<member>value - kwota</member>
			<member>taxid - identyfikator stawki podatkowej</member>
			<member>prodid - numer PKWiU</member>
		</simplelist>
	</sect2>
          <sect2 id="payments">
               <title>Opaty stae ('payments')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa</member>
                    <member>value - kwota</member>
                    <member>creditor - nazwa wierzyciela</member>
                    <member>period - typ okresu naliczania: codziennie/co tydzie�co miesic/co kwarta/co rok (1/2/3/4/5)</member>
                    <member>at - dzie�naliczenia</member>
                    <member>description - opis</member>
               </simplelist>
          </sect2>
          <sect2 id="assignments">
               <title>Powizania ('assignments')</title>
                  <simplelist>
                    <member>id - identyfikator</member>
                    <member>tariffid - identyfikator taryfy</member>
		    <member>liabilityid - identyfikator zobowizania</member>
                    <member>customerid - identyfikator klienta</member>
                    <member>period - typ okresu naliczania: codziennie/co tydzie�co miesic/co kwarta/co rok (1/2/3/4/5)</member>
                    <member>at - dzie�naliczania</member>
                    <member>datefrom - data obowizywania zobowizania</member>
                    <member>dateto - data obowizywania zobowizania</member>
                    <member>invoice - okrela czy ma by�wystawiana faktura (1 - tak, 0 - nie)</member>
                    <member>discount - warto�procentowa rabatu</member>
                    <member>suspended - zawieszenie patnoci (1 - tak, 0 - nie)</member>
		    <member>settlement - rozliczenie okresu niepenego (1 - tak, 0 - nie)</member>
               </simplelist>
          </sect2>
	  <sect2 id="nodeassignments">
		  <title>Powizania komputer-taryfa ('nodeassignments')</title>
		  <simplelist>
			  <member>id - identyfikator</member>
			  <member>assignmentid - identyfikator zobowizania</member>
			  <member>nodeid - identyfikator komputera</member>
		  </simplelist>
          </sect2>
	  <sect2 id="numberplans">
               <title>Plany (szablony) numeracyjne dokument� ('numberplans')</title>
                  <simplelist>
                    <member>id - identyfikator</member>
                    <member>template - szablon (wzorzec) numeru</member>
                    <member>period - typ okresu numeracyjnego: dzie�tydzie�miesic/kwarta/rok</member>
                    <member>doctype - typ dokumentu</member>
                    <member>isdefault - '1' - jeli dany plan jest domylny dla wybranego typu dokument�, '0' - jeli nie</member>
               </simplelist>
          </sect2>
	  <sect2 id="cashregs">
		<title>Rejestry kasowe ('cashregs')</title>
		<simplelist>
			<member>id - identyfikator</member>
			<member>name - nazwa rejestru</member>
			<member>description - dodatkowy opis</member>
			<member>in_numberplanid - identyfikator planu numeracyjnego dla dowod� wpaty</member>
			<member>out_numberplanid - identyfikator planu numeracyjnego dla dowod� wypaty</member>
			<member>disabled - wyczenie sumowania (0/1)</member>
		</simplelist>
	  </sect2>
	  <sect2 id="cashrights">
		  <title>Rejestry kasowe - uprawnienia ('cashrights')</title>
		  <simplelist>
			  <member>id - identyfikator</member>
			  <member>regid - identyfikator rejestru</member>
			  <member>userid - identyfikator uytkownika</member>
			  <member>rights - (1-odczyt, 2-zapis, 3-zaawansowane)</member>
		  </simplelist>
          </sect2>
	<sect2 id="cashreglog">
	        <title>Cash registries - cash history ('cashreglog')</title>
		<simplelist>
			<member>id - identyfikator</member>
			<member>regid - identyfikator rejestru</member>
			<member>userid - identyfikator uytkownika</member>
			<member>time - data i godzina wpisu</member>
			<member>value - rzeczywista warto�stanu kasy (got�ki)</member>
			<member>description - dodatkowe informacje</member>
		</simplelist>
	</sect2>
          <sect2 id="documents">
               <title>Dokumenty: faktury, KP, umowy, etc. ('documents')</title>
                  <simplelist>
                    <member>id - identyfikator</member>
                    <member>number - numer dokumentu (%N)</member>
		    <member>extnumber - dodatkowy numer dokumentu (%I)</member>
		    <member>numberplanid - identyfikator planu numeracyjnego</member>
		    <member>type - typ dokumentu (1-faktura, 2-KP)</member>
                    <member>cdate - data wystawienia</member>
                    <member>paytime - termin patnoci (ilo�dni)</member>
                    <member>paytype - rodzaj patnoci (przelew/got�ka/etc.)</member>
                    <member>customerid - identyfikator klienta-nabywcy</member>
		    <member>userid - identyfikator uytkownika wystawiajcego dokument</member>
                    <member>name - nazwa (nazwisko i imi� klienta</member>
                    <member>address - adres klienta</member>
                    <member>ten - nip klienta</member>
                    <member>ssn - PESEL klienta</member>
                    <member>zip - kod pocztowy klienta</member>
                    <member>city - miasto klienta</member>
		    <member>closed - czy dokument jest rozliczony? (0/1)</member>
		    <member>reference - ID dokumentu (np. korygowanej faktury)</member>
               </simplelist>
          </sect2>
          <sect2 id="documentcontents">
               <title>Dokumenty niefinansowe ('documentcontents')</title>
                  <simplelist>
                    <member>docid - identyfikator dokumentu</member>
                    <member>title - tytu dokumentu</member>
		    <member>fromdate - pocztek okresu obowizywania</member>
                    <member>todate - koniec okresu obowizywania</member>
                    <member>filename - nazwa pliku</member>
                    <member>contenttype - typ pliku</member>
                    <member>md5sum - suma md5 pliku</member>
		    <member>description - dodatkowy opis</member>
               </simplelist>
          </sect2>
          <sect2 id="invoicecontents">
               <title>Faktury ('invoicecontents')</title>
                  <simplelist>
                    <member>docid - identyfikator faktury</member>
                    <member>itemid - nr pozycji</member>
                    <member>value - kwota pozycji</member>
		    <member>discount - warto�procentowa rabatu</member>
                    <member>taxid - identyfikator stawki podatkowej</member>
                    <member>prodid - numer PKWiU</member>
                    <member>content - uyta jednostka (najcz�iej 'szt.')</member>
                    <member>count - ilo�/member>
                    <member>description - opis</member>
                    <member>tariffid - identyfikator taryfy</member>
               </simplelist>
          </sect2>
          <sect2 id="receiptcontents">
               <title>Potwierdzenia wpaty - KP ('receiptcontents')</title>
                  <simplelist>
                    <member>docid - identyfikator faktury</member>
                    <member>itemid - nr pozycji</member>
		    <member>regid - identyfikator rejestru</member>
                    <member>value - kwota pozycji</member>
                    <member>description - opis pozycji</member>
               </simplelist>
          </sect2>
	  <sect2 id="imessengers">
		<title>Komunikatory internetowe ('imessengers')</title>
		<simplelist>
			<member>id - identyfikator rekordu</member>
			<member>customerid - identyfikator klienta</member>
			<member>uid - identyfikator/nazwa użytkownika</member>
			<member>type - rozdzaj komunikatora (0-gadu-gadu, 1-yahoo, 2-skype)</member>
		</simplelist>
          </sect2>
          <sect2 id="passwd">
               <title>Konta ('passwd')</title>
               <simplelist>
                    <member>id - identyfikator rekordu</member>
                    <member>ownerid - identyfikator klienta (0 - konto "systemowe")</member>
                    <member>login - nazwa konta</member>
                    <member>password - haso zaszyfrowane funkcj crypt()</member>
                    <member>realname - dodatkowa nazwa konta/uytkownika</member>
                    <member>lastlogin - data ostatniego logowania</member>
                    <member>uid - identyfikator systemowy konta</member>
                    <member>home - katalog domowy</member>
                    <member>type - typ konta (suma: 1-shell, 2-poczta, 4-www, 8-ftp)</member>
                    <member>expdate - data wanoci konta</member>
                    <member>domainid - identyfikator domeny z tabeli 'domains'</member>
                    <member>createtime - data utworzenia konta</member>
                    <member>quota_sh - limit</member>
                    <member>quota_mail - limit</member>
                    <member>quota_www - limit</member>
                    <member>quota_ftp - limit</member>
		    <member>quota_sql - limit</member>
               </simplelist>
          </sect2>
          <sect2 id="domains">
               <title>Domeny ('domains')</title>
               <simplelist>
                    <member>id - identyfikator rekordu</member>
                    <member>name - nazwa domeny</member>
                    <member>description - opis</member>
               </simplelist>
          </sect2>
          <sect2 id="aliases">
               <title>Aliasy ('aliases')</title>
               <simplelist>
                    <member>id - identyfikator rekordu</member>
                    <member>login - nazwa konta (bez domeny)</member>
                    <member>accountid - identyfikator konta</member>
               </simplelist>
          </sect2>
          <sect2 id="timestamps">
               <title>Historia ('timestamps')</title>
               <simplelist>
                    <member>time - czas ostatniej modyfikacji</member>
                    <member>tablename - nazwa tabeli</member>
               </simplelist>
          </sect2>
          <sect2 id="stats">
               <title>Statystyki wykorzystania cza ('stats')</title>
               <simplelist>
                    <member>nodeid - numer komputera</member>
                    <member>dt - znacznik czasu</member>
                    <member>upload - ilo�danych wysanych, w bajtach</member>
                    <member>download - ilo�danych odebranych, w bajtach</member>
               </simplelist>
          </sect2>
          <sect2 id="rtqueues">
               <title>Helpdesk - kolejki ('rtqueues')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa</member>
                    <member>email - adres konta pocztowego</member>
                    <member>description - opis dodatkowy</member>
               </simplelist>
          </sect2>
          <sect2 id="rttickets">
               <title>Helpdesk - zgoszenia ('rttickets')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>queueid - identyfikator kolejki</member>
                    <member>requestor - dane zgaszajcego-klienta (w tym e-mail)</member>
                    <member>customerid - identyfikator klienta</member>
                    <member>subject - temat zgoszenia</member>
                    <member>state - status (0-nowy, 1-otwarty, 2-rozwizany, 3-martwy)</member>
		    <member>cause - przyczyna zgoszenia (0-nieznana, 1-klient, 2-firma)</member>
                    <member>owner - identyfikator waciciela-uytkownika</member>
                    <member>createtime - data zgoszenia</member>
               </simplelist>
          </sect2>
          <sect2 id="rtmessages">
               <title>Helpdesk - wiadomoci ('rtmessages')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>ticketid - identyfikator zgoszenia</member>
                    <member>userid - identyfikator uytkownika-nadawcy</member>
                    <member>customerid - identyfikator klienta-nadawcy</member>
                    <member>mailfrom - e-mail nadawcy</member>
                    <member>subject - temat wiadomoci</member>
                    <member>messageid - pocztowy identyfikator wiadomoci</member>
                    <member>inreplyto - identyfikator poprzedniej wiadomoci</member>
                    <member>replyto - nag�ek wiadomoci</member>
                    <member>headers - wszystkie nag�ki pocztowe wiadomoci</member>
                    <member>body - tre�wiadomoci</member>
                    <member>createtime - data utworzenia/wysania/odebrania </member>
               </simplelist>
          </sect2>
          <sect2 id="rtattachments">
               <title>Helpdesk - zaczniki ('rtattachments')</title>
               <simplelist>
                    <member>messageid - identyfikator wiadomoci</member>
                    <member>filename - nazwa pliku</member>
                    <member>contenttype - typ pliku</member>
               </simplelist>
          </sect2>
          <sect2 id="rtnotes">
               <title>Helpdesk - notatki ('rtnotes')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>ticketid - identyfikator zgoszenia</member>
                    <member>userid - identyfikator uytkownika</member>
                    <member>body - tre�notatki</member>
                    <member>createtime - data utworzenia</member>
               </simplelist>
          </sect2>
          <sect2 id="rtrights">
               <title>Helpdesk - uprawnienia ('rtrights')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>queueid - identyfikator kolejki</member>
                    <member>userid - identyfikator uytkownika</member>
                    <member>rights - (1-odczyt, 2-zapis, 3-powiadomienia)</member>
               </simplelist>
          </sect2>
          <sect2 id="uiconfig">
               <title>Konfiguracja LMS-UI ('uiconfig')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>section - nazwa sekcji</member>
                    <member>var - nazwa opcji konfiguracyjnej</member>
                    <member>value - warto�/member>
                    <member>description - opis/komentarz</member>
                    <member>disabled - wyczenie opcji (0-w., 1-wy.)</member>
               </simplelist>
          </sect2>
          <sect2 id="events">
               <title>Terminarz - zdarzenia ('events')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>title - tytu</member>
                    <member>description - opis</member>
                    <member>note - notatka</member>
                    <member>date - data zdarzenia</member>
                    <member>begintime - pocztek zdarzenia</member>
                    <member>endtime - koniec zdarzenia</member>
                    <member>userid - identyfikator uytkownika tworzcego wpis w terminarzu</member>
                    <member>customerid - identyfikator klienta</member>
                    <member>private - prywatny/publiczny</member>
                    <member>closed - status zamkni�ia</member>
               </simplelist>
          </sect2>
          <sect2 id="eventassignments">
               <title>Terminarz - powizania ('eventassignments')</title>
               <simplelist>
                    <member>eventid - identyfikator zdarzenia</member>
                    <member>userid - identyfikator uytkownika</member>
               </simplelist>
          </sect2>
          <sect2 id="hosts">
               <title>Hosty ('hosts')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa hosta</member>
                    <member>description - opis</member>
                    <member>lastreload - data ostatniego przeadowania</member>
                    <member>reload - danie przeadowania</member>
               </simplelist>
          </sect2>
          <sect2 id="daemoninstances">
               <title>Konfiguracja demona - instancje ('daemoninstances')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>name - nazwa instancji</member>
                    <member>hostid - identyfikator hosta</member>
                    <member>module - nazwa i cieka do moduu</member>
                    <member>crontab - czas wykonania</member>
                    <member>priority - priorytet przeadowania</member>
                    <member>description - opis</member>
                    <member>disabled - status (wczona/wyczona)</member>
               </simplelist>
          </sect2>
          <sect2 id="daemonconfig">
               <title>Konfiguracja demona - opcje ('daemonconfig')</title>
               <simplelist>
                    <member>id - identyfikator</member>
                    <member>instanceid - identyfikator instancji</member>
                    <member>var - nazwa opcji</member>
                    <member>value - warto�opcji</member>
                    <member>description - opis</member>
                    <member>disabled - status (wczona/wyczona)</member>
               </simplelist>
          </sect2>
          <sect2 id="sessions">
               <title>Sesje ('sessions')</title>
               <simplelist>
                    <member>id - identyfikator sesji</member>
                    <member>ctime - czas utworzenia</member>
                    <member>mtime - czas modyfikacji</member>
                    <member>atime - czas ost. dost�u</member>
                    <member>vdata - dane weryfikujce</member>
                    <member>content - dane</member>
               </simplelist>
          </sect2>
          <sect2 id="dbinfo">
               <title>Informacje o bazie danych ('dbinfo')</title>
               <simplelist>
                    <member>keytype - typ</member>
                    <member>keyvalue - warto�/member>
               </simplelist>
          </sect2>
     </sect1>
     <sect1 id="devel-ini">
          <title>Format pliku konfiguracyjnego</title>
          <para>W pliku konfiguracyjnym LMS'a (standardowo <filename>/etc/lms/lms.ini</filename>)
          mona ustawia�parametry <emphasis>LMS-UI</emphasis>, <emphasis>LMS_MGC</emphasis>
	  i innych skrypt�. Przechowywanie konfiguracji demona <emphasis>lmsd</emphasis>
	  w pliku konfiguracyjnym nie jest zalecane. Format wartoci parametr� dla skrypt� 
	  perlowych podlega wi�szym restrykcjom ni dla UI.</para>
          <sect2 id="ini-comments">
               <title>Komentarze</title>
               <para>Programy parsujce plik konfiguracyjny pomijaj wszystkie linie
               zaczynajce si�znakiem '#' lub ';'. Komentarze poprzedzone jednym z tych
               znak� mona take wstawia�w tej samej linii co sekcje i opcje.</para>
          </sect2>
          <sect2 id="ini-params">
               <title>Sekcje, klucze, wartoci</title>
               <para>Opcje konfiguracyjne pogrupowane s w sekcje. Nazw�sekcji, skadajc
               si�z liter i/lub cyfr naley zamkn�w nawiasy kwadratowe. Ich nazwy
               powinny by�unikalne.</para>
               <para>Sekcje i parametry umieszcza si�w osobnych liniach. Parametry
               skadaj si�z klucza i wartoci. Klucz to nazwa parametru konfiguracyjnego
               skadajca si�z liter i/lub cyfr. W tej samej linii co klucz, po znaku
               r�noci, umieszcza si�warto�parametru. Jeli warto�zawiera znaki specjalne
               naley j obj�w apostrofy lub cudzys�.</para>
               <example id="config-format">
                    <title>Format opcji konfiguracyjnych</title>
                    <screen>
[sekcja]
klucz = warto�
zmienna1 = "jaki tekst"
para_metr = 'zmienna "para_metr" w apostrofach'

[sekcja_1]                    #tu mona komentowa�klucz = "tekst ze znakami \t i ;"     ; tu te mona komentowa�; a to jest komentarz na ca lini�key = "A.L.E.C's LMS Daemon is the best"
# opcja = wyczona
</screen>
               </example>
          </sect2>
          <sect2 id="ini-perl">
               <title>Zmienne dla skrypt� perlowych</title>
               <para>Konfiguracja skrypt� perlowych, z uwagi na zastosowanie
               moduu Config::IniFiles, ma pewne ograniczenia. Komentarze mog
               by�wstawiane tylko i wycznie w nowej linii. Wartoci
               zmiennych nie obejmuje si�w apostrofy lub cudzys�, a s
               one czytane od znaku r�noci do ko�a wiersza. Dlatego wanie 
               nie mona umieszcza�komentarzy w jednej linii z parametrami.
               </para>
          </sect2>
     </sect1>
     <sect1 id="devel-genfake">
          <title>Generowanie danych losowych</title>
          <para>Dla os� chccych szybko sprawdzi�jak dziaa LMS przygotowalimy
          modu 'genfake', sucy do tworzenia bazy zawierajcej przykadowe dane. </para>
          <para>Aby wygenerowa�dane naley, po zalogowaniu si�w LMS'ie wywoa�adres <filename>
          http://twoj.serwer.net/lms/?m=genfake</filename>, okreli�ilu
          uytkownik� ma zosta�stworzonych i nacisn�ENTER. To wszystko. Ewentualne b�y
          bazy danych, spowodowane ograniczeniami unikalnoci niekt�ych danych, mona zignorowa�
          <note><para>Dla prawidowego wygenerowania zalenoci, modu 'genfake'
          naley uruchamia�na pustej, nowo utworzonej bazie.</para></note>
          <warning><para>Wszystkie dane (opr�z danych uytkownik�) zostan
          usuni�e z bazy.</para></warning>
          </para>
     </sect1>
     <sect1 id="devel-rights">
          <title>Poziomy dost�u</title>
          <para>W  sumie  tutaj  to  wytumacz� bardziej  dla developer�, gdy osoby
          korzystajce z LMS raczej nie b� zainteresowane.</para>
          <para>Oryginalnie poziomy dost�u miay by�definiowane poprzez r�e litery.
          Byo to  zaoenie  z  czas� LMS-0.4, lecz nigdy nie wykorzystane. Z
          racji  tego,  e  weszo  to  do 1.0, dugo si�gowiem jak wykorzysta�          64-znakowego  stringa. Ot�w kolumnie rights jest po prostu 64-znakowa
          (256-bitowa)  liczba  heksadecymalna.  Kady jej znak moe opisa�          maksymalnie  cztery bity kombinacji (4*64 = 256 - std ilo�moliwych
          poziom�).  Tak  wi�  wczenie  jakiego  poziomu  dost�u  powoduje
          ustawienie  w  tej  liczbie  odpowiedniego  bitu.  I tak jeeli "peen
          dost�"  ma pozycj�0 w lib/accesstable.php, zostanie ustawiony bit 0,
          czyli  b�zie  to liczba 1. Wi� poziomy mog mie�numery od 0 do 255.
          Nie jest to finalne ograniczenie. Stosujc wi�ej liter i znak� mona
          rozszerzy�ilo�moliwych kombinacji do przynajmniej 6 bit� na znak,
          co da nam 384 kombinacje.
          </para>
     </sect1>
     <sect1 id="devel-limits">
          <title>Ograniczenia</title>
          <para>Kady system ma ograniczenia. Pewne wynikaj z uytego silnika SQL (DBMS)
          inne za z zaoe�[prawie] wiadomie podj�ych przez developer�. Nasz system
          takowe posiada:</para>
          <sect2 id="devel-limits-lms">
               <title>Wynikajce z naszego projektu</title>
               <para>Ilo�pieni�zy (tabela 'cash'). Pieniki (od lms-1.1) przechowywalimy jako
               32 bitow liczb�cakowit i w zwizku z tym za 8 lat moglicie nas nie lubi�
               posiadajc okoo 5000 uytkownik�.  Aktualnie (od lms-1.1.7 Hathor) uywamy 
               bardziej odpowiedniego typu danych [decimal (9.2), 2 miejsca znaczce po przecinku,
               a w sumie 9 miejsc na ca liczb�. Maksymalna warto�to 9'999'999.99 (dotyczy sumy                wszystkich operacji finansowych!). Procedury konwertujce liczby na sowa s 
               przygotowane na kwoty tak due jak 10^18.</para>
          </sect2>
          <sect2 id="devel-limits-db">
               <title>Wynikajce z uywanego DBMS</title>
               <itemizedlist>
               <listitem>
               <para>MySQL</para>
               <itemizedlist>
               <listitem>
               <para>Rozmiar bazy danych:</para>
               <para>Jak m�i dokumentacja do MySQL'a (rozdzia: Table size, paragraf "How Big Can
               MySQL Tables Be?"), MySQL wersja 3.22 by ograniczony do 4 GB na tabelk�
               W wersji za 3.23 zostao to podniesione do 8 milion� terabajt� (czyli
               2^63 bajt�). Jednak warto zauway�e r�e systemy operacyjne maj
               limity nakadane przez systemy plik�, najcz�iej jest to 2 lub 4 GB.</para>
               </listitem>
               <listitem>
               <para>Ilo�rekord�:</para>
               <para>Prawdziwe informacje na temat limit� uzyskamy dopiero po wydaniu polecenia:
               (w interpreterze polece�mysql)</para>
               <screen>
mysql&gt; show table status;

...| Avg_row_length | Data_length | Max_data_length | Index_length |
...|             44 |       24136 |      4294967295 |        19456 |</screen>
               <para>Zauwaymy e miejsca wystarczy na okoo 175 000 razy tyle ile mamy
               aktualnie wpis� w tabelce. (czyt.: moesz spa�spokojnie, chyba e
               planujesz posiadanie ponad 100000 uytkownik� :-)</para>
               </listitem>
               </itemizedlist>
               </listitem>
               <listitem>
               <para>PostgreSQL</para>
               <itemizedlist>
               <listitem>
               <para>Rozmiar bazy danych:</para>
               <para>PostgreSQL zapisuje dane w porcjach po 8 kB. Liczba tych blok� jest
               ograniczona do 32-bitowej liczby cakowitej ze znakiem, dajc maksymaln
               wielko�tabeli wynoszc 16 terabajt�. Z uwagi na ograniczenia system�
               operacyjnych dane przechowywane s w wielu plikach o wielkoci 1 GB kady.</para>
               </listitem>
               <listitem>
               <para>Ilo�rekord�:</para>
               <para>PostgreSQL nie narzuca ograniczenia na liczb�wierszy w dowolnej tabeli.
               Jednak funkcja COUNT zwraca 32-bitow liczb�cakowit, a zatem dla tabel
               zawierajcych ponad dwa miliardy wierszy wynik tej funkcji b�zie
               nieprawidowy. (Informacja dot. PostgreSQL 7.1)</para>
               </listitem>
               </itemizedlist>
               </listitem>
               </itemizedlist>
          </sect2>
     </sect1>
</chapter>
