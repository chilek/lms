<!-- $Id$ -->
<chapter id="scripts">
    <title>Skrypty</title>
       <sect1 id="scripts-install">
        <title>Instalacja</title>
        <para>Je¶li chcesz ustawiæ konfiguracjê którego¶ ze skryptów, robi siê to
	w odpowiedniej sekcji <filename>lms.ini</filename>. Same skrypty 
	przenie¶ z katalogu <filename>/lms/bin/</filename> do katalogu <filename>/usr/sbin</filename>. 
	Po przeniesieniu musisz je jeszcze dopisaæ do crontaba tak, aby by³y uruchamiane 
	automatycznie, w³a¶nie wtedy kiedy tego chcesz.</para>
        <para>Przyk³adowo, wpis w crontabie dla skryptu lms-payments (wykonywanego
	codziennie o godzinie 00:01) powinien wygl±daæ nastêpuj±co:</para>
        <screen>
1 0 * * *       /usr/sbin/lms-payments 1 &gt; /dev/null</screen>
        <para>Po wiêcej informacji mo¿esz siêgn±æ do <command>man crontab</command></para>
	<para>Wiêkszo¶æ lms'owych skryptów posiada dodatkowe opcje uruchomieniowe:</para>
	<screen>
-C plik     po³o¿enie i nazwa alternatywnego pliku lms.ini, domy¶lnie /etc/lms/lms.ini
-q          wykonanie skryptu bez wy¶wietlania komunikatów               
-h          pomoc (a w zasadzie to tylko listing opcji)
-v          informacja o wersji skryptu</screen>
       </sect1>
       <sect1 id="scripts-list">
       <title>Lista dostêpnych skryptów</title>
	    <table>
		<title>Lista skryptów wykonywalnych</title>
		<tgroup cols="2">
		<colspec ALIGN="center" COLWIDTH="200">
		<colspec ALIGN="center" COLWIDTH="300">
		    <thead>
			<row>
			<entry>Nazwa</entry>
			<entry>Opis</entry>
			</row>	
		    </thead>
		    <tbody>
			<row>
			<entry>lms-notify</entry>
			<entry>Korespondencja seryjna do u¿ytkowników sieci</entry>
			</row>
			<row>
			<entry>lms-notify-sms</entry>
			<entry>Powiadamianie o zaleg³o¶ciach sms'em</entry>
			</row>
			<row>
			<entry>lms-cutoff</entry>
			<entry>Od³±czanie u¿ytkowników zad³u¿onych</entry>
			</row>
			<row>
			<entry>lms-etherdesc</entry>
			<entry>Generowanie pliku dla iptraf zawieraj±cego pary MAC adres - nazwa hosta</entry>
			</row>
			<row>
			<entry>lms-payments</entry>
			<entry>Naliczanie op³at okresowych (abonamentowych)</entry>
			</row>
			<row>
			<entry>lms-traffic</entry>
			<entry>Zapis statystyk wykorzystania ³±cza</entry>
			</row>
			<row>
			<entry>lms-traffic-logiptables</entry>
			<entry>Wspó³praca lms-traffic z iptables</entry>
			</row>
			<row>
			<entry>lms-makearp</entry>
			<entry>Tworzenie tablicy ARP (/etc/ethers)</entry>
			</row>
			<row>
			<entry>lms-makedhcpconf</entry>
			<entry>Konfiguracja serwera DHCP(/etc/dhcpd.conf)</entry>
			</row>
			<row>
			<entry>lms-makeiptables</entry>
			<entry>Konfiguracja firewalla iptables</entry>
			</row>
			<row>
			<entry>lms-makeipchains</entry>
			<entry>Konfiguracja firewalla ipchains</entry>
			</row>
			<row>
			<entry>lms-makeiodenconf</entry>
			<entry>Konfiguracja oident</entry>
			</row>
			<row>
			<entry>lms-makeopenbsdpf</entry>
			<entry>Konfiguracja firewalla dla systemu OpenBSD</entry>
			</row>
		    </tbody>	
		</tgroup>
	    </table>
	    <para> </para>
       </sect1>
       <sect1 id="scripts-config">
    	    <title>Opis i konfiguracja</title>
       <sect2 id="lms-notify">
	<title>lms-notify</title>
	  <para>lms-notify jest dobrym sposobem przypominania ludziom o tym ¿e do pracy sieci 
	  i ³±cz konieczne s± ich pieni±¿ki. Pozwala on na napisanie kilku[-nastu] plików tekstowych 
	  (w iso-8859-2) i traktowania ich jako szablonów do mailingu.</para>
	 <sect3 id="lms-notify-templates">
	  <title>Szablony</title>
	  <para>W szablonach mo¿na u¿ywaæ nastêpuj±cych zmiennych:</para>
	  <itemizedlist>
	    <listitem>
	       <para>%date-m - zostanie zast±pione aktualnym miesi±cem, licz±c od 1 poprzedzone 0, np. 02</para>
	    </listitem>
	    <listitem>
	       <para>%date-y - zostanie zast±pione aktualnym rokiem, np 2003</para>
	    </listitem>
	    <listitem>
	       <para>%saldo - zostanie zast±pione aktualnym saldem u¿ytkownika, np. 535</para>
	    </listitem>
	    <listitem>
	       <para>%abonament - zostanie zast±pione kwot± abonamentu jaka jest do danego u¿ytkownika przypisana, np. 107</para>
	    </listitem>
	    <listitem>
	       <para>%b - saldo z zanegowanym znakiem, np. 107</para>
	    </listitem>
	    <listitem>
	       <para>%B - saldo z prawdziwym znakiem, np. -107</para>
	    </listitem>
	    <listitem>
	       <para>%last_10_in_a_table - wyci±g ostatnich 10 operacji kasowych na koncie u¿ytkownika, np:</para>
	    </listitem>
	  </itemizedlist>
	  <example>
	   <title>Lms-notify: Przyk³adowy wyci±g 10 ostatnich operacji kasowych</title>
<screen>
Data       | Opis                                                 | Warto¶æ
-----------+------------------------------------------------------+---------
2003-02-02 | Abonament za miesi±c 2003/02                         |  107.00
2003-02-01 | Wp³ata                                               | -107.00
2003-02-01 | Abonament za miesi±c 2003/02                         |  107.00
2003-02-01 | Wp³ata                                               | -321.00
2003-01-31 | Abonament za miesi±c 2003/01                         |  107.00
2003-01-31 | Abonament za miesi±c 2003/01                         |  107.00
2003-01-31 | Abonament za miesi±c 2003/01                         |  107.00
-----------+------------------------------------------------------+---------
</screen></example>
	  <example>
           <title>Lms-notify: Przyk³ad szablonu</title>
<screen>UWAGA! Ta wiadomo¶æ zosta³a wygenerowana automatycznie.

Uprzejmie informujemy i¿ na Pani/Pana koncie figuruje zaleg³o¶æ w op³atach za
internet w wysoko¶ci %B z³.

Je¿eli porozumieli siê ju¿ Pañstwo z administratorami w kwestii op³aty za
bie¿±cy miesi±c czyli %date-m %date-y roku, prosimy o
zignorowanie tej wiadomo¶ci.

W wypadku gdy uwa¿aj± Pañstwo i¿ zaleg³o¶æ ta jest nieporozumieniem prosimy o
jak najszybszy kontakt.

Wszelkie informacje na temat Pañstwa rozliczeñ mog± Pañstwo znale¼æ pod
adresem http://www.naszasiec.pl/mojekonto/

Je¿eli chcieliby Pañstwo uregulowaæ zaleg³o¶ci prosimy o kontakt:

Dzia³ Rozliczeñ ASK NaszaSiec

Gerwazy Regu³a
telefon: 0-509031337
e-mail: gerwazy@staff.naszasiec.pl

Gwidon Mniejwa¿ny
telefon: 0-606666666
e-mail: gwidonm@naszasiec.pl

ps. za³±czamy ostatnie 10 operacji jakie zosta³o zarejestrowane przez nasz
system bilingowy na Pañstwa koncie:

kwota operacji | typ operacji | data

%last_10_in_a_table

--
Amatorska Sieæ Komputerowa NaszaSiec
http://www.naszasiec.pl/</screen></example>
          </sect3>
	  <sect3 id="lms-notify-config">
	  <title>Konfiguracja</title>
           <para>Konfiguracjê dla lms-notify mo¿na ustaliæ w pliku <filename>lms.ini</filename> w sekcji <emphasis>[notify]</emphasis>. 
	   Mo¿esz tam ustawiæ nastêpuj±ce parametry:</para>
	   <itemizedlist>
            <listitem>
	     <para>limit (opcjonalny)</para>
	     <para>Pozwala na ustalenie limitu bilansu, poni¿ej którego do u¿ytkownika zostanie wys³any e-mail z upomnieniem. Domy¶lnie limit = 0</para>
	     <para>Przyk³ad:	<prompt>limit = -20</prompt></para>
	    </listitem>
            <listitem>
	     <para>mailsubject (wymagany)</para>
	     <para>Pozwala na ustalenie tematu e-maila wysy³anego do u¿ytkownika. Mo¿na u¿ywaæ podstawieñ znanych z szablonów (%B, %b, %date-y, %date-m, %last_10_in_a_table). Domy¶lnie: nie ustawione.</para>
	     <para>Przyk³ad:	<prompt>mailsubject = Informacje o zaleg³o¶ciach w op³atach za internet</prompt></para>
	    </listitem>
	    <listitem>
	     <para>mailtemplate (wymagany)</para>
	     <para>Pozwala na wskazanie szablonu wiadomo¶ci, która zostanie wys³ana do u¿ytkownika. Wiêcej o szablonach tutaj. Domy¶lnie: nie ustawione.</para>
	     <para>Przyk³ad:	<prompt>mailtemplate = /etc/lms/notifytemplate.txt</prompt></para>
            </listitem>
            <listitem>
             <para>mailfrom</para>
             <para>Adres e-mail z którego zostanie wys³any e-mail. Proszê pamiêtaæ, ¿e na niektórych MTA (np. exim) konto to musi istnieæ w systemie. Domy¶lnie nieustawione</para>
             <para>Przyk³ad:	<prompt>mailfrom = staff@domain.pl</prompt></para>
            </listitem>
            <listitem>
             <para>mailfname</para>
             <para>Nazwa nadawcy maila</para>
             <para>Przyk³ad:	<prompt>mailfname = Administratorzy</prompt></para>
            </listitem>
            <listitem>
             <para>smtp_server</para>
             <para>Serwer SMTP, przez który ma zostaæ wys³ana wiadomo¶æ. Domy¶lnie: 127.0.0.1</para>
             <para>Przyk³ad:	<prompt>smtp_server = smtp.mydomain.pl</prompt></para>
            </listitem>
            <listitem>
             <para>debug_email (opcjonalny)</para>
             <para>Adres e-mail do debugowania. Gdy ustawiony, ca³a poczta zostaje wys³ana na dany email zamiast do u¿ytkowników. Przydatne do debugowania i sprawdzania czy wszystko dzia³a OK. Domy¶lnie: nie ustawiony.</para>
             <para>Przyk³ad:	<prompt>debug_email = lexx@domain.pl</prompt></para>
            </listitem>
          </itemizedlist>
          </sect3>
	</sect2>
	<sect2 id="lms-notify-sms">
	<title>lms-notify-sms</title>
	  <para>lms-notify-sms to odpowiednik lms-notify, s³u¿±cy do wysy³ania
	  smsów. Do wysy³ania wiadomo¶ci potrzebna jest komórka Nokii oraz oprogramowanie,
	  które nale¿y pobraæ z (<ulink url="http://www.gnokii.org">www.gnokii.org</ulink>)
	  i zainstalowaæ w systemie.</para>
	  <para>Konfiguracjê dla lms-notify-sms mo¿na ustaliæ w pliku <filename>lms.ini</filename> 
	  w sekcji <emphasis>[notify-sms]</emphasis>, a masz do dyspozycji nastêpuj±ce opcje:</para>
	  <itemizedlist>
            <listitem>
	     <para>limit (opcjonalny)</para>
	     <para>Pozwala na ustalenie limitu bilansu poni¿ej którego do u¿ytkownika 
	     zostanie wys³any sms z upomnieniem. Domy¶lnie: 0</para>
	     <para>Przyk³ad:	<prompt>limit = -20</prompt></para>
	    </listitem>
            <listitem>
	     <para>smstemplate (wymagany)</para>
	     <para>Szablon wiadomo¶ci. Domy¶lnie: nie ustawione.</para>
	     <para>Przyk³ad:	<prompt>smstemplate = /etc/lms/smstemplate.txt</prompt></para>
	    </listitem>
	  </itemizedlist>
	</sect2> 
	<sect2 id="lms-cutoff">
	 <title>lms-cutoff</title>
	 <para>Skrypt pozwala na od³±czenie (a raczej zmianê w bazie danych stanu komputerów na wy³±czony) u¿ytkowników których bilans jest poni¿ej zadanej warto¶ci. W³a¶ciwe od³±czanie powinno byæ realizowane przez generator plików konfiguracyjnych.</para>
         <para>Konfiguracjê dla lms-cutoff mo¿emy ustaliæ w pliku <filename>lms.ini</filename> w sekcji <emphasis>[cutoff]</emphasis>. Mo¿emy tam ustawiæ nastêpuj±ce parametry:</para>
	 <itemizedlist>
          <listitem>
	   <para>limit (opcjonalny)</para>
	   <para>Pozwala na ustalenie limitu bilansu poni¿ej którego do bazy danych zostanie zapisany stan od³±czony. Domy¶lnie: 0</para>
	   <para>Przyk³ad:	<prompt>limit = -20</prompt></para>
	  </listitem>
	 </itemizedlist>
	</sect2>
	<sect2 id="lms-payments">
	 <title>lms-payments</title>
	 <para>Skrypt s³u¿±cy do naliczania op³at abonamentowych przypisanych
	 u¿ytkownikom oraz op³at sta³ych.
	 Aby dzia³a³ poprawnie powinien byæ uruchamiany codziennie.</para>
	 <para>Skrypt ten nie posiada ¿adnych opcji konfiguracyjnych.</para>
        </sect2>
    <sect2 id="lms-traffic">
    <title>lms-traffic</title>
    <para>Skrypt s³u¿y do logowania informacji o ilo¶ci danych pobranych i wys³anych
	przez ka¿dy komputer w sieci lokalnej. W bazie danych zapisywana jest ilo¶æ
	danych w bajtach, numer komputera z bazy lms i znacznik czasu. 
	Od u¿ytkownika zale¿y w jakich odstêpach dane bêd± odczytywane.
	Poniewa¿ dane odczytywane s± z pliku utworzonego przez u¿ytkownika, nie ma
	znaczenia z jakiego ¼ród³a pochodz±, mo¿e to byæ iptables, ipchains lub
	program zewnêtrzny np. ipfm.
    </para>
    <para>Przegl±danie wykresów wykorzystania ³±cza oraz definiowanie filtrów
	dostêpne jest z g³ównego menu 'Statystyki'.
    </para>
    	<sect3 id="lms-traffic-config">
	    <title>Instalacja</title>
	    <para>Przed uruchomieniem lms-traffic nale¿y zadbaæ o utworzenie
	    pliku z danymi. Zawarto¶æ pliku powinna mieæ nastêpuj±cy format:</para>
	    <screen>
&lt;adres IP&gt; &lt;n_spacji&gt; &lt;upload&gt; &lt;n_spacji&gt; &lt;download&gt;
&lt;adres IP&gt; &lt;n_spacji&gt; &lt;upload&gt; &lt;n_spacji&gt; &lt;download&gt;
...</screen>
	    <para>Skrypt tworz±cy statystyki nale¿y uruchamiaæ z tak± sam± czêstotliwo¶ci± 
	    co lms-traffic.</para>
	    <para><note><para>Przyk³ad takiego skryptu dla iptables znajduje siê w 
	    pliku <filename>/sample/traffic_ipt.sh</filename>.</para></note></para>
	    <para>Nastêpnie instalujemy skrypt dopisuj±c do crontaba.
	    Oprócz standardowych opcji wiersza poleceñ mo¿liwe jest
	    zdefiniowanie lokalizacji pliku z logiem</para>
	    <screen>
-f=/plik 	po³o¿enie i nazwa pliku ze statystykami domy¶lnie /var/log/traffic.log</screen>
	    <para>
	    <warning><para>Czêstotliwo¶æ zapisywania danych do bazy ustala u¿ytkownik. Ustawienie
	    jej poni¿ej 10 minut, mo¿e spowodowaæ szybki przyrost ilo¶ci rekordów w 
	    bazie danych, a co za tym idzie zwiêkszyæ czas oczekiwania na wy¶wietlenie
	    wyników.</para></warning>
	    </para>
	</sect3>
    </sect2>
    <sect2 id="lms-traffic-logiptables">
	<title>lms-traffic-logiptables</title>
	<para>Skrypt s³u¿y do logowania informacji o ilo¶ci danych pobranych i wys³anych
	przez ka¿dy komputer z sieci lokalnej, na podstawie liczników iptables. Dane 
	sczytuje z firewalla, tworz±c jednocze¶nie odpowiednie regu³y. Zatem, nie jest 
	konieczne rêczne tworzenie regu³ iptables. Dane zapisywane s± do pliku o 
	formacie wymaganym przez <filename>lms-traffic</filename>.
	</para>
	<para>Konfiguracjê nale¿y umie¶ciæ w sekcji <emphasis>[traffic-logiptables]</emphasis>:
	    <itemizedlist>
        	<listitem>
		    <para>logfile</para>
		    <para>Lokalizacja pliku na dane. Domy¶lnie: niezdefiniowana.</para>
		    <para>Przyk³ad:	<prompt>logfile = /var/log/traffic.log</prompt></para>
		</listitem>
           	<listitem>
		    <para>outfile</para>
		    <para>Lokalizacja skryptu z regu³ami iptables. Domy¶lnie: /etc/rc.d/rc.stat</para>
		    <para>Przyk³ad:	<prompt>outfile = /etc/rc.d/rc.stat</prompt></para>
		</listitem>
           	<listitem>
		    <para>iptables_binary</para>
		    <para>Lokalizacja programu iptables. Domy¶lnie: /usr/sbin/iptables</para>
		    <para>Przyk³ad:	<prompt>iptables_binary = /usr/local/sbin/iptables</prompt></para>
		</listitem>		
           	<listitem>
		    <para>wan_interfaces</para>
		    <para>Nazwy interfejsów, na których dane maj± byæ zliczane. Domy¶lnie: niezdefiniowane.</para>
		    <para>Przyk³ad:	<prompt>wan_interfaces = eth0</prompt></para>
		</listitem>
           	<listitem>
		    <para>local_ports</para>
		    <para>Lista portów (¼ród³owych i docelowych) dla zliczanych pakietów. Domy¶lnie: niezdefiniowane.</para>
		    <para>Przyk³ad:	<prompt>local_ports = 80</prompt></para>
		</listitem>
           	<listitem>
		    <para>script_owneruid</para>
		    <para>UID w³a¶ciciela skryptu okre¶lonego w 'outfile'. Domy¶lnie: 0 (root).</para>
		    <para>Przyk³ad:	<prompt>script_owneruid = 0</prompt></para>
		</listitem>
        	<listitem>
		    <para>script_ownergid</para>
		    <para>GID w³a¶ciciela skryptu okre¶lonego w 'outfile'. Domy¶lnie: 0 (root).</para>
		    <para>Przyk³ad:	<prompt>script_ownergid = 0</prompt></para>
		</listitem>
	    	<listitem>
		    <para>script_permission</para>
		    <para>Uprawnienia skryptu okre¶lonego w 'outfile'. Domy¶lnie: 700 (rwx------).</para>
		    <para>Przyk³ad:	<prompt>script_permission = 700</prompt></para>
		</listitem>
	    </itemizedlist>
	</para>
    </sect2>
    <sect2 id="lms-makeiptables">
	<title>lms-makeiptables, lms-makeipchains</title>
	    <para>Para skryptów s³u¿±cych do generowania plików zawieraj±cych
	    regu³y firewalla. Do utworzonego pliku mo¿esz do³±czyæ inne wcze¶niej
	    utworzone pliki, a w koñcu nadaæ mu odpowiednie uprawnienia. Skrypty nie
	    uruchamiaj± wygenerowanych plików.</para>
	    <para>Konfiguracjê dla tych skryptów mo¿esz ustaliæ w pliku <filename>lms.ini</filename> w sekcji <emphasis>[iptables]</emphasis>
	    (i odpowiednio <emphasis>[ipchains]</emphasis>). Oba skrypty posiadaj± te same
	    opcje: </para>
	    <itemizedlist>
        	<listitem>
		    <para>networks </para>
		    <para>Lista nazw sieci (oddzielonych spacjami), które maj± byæ uwzglêdnione podczas generowania
		    pliku firewalla. Je¶li nie ustawiono, zostanie stworzony konfig dla wszystkich sieci.</para>
		    <para>Przyk³ad:	<prompt>networks = public-custa public-custb</prompt></para>
		</listitem>
           	<listitem>
		    <para>iptables_binary (ipchains_binary)</para>
		    <para>Lokalizacja programu iptables (ipchains). Domy¶lnie: /usr/sbin/iptables (/usr/sbin/ipchains)</para>
		    <para>Przyk³ad:	<prompt>iptables_binary = /usr/local/sbin/iptables</prompt></para>
		</listitem>
           	<listitem>
		    <para>script_file</para>
		    <para>Plik, do którego zapisujemy regu³y firwalla. Domy¶lnie: /etc/rc.d/rc.masq</para>
		    <para>Przyk³ad:	<prompt>script_file = /etc/rc.d/rc.firewall</prompt></para>
		</listitem>		
           	<listitem>
		    <para>pre_script</para>
		    <para>Plik wykonywany PO wyczyszczeniu regu³ek, ale PRZED ustawieniem nowych. 
		    Domy¶lnie: niezdefiniowany.</para>
		    <para>Przyk³ad:	<prompt>pre_script = /etc/rc.d/rc.masq-pre</prompt></para>
		</listitem>
           	<listitem>
		    <para>post_script</para>
		    <para>Plik wykonywany PO ustawieniu regu³ek. Domy¶lnie: niezdefiniowany.</para>
		    <para>Przyk³ad:	<prompt>post_script = /etc/rc.d/rc.masq-post</prompt></para>
		</listitem>
           	<listitem>
		    <para>forward_to</para>
		    <para>Lista sieci, dla których w³±czamy forwarding. Mo¿liwe warto¶ci: "" - pe³ny forward, 
		    "dowolny ci±g" - wy³±cz forward, "siec1 siec2" - lista sieci z w³±czonym forwardingiem.  
		    Domy¶lnie: pe³ny forward.</para>
		    <para>Przyk³ad:	<prompt>forward_to = public-custa public-custb</prompt></para>
		</listitem>
           	<listitem>
		    <para>script_owneruid</para>
		    <para>UID w³a¶ciciela pliku. Domy¶lnie: 0 (root).</para>
		    <para>Przyk³ad:	<prompt>script_owneruid = 0</prompt></para>
		</listitem>
        	<listitem>
		    <para>script_ownergid</para>
		    <para>GID w³a¶ciciela pliku. Domy¶lnie: 0 (root).</para>
		    <para>Przyk³ad:	<prompt>script_ownergid = 0</prompt></para>
		</listitem>
	    	<listitem>
		    <para>script_permission</para>
		    <para>Uprawnienia pliku skryptu. Domy¶lnie: 700 (rwx------).</para>
		    <para>Przyk³ad:	<prompt>script_permission = 700</prompt></para>
		</listitem>
	    	<listitem>
		    <para>snat_address</para>
		    <para>Adres SNAT. Je¶li nie ustawiono, dla hostów z adresami publicznymi bêdzie
		    u¿yte "-j MASQUERADE". Je¶li ustawiono zostanie u¿yte "-j SNAT --to xxx.xxx.xxx.xxx".
		    Dotyczy lms-makeiptables. Domy¶lnie: nie ustawiony.</para>
		    <para>Przyk³ad:	<prompt>snat_address = 123.123.123.123</prompt></para>
		</listitem>
	    	<listitem>
		    <para>tcp_redirect_ports (udp_redirect_ports)</para>
		    <para>Konfiguracja przekierowañ w formie port_¼ród³owy:port_docelowy dla
		    przekierowañ na lokaln± maszynê dla po³±czeñ wychodz±cych. Dotyczy lms-makeipchains.
		    Domy¶lnie: nie ustawione.</para>
		    <para>Przyk³ad:	<prompt>tcp_redirect_ports = 80:3128 25:25</prompt></para>
		</listitem>
	 </itemizedlist>
    </sect2>
    <sect2 id="lms-etherdesc">
	<title>lms-etherdesc</title>
	    <para>Skrypt s³u¿±cy do generowania pliku zawieraj±cego MAC adresy oraz
	    nazwy hostów pobierane z bazy lms'a. Adresy zapisywane s± w formacie 'stripped mac',
	    czyli bez ":". Tego typu plik wykorzystywany jest przez pakiet <emphasis>iptraf</emphasis>.
	    </para>
	    <para>Konfiguracjê tego skryptu zawiera sekcja <emphasis>[ethers]</emphasis>
	    w pliku <filename>lms.ini</filename>: </para>
	    <itemizedlist>
        	<listitem>
		    <para>networks </para>
		    <para>Lista nazw sieci (oddzielonych spacjami), które maj± byæ uwzglêdnione podczas generowania
		    pliku. Je¶li nie ustawiono, zostanie stworzony konfig dla wszystkich sieci.</para>
		    <para>Przyk³ad:	<prompt>networks = public-custa public-custb</prompt></para>
		</listitem>
		<listitem>
		    <para>etherdesc_owneruid</para>
		    <para>UID w³a¶ciciela pliku. Domy¶lnie: 0 (root).</para>
		    <para>Przyk³ad:	<prompt>etherdesc_owneruid = 0</prompt></para>
		</listitem>
		<listitem>
		    <para>etherdesc_file</para>
		    <para>Lokalizacja pliku. Domy¶lnie: /var/lib/iptraf/ethernet.desc.</para>
		    <para>Przyk³ad:	<prompt>etherdesc_file = /etc/ethernet.desc</prompt></para>
		</listitem>
        	<listitem>
		    <para>etherdesc_ownergid</para>
		    <para>GID w³a¶ciciela pliku. Domy¶lnie: 0 (root).</para>
		    <para>Przyk³ad:	<prompt>etherdesc_ownergid = 0</prompt></para>
		</listitem>
	    	<listitem>
		    <para>etherdesc_permission</para>
		    <para>Uprawnienia pliku skryptu. Domy¶lnie: 600 (rw-------).</para>
		    <para>Przyk³ad:	<prompt>etherdesc_permission = 600</prompt></para>
		</listitem>
	    </itemizedlist>
    </sect2>
    </sect1>
</chapter>
    