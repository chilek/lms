<chapter>
 <title>LMS UI (User Interface)</title>
 <para>Tutaj bêdzie opis LMS-UI</para>
 <sect1>
  <title>Konfiguracja.</title>
  <para>Konfiguracjê dla lms-ui mo¿emy ustaliæ w pliku <filename>lms.ini</filename> w sekcji <emphasis>[phpui]</emphasis>. Mo¿emy tam ustawiæ nastêpuj±ce parametry:</para>
  <itemizedlist>
   <listitem>
    <para>allow_from  (opcjonalny)</para>
    <para>Lista sieci i adresów IP które maj± dostêp do LMS. Je¿eli puste, ka¿dy adres IP ma dostêp do LMS'a, je¿eli wpiszemy tutaj listê adresów b±d¼ klas adresowych, LMS odrzuci b³êdem HTTP 403 ka¿dego niechcianego u¿ytkownika.</para>
    <example><title>Przyk³ad:</title><para>allow_from = 192.168.0.0/16, 213.25.209.224/27, 213.241.77.29</para></example>
   </listitem>
   <listitem>
    <para>timeout</para>
    <para>Timeout sesji www. Po tym czasie (w sekudnach) u¿ytkownik zostanie wylogowany je¿eli nie podejmie ¿adnej akcji. Domy¶lnie 600 sekund.</para>
    <example><title>Przyk³ad:</title><para>timeout = 900</para></example>
    <note><para>Uwaga! Nie ma mo¿liwo¶ci ustawienia braku timeoutu. Je¿eli ustawisz t± warto¶æ na zero, nie bêdziesz móg³ korzystaæ z LMS!</para></note>
   </listitem>
   <listitem>
    <para>userlist_pagelimit</para>
    <para>Limit wy¶wietlanych pozycji na stronie w li¶cie u¿ytkowników. Domy¶lnie brak limitu.</para>
    <example><title>Przyk³ad:</title><para>userlist_pagelimit	= 10</para></example>
   </listitem>
   <listitem>
    <para>nodelist_pagelimit</para>
    <para>Limit wy¶wietlanych pozycji na stronie w li¶cie komputerów. Domy¶lnie brak limitu.</para>
    <example><title>Przyk³ad:</title><para>nodelist_pagelimit	= 10</para></example>
   </listitem>
   <listitem>
    <para>reload_type</para>
    <para>Typ reloadu. Dozwolone warto¶ci:</para>
    <para>exec - wywo³ywanie jakiej¶ komendy (najczê¶ciej co¶ przez sudo, jaki¶ skrypt lub co¶, konfigurowalny poni¿ej)</para>
    <para>sql  - zrobienie wpisów w SQL'u (te¿ mo¿na ustawiæ konkretne query SQL'a)</para>
    <para>Domy¶lna warto¶æ to 'sql'.</para>
    <example><title>Przyk³ad:</title><para>reload_type = exec</para></example>
   </listitem>
   <listitem>
    <para>reload_execcmd</para>
    <para>Komenda do wykonania podczas reloadu je¿eli reload_type jest ustawione na 'exec'. Domy¶lnie /bin/true. String ten puszczany do komendy system() wiêc pronuje rozwagê i pomy¶lenie co siê robi i jak :) Generalnie ¶redniki powinny byæ parsowane przez bash'a, ale z paru wzglêdów LMS sam dzieli poni¿szy ci±g pod wzglêdem ¶redników i wykonuje komendy pojedyñczo.</para>
    <example><title>Przyk³ad:</title><para>reload_execcmd = "sudo /usr/bin/reload_lms.sh"</para></example>
   </listitem>
   <listitem>
    <para>reload_sqlquery</para>
    <para>Query SQL'a. Generalnie, LMS przy nie ustawionym swoim w³asnym QUERY robi dziwne rzeczy które ja ju¿ wymy¶li³em. Chwilowo pewnie wogóle nie kompatybilne z mteg'owym demonikiem, ale pracujemy nad uzgodnieniem formatu. Jak kto¶ bardzo chce, to mo¿na u¿yæ '%TIME%' jako podstawki pod aktualny timestamp unixowy. UWAGA! Znak ¶rednika (czyli ;) jest traktowany jako separator kwerend. Tj. oddzielaj±c znakiem ¶rednika mo¿esz wpisaæ kilka komend MySQL'a.</para>
    <example><title>Przyk³ad:</title><para>reload_sqlquery = "INSERT INTO reload VALUES ('1','%TIME%')"</para></example>
   </listitem>
   <listitem>
    <para>force_ssl</para>
    <para>Wymuszanie SSL'a. Ustawinie tej zmiennej na 1 spowoduje ¿e LMS bêdzie wymusza³ po³±czenie SSL powoduj±c redirect do 'https://'.$_SERVER[HTTP_HOST].$_SERVER[REQUEST_URI] przy ka¿dej próbie dostêpu bez SSL. Domy¶lnie wy³±czone.</para>
    <example><title>Przyk³ad:</title><para>force_ssl = 0</para></example>
   </listitem>
   <listitem>
    <para>allow_mac_sharing</para>
    <para>Przyzwolenie na dodawanie rekordów komputerów z adresami MAC ju¿ istniej±cymi (nie sprawdza czy jaki¶ inny komputer posiada taki adres MAC). Domy¶lnie wy³±czone</para>
    <example><title>Przyk³ad:</title><para>allow_mac_sharing	= 1</para></example>
   </listitem>
   <listitem>
    <para>smarty_debug</para>
    <para>W³±czenie konsoli debugowej Smartyego, przydatne do ¶ledzenia warto¶ci przekazywanych z PHP do Smartyego. Domy¶lnie wy³±czone.</para>
    <example><title>Przyk³ad:</title><para>smarty_debug = 1</para></example>
   </listitem>
   <listitem>
    <para>adodb_debug</para>
    <para>W³±czenie debugu ADOdb, przydatne w ¶ledzeniu b³êdów w kwerendach SQL. Domy¶lnie wy³±czone.</para>
    <example><title>Przyk³ad:</title><para>adodb_debug = 1</para></example>
   </listitem>
   <listitem>
    <para>adodb_debug_log</para>
    <para>Plik z logiem debugu ADOdb. Je¿eli w³±czymy adodb_debug i podamy tutaj nazwê pliku (do którego bêdzie móg³ zapisaæ serwer www) ca³y debug bêdzie szed³ do pliku, a na interface jedynie krytyczne b³êdy SQL'a. Domy¶lnie puste.</para>
    <example><title>Przyk³ad:</title><para>adodb_debug_log	= /var/log/debug/lms-adodb.log</para></example>
   </listitem>
   <listitem>
    <para>debug_mail</para>
    <para>Adres e-mail do debugowania - pod ten email bêd± sz³y maile wysy³ane z sekcji 'mailing' LMS'a, zamiast do w³a¶ciwych u¿ytkowników.</para>
    <example><title>Przyk³ad:</title><para>debug_mail = root@localhost</para></example>
   </listitem>
  </itemizedlist>
 </sect1>
</chapter>
