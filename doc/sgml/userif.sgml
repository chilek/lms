<!-- $Id$ -->
<chapter id="user">
 <title>Interfejs U¿ytkownika (LMS-UI)</title>
 <para>LMS'owy Interfejs U¿ytkownika to panel administracyjny do tworzenia
  i zarz±dzania baz± u¿ytkowników i komputerów dostêpny za pomoc± przegl±darki
  internetowej. Umo¿liwia wprowadzanie danych komputerów,
  przypisanie ich do u¿ytkowników i sieci. Definiowanie op³at i zarz±dzanie finansami sieci,
  Szybkie wyszukiwanie danych o u¿ytkownikach i ich sprzêcie. Sporz±dzanie korespondencji
  seryjnej do u¿ytkowników, definiowanie praw dostêpu dla administratorów i ich hase³.
  Ponadto daje mo¿liwo¶æ przegl±dania statystyk wykorzystania ³±cza, a tak¿e
  tworzenie kopii bazy danych oraz zarz±dzanie skryptami wykonywalnymi.</para>
 <sect1 id="user-login">
	<title>Logowanie</title>
	<para>Po wpisaniu w przegl±darce adresu do strony z lms'em, powita ciê
	ekran logowania. Musisz podaæ w³a¶ciwy login oraz has³o. Has³a w bazie
	danych przechowywane s± w formie zaszyfrowanej.</para>
	<para>Je¿eli jest to twoje pierwsze logowanie i nie masz jeszcze
	za³o¿onego konta, zostaniesz przekierowany do modu³u tworzenia kont
	administratorów. W tym momencie bêdziesz mia³ tylko dostêp do tego
	jednego modu³u.</para>
	<figure>
		<title>LMS-UI: Logowanie</title>
			<ulink url="images/login.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/login-small.png" format="png">
  				</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 </sect1>
 <sect1 id="user-all">
	<title>Praca z LMS-UI</title>
	<para>Po zalogowaniu do LMS'a zobaczysz panel powitalny, na którym znajduj± siê
	podstawowe informacje na temat naszego systemu: wersjê LMS i jego sk³adników,
	wersjê j±dra i uptime serwera, ilo¶æ u¿ytkowników i komputerów w bazie oraz ich
	stan (pod³±czony/od³±czony), liczbê zad³u¿onych i kwota oraz przydatne lms'owe linki.</para>
	<para>Z menu po lewej stronie wybierasz interesuj±cy ciê modu³. Mo¿esz równie¿
	dokonaæ zmiany has³a, wylogowaæ siê lub szybko przej¶æ do informacji o u¿ytkowniku i komputerze
	podaj±c ich numery.</para>
	<figure>
		<title>LMS-UI: Panel g³ówny</title>
			<ulink url="images/welcome.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/welcome-small.png" format="png">
  				</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 <sect2 id="menu-users">
	<title>U¿ytkownicy</title>
	<para>Po wej¶ciu do panelu 'U¿ytkownicy' uka¿e siê lista u¿ytkowników,
	któr± mo¿esz filtrowaæ wed³ug wybranych kryteriów lub sortowaæ klikaj±c
	na nazwie kolumny.</para>
	<para>Klikniêcie na wybranym u¿ytkowniku spowoduje przej¶cie do panelu
	z informacjami szczegó³owymi o nim i przypisanych mu komputerach oraz
	operacjach finansowych. Tam te¿ mo¿esz zaksiêgowaæ wp³atê lub obci±¿enie jego
	rachunku.</para>
	<para>W menu znajduj±cym siê u góry okna masz do wyboru opcje: filtrowania listy,
	dodawania nowych u¿ytkowników, wyszukiwania w bazie wg zadanych kryteriów oraz
	wydruku listy.</para>
	<para>Ikona ¿arówki s³u¿y do zmiany statusu (pod³±czony/od³±czony) u¿ytkowników.</para>
	<para><note><para>Do automatycznego od³±czania u¿ytkowników, których bilans jest poni¿ej zadanej warto¶ci
	s³u¿y skrypt lms-cutoff.</para></note></para>
	<figure>
		<title>LMS-UI: U¿ytkownicy</title>
			<ulink url="images/users.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/users-small.png" format="png">
  				</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 </sect2>
 <sect2 id="menu-nodes">
	<title>Komputery</title>
	<para>Panel ten s³u¿y do zarz±dzania komputerami i umo¿liwia: przegl±danie listy komputerów,
	wyszukiwania komputerów o danej nazwie, IP lub MAC'u, dodawanie nowych lub usuwanie ju¿
	wpisanych do bazy komputerów, a tak¿e podgl±d i zmianê informacji o nich. W górnym menu dostêpna
	jest opcja wydruku listy. Zmiany statusu komputera 'w³±czony/wy³±czony' dokonuje siê
	klikniêciem na ikonê ¿arówki w odpowiedniej linii.</para>
	<para><note><para>Aby dodaæ nowy komputer musisz wcze¶niej utworzyæ
	u¿ytkownika oraz sieæ, którym go przypiszesz.</para></note></para>
	<figure>
		<title>LMS-UI: Komputery</title>
			<ulink url="images/nodes.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/nodes-small.png" format="png">
		  		</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 </sect2>
 <sect2 id="menu-netdevices">
	<title>Osprzêt sieciowy</title>
	<para>W panelu przeznaczonym do ewidencji sprzêtu mo¿na przegl±daæ listê
	urz±dzeñ sieciowych, zawieraj±c± ich nazwy i symbole, po³o¿enie i opis, a ponadto 
	ilo¶æ dostêpnych portów. Klikniêcie na wybranym urz±dzeniu spowoduje
	wy¶wietlenie informacji szczegó³owych o nim. Mo¿liwe jest definiowanie po³±czeñ
	urz±dzeñ i komputerów oraz generowanie graficznej mapy ca³ej sieci.</para>
	<figure>
		<title>LMS-UI: Osprzêt sieciowy</title>
			<ulink url="images/netdev.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/netdev-small.png" format="png">
		  		</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 </sect2>
 <sect2 id="user-networks">
	<title>Sieci IP</title>
	<para>Tutaj definiujesz dane swojej sieci tj. klasê adresow±, domenê, DNS'y, Gateway,
	zakres DHCP. Na li¶cie dostêpna jest równie¿ ilo¶æ zajêtych i dostepnych adresów.
	Je¿eli LMS s³u¿y ci do zarz±dzania wieloma sieciami lub dzielisz jedn± sieæ na podsieci,
	albo korzystasz z ró¿nych klas adresowych tutaj jest to mo¿liwe.</para>
	<figure>
		<title>LMS-UI: Sieci IP</title>
			<ulink url="images/networks.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/networks-small.png" format="png">
  				</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 </sect2>
 <sect2 id="menu-tariffs">
	<title>Taryfy i Finanse</title>
	<para>Jest to w³a¶ciwie wiele modu³ów umo¿liwiaj±cych zarz±dzanie finansami sieci.</para>
	<para>Masz mo¿liwo¶æ definiowania taryf abonamentowych i okre¶lenia kwoty abonamentu oraz
	ograniczeñ upstream, downstream wykorzystywanych pó¼niej podczas generowania plików
	konfiguracyjnych.</para>
	<para>Dostêpny z górnego menu 'Bilans Finansowy' to historia rachunku z podsumowaniem
	przychodu i rozchodu. 'Nowa Operacja' umo¿liwia zaksiêgowanie nowych wp³at i obci±¿eñ
	u¿ytkowników lub wydatków i przychodów sieci.</para>
	<figure>
		<title>LMS-UI: Taryfy i finanse</title>
			<ulink url="images/tariffs.png">
					<inlinemediaobject>
  					<imageobject>
  						<imagedata fileref="images/tariffs-small.png" format="png">
  					</imageobject>
  					</inlinemediaobject>
			</ulink>
	</figure>
 </sect2>
 <sect2 id="menu-mailing">
	<title>Mailing</title>
	<para>Mailing, czyli Korespondencja Seryjna umo¿liwia wysy³anie wiadomo¶ci do grupy
	u¿ytkowników twojej sieci. Podajesz dane nadawcy, tre¶æ wiadomo¶ci oraz wybierasz grupê
	do której zostanie wys³any e-mail.</para>
	<para><note><para>Serwer musi byæ odpowiednio skonfigurowany do u¿ycia funkcji mail().</para></note>
	<note><para>Do automatycznego wysy³ania upomnieñ do u¿ytkowników zalegaj±cych z op³atami polecam.
	skrypt lms-notify.</para></note></para>
 </sect2>
 <sect2 id="menu-reload">
	<title>Prze³adowanie</title>
	<para>Klikniêcie na menu 'Prze³adowanie' spowoduje prze³adowanie konfiguracji i us³ug zdefiniowanych
	dla generatora plików konfiguracyjnych <emphasis>LMS-MGC</emphasis> lub demona <emphasis>almsd</emphasis>. 
	Wiêcej informacji znajdziesz w rozdzia³ach dotycz±cych <emphasis>LMS-MGC</emphasis> oraz demona.</para>
 </sect2>
 <sect2 id="menu-databases">
	<title>Bazy danych</title>
	<para>Z panelu 'Bazy danych' mo¿esz zarz±dzaæ kopiami awaryjnymi danych z bazy lms'a.
	Kopia bazy to plik tekstowy z zawarto¶ci± wszystkich tabel w bazie, zapisywany w
	katalogu zdefiniowanym w sekcji <emphasis>[directories]</emphasis> <filename>lms.ini</filename>
	zmienn± <prompt>backup_dir</prompt>.</para>
	<para><note><para>Domy¶lnie kopie zapisywane s± w katalogu <filename>lms/backups</filename>
	dostêpnym przez przegl±darkê, dlatego dobrze by³o by przenie¶æ go w inne miejsce.</para></note></para>
	<para>Sporz±dzone kopie mo¿na w ka¿dej chwili przegl±daæ, usuwaæ lub zapisywaæ na lokalnym dysku.
	</para>
	<figure>
		<title>LMS-UI: Bazy danych</title>
			<ulink url="images/db.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/db-small.png" format="png">
  				</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 </sect2>
 <sect2 id="menu-admins">
	<title>Administratorzy</title>
	<para>Panel 'Administratorzy' s³u¿y do zarz±dzania kontami administratorów, zmiany hase³ oraz
	definiowania praw dostêpu. Na pierwszym widoku jest lista administratorów z datami ostatniego
	logowania. Klikniêcie na pozycji z listy spowoduje wy¶wietlenie informacji szczegó³owych
	o danym koncie, w tym o zdefiniowanych prawach dostêpu. W ka¿dej chwili mo¿liwa jest zmiana
	danych i uprawnieñ za pomoc± przycisku 'Edytuj'. Aby za³o¿yæ nowe konto administratora
	skorzystaj z górnego menu 'Nowy'.</para>
	<figure>
		<title>LMS-UI: Administratorzy</title>
			<ulink url="images/admins.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/admins-small.png" format="png">
  				</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 </sect2>
 </sect1>
 <sect1 id="user-staff">
 	<title>Dodatki</title>
	<sect2 id="user-staff-faktury">
		<title>Faktury</title>
		<para>LMS umo¿liwia wystawianie faktur. W³±czenia tej opcji dokonuje siê podczas
		przypisywania taryf u¿ytkownikom. Do poprawnego dzia³ania i tworzenia wydruków
		wymagane jest ustawienie podstawowych opcji w sekcji <emphasis>[invoices]</emphasis> 
		<filename>lms.ini</filename>:
		<itemizedlist>
		<listitem>
			<para>number_template</para>
			<para>Wzorzec numeru faktury. Dostêpne zmienne wzorca to: '%N' - numer kolejny w roku,
			'%M' - miesi±c wystawienia, '%Y' - rok wystawienia. Domy¶lnie: %N/LMS/%Y</para>
			<para>Przyk³ad: <prompt>number_template = %N/%Y"</prompt></para>
		</listitem>
		<listitem>
			<para>seller</para>
			<para>Dane sprzedawcy. Domy¶lnie: pusty</para>
			<para>Przyk³ad: <prompt>seller = "SuperNet ISP\nul.Nowa 15\n12-000 W±chock\n"</prompt></para>
		</listitem>
		<listitem>
			<para>footer</para>
			<para>Stopka faktury - np. dane sprzedawcy. Domy¶lnie: pusta</para>
			<para>Przyk³ad: <prompt>footer = "Blokowa Sieæ Komputerowa K-27 w Mielcu, tel.555-23-23, bla bla"</prompt></para>
		</listitem>
		<listitem>
			<para>default_author</para>
			<para>Domy¶lna osoba wystawiaj±ca fakturê. Domy¶lnie: puste</para>
			<para>Przyk³ad: <prompt>default_author = "specjalista d/s fakturowania"</prompt></para>
		</listitem>
		</itemizedlist>
		</para>
	<!--
		<para>Szablon jest niczym innym jak dokumentem tekstowym w formacie RTF (tekstowym)
		lub html który mo¿na stworzyæ pod dowolnym programem obs³uguj±cym RTF. Plik ten
		powinien wygl±daæ jak gotowa faktura, a pozycje które maj± byæ rozwijane przez
		LMS nale¿y zast±piæ nastêpuj±cymi s³owami kluczowymi:
		<itemizedlist>
		<listitem><para>%nabywca - jest rozwijany do imienia i nazwiska nabywcy</para></listitem>
		<listitem><para>%nab_adres - jest rozwijany do adresu nabywcy (ulica)</para></listitem>
		<listitem><para>%nab_adres_cd - jest rozwijany do adresu nabywcy (kod pocztowy i miasto)</para></listitem>
		<listitem><para>%nip - nip nabywcy</para></listitem>
		<listitem><para>%nr_klienta - numer klienta (ID) z bazy u¿ytkowników</para></listitem>
		<listitem><para>%sprzedawca - nazwa sprzedawcy</para></listitem>
		<listitem><para>%sprzed_adres - adres sprzedawcy</para></listitem>
		<listitem><para>%sprzed_adres_cd - ci±g dalszy adreu sprzedawcy</para></listitem>
		<listitem><para>%numer - numer kolejny faktury w postaci id_operacji_kasowej/rok</para></listitem>
		<listitem><para>%data - data wystawienia faktury</para></listitem>
		<listitem><para>%termin - termin zap³aty (ilo¶æ dni ustawia siê w lms.ini)</para></listitem>
		<listitem><para>%dni - ilo¶æ dni do zap³aty, mo¿na ustawiæ j/w</para></listitem>
		<listitem><para>%usluga - nazwa us³ugi, jak nazwa jest pobierany opis operacji kasowej</para></listitem>
		<listitem><para>%od - pierwszy dzieñ okresu ¶wiadczenia us³ugi (pierwszy dzieñ
                   		miesi±ca, w ktorym by³o wpisane obci±¿enie do bazy)</para></listitem>
		<listitem><para>%do - ostatni dzieñ okresu ¶wiadczenia us³ugi (ostatni dzieñ
                   		miesi±ca, w ktorym by³o wpisane obci±¿enie do bazy)</para></listitem>
		<listitem><para>%netto - warto¶æ us³ugi netto, bezpo¶rednio przepisana z bazy</para></listitem>
		<listitem><para>%brutto - netto + 7% VAT</para></listitem>
		<listitem><para>%vat - warto¶æ VAT (netto * 7%)</para></listitem>
		<listitem><para>%slownie - kwota do zap³aty s³ownie</para></listitem>
		<listitem><para>%konto - jest rozwijane do numeru konta bankowego</para></listitem>
		<listitem><para>%wystawil - jest rozwijane do danych administratora zalogowanego aktualnie w LMS</para></listitem>
		<listitem><para>%stopka - pozwala na wpisanie danych do stopki</para></listitem>
		</itemizedlist>
		<note><para>Przyk³adowy szablon znajduje siê w katalogu sample (faktura.rtf) i by³
				testowany pod OpenOffice i M$ Office.</para></note>
		</para>
	-->
		<para>Wystawianie faktur jest dostêpne w oknie 'Rachunek u¿ytkownika', do
		którego trafisz wybieraj±c ¿±danego u¿ytkownika z listy u¿ytkownków.
		<warning><para>W bazie danych zapisywane s± kwoty brutto. </para></warning>
		</para>
 </sect2>
 <sect2 id="user-staff-stats">
	<title>Statystyki</title>
	<para>Interfejs do przegl±dania statystyk wykorzystania ³±cza w postaci prostych wykresów jest
	dostêpny w menu 'Statystyki'. Przed wygenerowaniem wykresu mo¿esz zdefiniowaæ parametry
	okre¶laj±ce okres jaki ma byæ brany pod uwagê, ograniczyæ do jednej sieci (je¶li masz ich wiêcej),
	ilo¶ci komputerów oraz posortowaæ odpowiednio wyniki (na przyk³ad wed³ug downloadu).
	Korzystaj±c z górnego menu mo¿esz szybko wygenerowaæ statystyki z ostatniej godziny, ostatniego dnia,
	ostatnich 30 dni lub ostatniego roku.</para>
	<para>
	<note><para>Zapisem danych do bazy zajmuje siê skrypt lms-traffic, dlatego nale¿y go zainstalowaæ
	aby mieæ w bazie dane do wykresów.</para></note>
	</para>
	<para>W zale¿no¶ci od wybranej przez u¿ytkownika czêstotliwo¶ci, mo¿e
	nast±piæ szybki przyrost danych w bazie, co spowoduje zwiêkszenie czasu
	oczekiwania na rysowanie wykresów. Z tego powodu w oknie 'Kompaktowanie
	bazy danych' udostêpniono mo¿liwo¶æ zmniejszenia rozmiarów bazy bez
	utraty danych. Wybieraj±c poziom dok³adno¶ci danych, dane zostan± u¶rednione
	w nastêpuj±cy sposób:
	<itemizedlist>
	<listitem><para>Poziom Niski: dane z poprzedniego dnia i starsze, zostan± u¶rednione
	do jednego dnia, czyli je¶li do bazy zapisywane by³y z czêstotliwo¶ci± 10 minut,
	to 6*24 wpisów zostanie zast±pione jednym.</para></listitem>
	<listitem><para>Poziom ¦redni: dane starsze ni¿ miesi±c zostan± u¶rednione do
	jednego dnia.</para></listitem>
	<listitem><para>Poziom Wysoki: dane starsze ni¿ miesi±c zostan± u¶rednione do
	jednej godziny.</para></listitem>
	</itemizedlist>
	<warning><para>Kompaktowanie bazy danych jest procesem nieodwracalnym.</para></warning>
	</para>
	<figure>
		<title>Statystyki wykorzystania ³±cza- filtr</title>
			<ulink url="images/stats.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/stats-small.png" format="png">
  				</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
	<para></para>
	<figure>
		<title>Statystyki wykorzystania ³±cza - wykres</title>
			<ulink url="images/statbars.png">
				<inlinemediaobject>
  				<imageobject>
  					<imagedata fileref="images/statbars-small.png" format="png">
  				</imageobject>
  				</inlinemediaobject>
			</ulink>
	</figure>
 </sect2>
 </sect1>
</chapter>
