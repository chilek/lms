$Id$

version 1.7.1 ? (??/??/????):

  - changed upgrade scripts for 1.2 version, deleted for 1.0 (alec)
  - bugfix: ipaddr_pub support in NetworkShift() (alec)
  - lmsd/pinger: activate online status for addresses matching interfaces
    where runs daemon, speedup - dropped ORDER BY from query (alec)
  - Customer Search Results paging (alec)
  - fixed smtp_auth_type default behaviour - use best method (alec)
  - added warning about lack of PEAR::Mail in SendMail() function (alec)
  - fixed nodes searching results list - nodes with ID=0 (alec)
  - lmsd/system: added option 'sql' (alec)
  - in nodes and customers searching added workaround for postgresql's ILIKE 
    problem with national characters (alec)
  - lmsd/dns: networks can share the same domain name (alec)
  - lms-notify: added option 'mailcharset' with default setting 'UTF-8' (alec)
  - lms-notify: don't send messages to deleted customers (alec)
  - lms-notify: don't stop on unknown/wrong recipient address (alec)
  - file sample/mailtemplate.txt converted to UTF-8 (alec)
  - fixed tickets searching by requestor name (also added workaround for
    postgresql's ILIKE bug) (alec)
  - fixed _smarty_function_sum() - each row must be an array (alec)
  - better english UI messages (kondi)
  - we can add and search tickets with all customer statuses (chilek)
  - all UI colors moved to style.css (alec)
  - lms-makeiptables: added public IP (SNAT) support (alec/daro)
  - changed naming convention: user -> customer, admin -> user (alec)
    ********************************************************************
    *       WARNING!   WARNING!   WARNING!   WARNING!   WARNING!       *
    ********************************************************************
    *       Changed database structure: table 'users' replaced by      *
    *       'customers', table 'admins' replaced by 'users', also      *
    *                changed column names in other tables              *
    ********************************************************************
  - fixed customers and nodes searching when register_globals is on (alec)
  - quick search made quick (kondi)
  - bugfix: compressed backup restoring is possible again (alec)
  - BTS#0000360: tickets adding in customer context (alec)
  - bugfix: going to backup view by clicking on record on backup list (alec)

version 1.7.0 Klorel (13/05/2005):

  - lmsd/ethers: fixed output file format (alec)
  - fixed bug (made in last release) in chooseip module (alec)
  - keeping ShowOrHide status of boxes in customer info (alec)
  - BTS#0000337: fixed helpdesk tickets searching (alec)
  - lmsd: added option --inifile to ./configure script for configuration files
    support (alec)
  - lmsd: added command line option '-f' to run in foreground (without fork),
    fixed reload of instances with empty crontab on every minute, write last 
    reload time to database if reload was ordered, fixed problem with
    zombies (alec/G.Stanislawski)
  - BTS#0000338: can specify network device while node addition (alec)
  - lmsd: fixed -h option segfault (alec)
  - on customers list added nodes online status and icon for nodes connection 
    status change (alec)
  - additional filters for Customer Search, searching in service address (alec)
  - most of icons resized to 16x16 (alec)
  - fixed nodes and warnings enabling/disabling on Customer Search Results
    list (alec)
  - added "realname" field to account record (alec)
  - lms-mgc: added %CUSTOMER variable for node record (alec)
  - node's public IP (alec/kuba)
  - lms-squid: changed/fixed lms.ini section name to [redirector] (alec)
  - removed old contrib/squid_warnings (alec)
  - added option custom_accesstable for user-defined access rights (alec)
  - fixed devices desc on map when device has no IP, now device lastonline 
    status is getting from all connected nodes lastonline value (alec)
  - BTS#0000340: option [Account] on customer list accounts all customer's 
    covenants including invoices (alec)
  - added contrib/bin/lms-antyvir (alec/wojtek_sw)
  - added contrib/bin/lms-debtors (alec)
  - added option [phpui] map_type (alec)
  - lmsd/hostfile: added variables %wins, %dns, %dns2, %addr, %mask, %id (alec)
  - BTS#0000298: improved customers quick searching (alec)
  - added 'qualification operator' for Customer Search (alec)
  - lmsd: fixed problems with unescaped chars in SQL queries - added strings
    escaping for parameters of db_pexec() and db_pquery() functions (alec)
  - lmsd: configure create config.status script (alec)
  - lmsd: `make install` moves modules to PREFIX/lms/lib and program to
    PREFIX/lms/bin, in configuration modules can be set without path or 
    extension (alec)
  - force logout after timeout /http-equiv=refresh/ (alec)
  - fixed access denied window in dynamic popups (alec)
  - lmsd/dhcp: fixed shared-network option support (alec)
  - added 'homedir_prefix' option, accounts can have different homedirs (alec)
  - improved nodes searching (and quicksearch), finds all matching nodes,
    added qualification operator, removed function SearchNodeList(), added
    images in Nodes Search interface (alec)

version 1.5.6 Baal (24/04/2005):

  - finished translation of documentation (kondi)
  - we can use limitations in percents in warnings (chilek)
  - tickets searching for selected user in userinfobox (chilek)
  - percentage discount for customer liabilities/assignments (alec)
  - added dirty support for quotas in accounts (lukasz)
  - new daemon (alec):
    * changed name to 'lmsd'
    * online configuration and management
    * cron's style work
    * configuration in database (only, ini files not supported)
    * rewrited database drivers
    * database connection options from command line or environment
    * selected hosts/routers reloading
    * WARNING: Old daemon not supported in Reload menu!
  - suspension percentage for assignments can be specified in lms.ini (chilek)
  - history of userbalace work_in_progress (hunter)
  - in invoice edition added check that settlement date not conflicts with
    invoice number, so we can change date only to the same year or month
    (monthly_numbering) that was before change (alec)
  - fixed invoices list sorting (alec)
  - few fixes in database engine (especially in mysql driver), so connect
    errors should be now displayed by app, not by php itself (lukasz)
  - on covenants report fixed columns summary and parse errors in eval()
    functions with polish locale (alec)
  - BTS#0000323: lms-rtparser: fixed multipart messages charset conversion
    and added decoding of quoted-printable encoded messages (alec)
  - added customer ID on Invoices Report (alec)
  - we don't use capitalize in admininfo.
    it fixes problem with lastname capitalization (chilek)
  - we show total assignments with discounts in userassignments and
    customer lists (chilek)
  - fixed handling ip addresses from netdevices in lms-mgc (lukasz)
  - BTS#000327: in lms-reminder added negative values of daylight saving time
    for time functions acc. to PHP functions (alec)
  - added balance and tariff summary on customers list printout (alec)
  - lms-sendinvoices: fixed message and attachement charset/encoding, added 
    reading of invoice type configuration option from database (alec)
  - while adding or searching tickets in helpdesk customer ID can be
    specified instead of selecting customer from the list (alec)
  - nodes and customers search results (if they are lists) can be displayed 
    in printer-friendly format (alec)
  - little (?) layout revolution (inspired by lexx and kondi) (lukasz)
  - fixed total tax summary on Sale Report (alec)
  - lms-rtparser: added options autoreply_body and autoreply_subject with
    translated to english default values (alec)
  - removed unused function GetNodeByMAC() from LMS class (alec)
  - changed default tax value to 22% in selection lists (alec)
  - lms-cutoff: added option 'message', optimized balance calculation (alec)
  - lms-makeon: added option 'message', optimized balance calculation (alec)
  - lms-notify: deleted columns header in %last_10_in_a_table (alec)
  - lms-payments: translated to english default values of options
    'paytype' and 'comment' (alec)
  - lms-sendinvoices: added (englished) options 'mail_subject' and 'mail_body',
    added reading of invoices/number_template setting from database,
    added "" for recipient and sender names (alec)
  - lmsd/cutoff: translated to english default value of 'warning' option (alec)
  - lmsd/payments: translated defaults of 'paytype' and 'comment' options (alec)
  - fixed (ming) bug in network map causing problems with texts on large maps,
    optimized time of map generation (alec)
  - added users IP authorization (alec)
  - some code cleanup for error_reporting = E_ALL (alec)
  - locale independent date format on reports / dropped bugy capitalize (alec)
  - fixed liabilities report (bugy Smarty's math) and added customer ID (alec)
  - lmsd/traffic: fixed sequence of data while reading log file (alec)
  - sample/traffic_ipt.sh replaced by sample/traffic_ipt.pl (alec)
    
version 1.5.5 Anubis (25/03/2005):

  - fixed empty page printing on invoices when trying to print only 
    originals or only copies (alec)
  - fixed encoding conversion of some strings on pdf invoices (peter/alec)
  - index.php: localization before uiconfig reading, to have proper encoding 
    in configuration options if we use server_encoding != unicode (alec)
  - contrib/customer_otherip: changed login.html to customerlogin.html because
    of conflict with templates/login.html in Smarty cache (alec)
  - size reduction of LMS main class, some one-time functions moved to 
    modules i.e. Mailing(), Traffic() (alec)
  - added basic (without group checking) body of check_ssn() function for 
    'en' locale (alec)
  - contrib/formularz_przelewu_wplaty(_2): fixed encoding and bug with empty
    page (alec)
  - lms-payments print accounting messages on STDERR (lukasz/alec)
  - helpdesk: fixed encoding in message contents to UTF-8, added option
    phpui/helpdesk_sender_name for name of message sender (alec)
  - fixed bug in userassignmentedit.html when customer has " sign in name (alec)
  - BTS#0000283: added link 'Clear Account' on Customer Account (alec)
  - added cash operations import interface (lexx/alec)
  - sql queries speedup in GetTariff() and GetTariffList() (alec)
  - "all liabilities suspending" can be edited like other assignments (alec)
  - BTS#0000292: tariff's avg monthly income don't take into consideration
    suspended liabilities (alec)
  - added index on tariffid column in assignments table (alec)
  - BTS#0000284: user login is unique and can't be reused - changed content
    of warning message (alec)
  - added 'in debt', 'deleted' and 'disconnected' filters for mailing (alec) 
  - contrib/customer_otherip: invoices printing (alec)
  - fixed floats formatting in AddBalance() for non-english locale (.PaKuD)
  - fixed month and year in invoice number in 'setcustomer' action of file
    invoiceedit.php (alec)
  - BTS#0000305: helpdesk - fixed design in queue info (alec)
  - database speedup - added indexes: nodes/netdev, rttickets/queueid, cash/time,
    invoices/cdate, invoicecontents/invoiceid, cashimport/hash (alec)
  - invoicenew.php, invoiceedit.php: bypassed sessions bug in PHP-4.3.10 (alec)
  - almsd/notify: changed contents of 'command' option and removed header with
    column names in last_10_in_a_table (alec)
  - almsd/tc: fixed uninitialized variable warning (alec)
  - possibility of removing tickets (chilek)
  - lms-rtparser: added mail charset detection and conversion to database
    charset (req. Text::Iconv), changed encoding of confirmation message (alec)
  - added contrib/coffee_cup (lexx)
  - added passwd field to nodes record (alec)
  - we can pay invoices in userbalancebox (chilek)
  - new session management using database backend, also authorization has been
    put into separate class (lukasz)
  - BTS#0000308: added lost customer's groups table while adding new node for 
    a customer (alec)
  - added support for dynamic tooltips (lexx)
  - netdevmap in flash (requires ming) (lexx)
  - added Finances -> Print -> Covenants Realization Report (alec)  
  - new layout for menu (lukasz)
  - ip address selection divided to pages (chilek)
  - if we find only one customer we will redirect to his info (chilek)
  - almsd/dhcp,oident,ethers: changed defaults of 'file' and 'command'
    options (alec)
  - translated to english almost entire documentation (kondi/alec)
  - database backups can be restored only on system version according 
    with database version where backup was created (alec)
  - added contrib/squid_redirector which extends capabilities of squid_warnings 
    (enable/disable nodes access to squid), and marking squid_warnings as 
    obsolete (lexx)
  - BTS#0000315: remove assignments in customer delete function (alec/WiktorRB)
  - page headers have been removed (chilek)
  - redesigned customers list (lexx)
  - BTS#0000311: fixed cash operation time setting after invoice edition (alec)
  - mail() -> SendMail(). We use Pear::Mail (chilek)
  - notifications about new tickets in UI and lms-rtparser (chilek/alec)
  - proper char encoding in mail notifications (chilek)
  - added confirm. dialog for generation of new PIN and node's password (alec)
  - added "Notices" privilage for helpdesk queues (alec) 

version 1.5.4 Ramius (16/02/2005):

  - domy¶lnym jêzykiem interfejsu u¿ytkownika jest angielski (en), wykonano
    t³umaczenie na jêzyk polski, zmieniono nazewnictwo: u¿ytkownicy -> klienci,
    administratorzy -> u¿ytkownicy, jêzyk jest odczytywany z ustawieñ
    przegl±darki, a mo¿e byæ tak¿e ustawiony poprzez opcjê 'lang', zmieniono
    kodowanie danych i interfejsu na UTF-8, trwaj± prace nad t³umaczeniem 
    dokumentacji (alec/lexx/maniac/chilek i inni)
  - zmiana opcji 'userlist_pagelimit' na 'customerlist_pagelimit' (alec) 
  - poprawiony b³±d przy usuwaniu op³aty sta³ej powoduj±cy usuniêcie op³aty
    bez potwierdzenia (alec)
  - dodana opcja konfiguracyjna (phpui -> lang_debug) która pozwala na 
    wy¶wietlanie w popupie brakuj±cych ci±gów w t³umaczeniach (lexx)
  - poprawiony b³±d na li¶cie u¿ytkowników wyszukanych powoduj±cy ignorowanie
    braku potwierdzenia przy rozliczaniu u¿ytkownika (alec)
  - BTS#0000275: poprawiony b³±d w zapytaniu sql podczas wyszukiwania zg³oszeñ
    wg nazwiska zg³aszaj±cego (rejmer)
  - BTS#0000278: dodane uprawnienie 'zarz±dzanie sieciami i urz±dzeniami' oraz
    wy³±czono z uprawnienia 'zarz±dzanie komputerami' od³±czanie/w³±czanie
    komputerów (rejmer/alec)
  - w dokumentacji dodana informacja jak pod³±czyæ lms-rtparser do postfixa
    przy u¿yciu procmaila (D.Rejmer)
  - dodawanie aliasów i domen przeniesiono do osobnych modu³ów, uprawnienie
    'tylko odczyt' zezwala na odczyt danych kont/aliasów/domen (alec)
  - BTS#0000279: na szablonie wysy³ania maili poprawiono zamienione miejscami
    nazwê i email nadawcy (alec)
  - BTS#0000280: poprawione b³êdne zaokr±glanie oraz sumowanie ogólnej kwoty
    podatku na rejestrze sprzeda¿y (.PaKud/alec)
  - obs³uga gzipowanych kopii zapasowych (kuba)
  - BTS#0000276: lms-rtparser: je¶li nie zdefiniowano 'mail_from_name' w polu
    'From:' potwierdzenia wstawiamy nazwê kolejki (rejmer/alec)
  - BTS#0000282: lms-rtparser: w polu 'Do:' potwierdzenia wstawiamy tylko
    adres email bez nazwy konta zg³aszaj±cego (rejmer/alec)
  - BTS#0000274: Nie mo¿na przypisaæ komputerowi adresu gatewaya (alec)
  - usuniêty b³±d powoduj±cy z³e rozpoznawanie adresu sieci i broadcastu na 
    li¶cie hostów w danej sieci, je¶li lista ta by³a na wiêcej ni¿ jednej
    stronie (alec)
  - poprawiony b³±d w skrypcie lms-notify oraz modu³ach almsd notify i ggnotify
    powoduj±cy pobieranie do %last_10_in_a_table dziesiêciu pierwszych a nie
    ostatnich operacji (alec)
  - poprawiony b³±d w ustawianiu daty wystawienia nowej faktury (alec)
  - dodano zabezpieczenie przed wystawieniem faktury bez zawarto¶ci (alec)
  - BTS#0000281: poprawiono wy¶wietlanie listy zad³u¿onych, które na MySQLu
    uwzglêdnia³o tak¿e u¿ytkowników z bilansem równym zero (alec)
  - zmiana warto¶ci domy¶lnej opcji invoices/content_type: usuniêto definicjê
    charsetu (alec)
  - numeracja miesiêczna faktur: invoices/monthly_numbering (alec)
  - BTS#0000299: poprawka w funkcji sprawdzaj±cej poprawno¶æ MAC'a (lukas)
  - dodana opcja %PIN do lms-mgc (lukasz)
  - Terminarz (alec)
  - zmiana typu kolumny przechowuj±cej kod pocztowy na VARCHAR(10) uwzgl.
    amerykañski format 5+4 (alec)
  - dodana mo¿liwo¶æ wydruku listy komputerów u¿ytkowników zad³u¿onych (alec)
  - na li¶cie opcji konfiguracyjnych dodano linki do edycji, usuwania oraz
    w³±czania/wy³±czania opcji (alec)
  - dodana mo¿liwo¶æ filtrowania listy faktur wg zadanych kryteriów (alec)
  - w opcji 'contract_template' mo¿e podawaæ kilka plików szablonów umów
    wraz z opisem, np. "plik.html:Umowa Test, plik2.html:Umowa Standard" (alec)
  - lms-sendinvoices: dodana opcja --fakedate (alec)
  - dodano mo¿liwo¶æ wydruku listy u¿ytkowników z bilansem na dany dzieñ (alec)
  - na bilansie u¿ytkownika oraz bilansie sieci dodano mo¿liwo¶æ wydruku 
    orygina³ów/kopii wybranych faktur (alec)
  - lms-payments (almsd/payments): jednej pozycji na fakturze odpowiada 
    dok³adnie jedno obci±¿enie, tak¿e wtedy gdy pozycja sk³ada siê z wielu
    podpozycji/taryf (alec)
  - edycja i usuwanie faktur (lexx)
  - dodano index na kolumnie invoiceid w tabeli cash, przyspieszaj±cy niektóre
    zapytania SQL (alec)
  - mo¿liwo¶æ generowania faktur w PDF (lexx)
  - dla operacji fakturowanych dodano mo¿liwo¶æ powi±zywania obci±¿eñ z
    wp³atami/przedp³atami, co np. pozwala na czê¶ciowe rozliczanie faktur (alec)
  - mo¿na edytowaæ opcje sekcji [finances] z poziomu UI (alec)
  - poprawki w nodescan.php|html - je¶li wyszukujemy komputery z poziomu klienta
    zostaje wy¶wietlona kompletna strona informacji o kliencie (alec)
  - lms-payments: dodano opcjê 'comment' ustalaj±c± komentarz do op³aty,
    dozwolone zmienne: %tariff, %period, %desc (alec)

version 1.5.3 Nirrti (16/12/2004):

  - w polu email przy dodawaniu/edycji u¿ytkownika mo¿na wpisaæ tylko jeden 
    adres, dodane sprawdzenie poprawno¶ci tego adresu (alec)
  - poprawiona walidacja PINu przy dodawaniu u¿ytkownika (alec)
  - poprawione sprawdzanie poprawno¶ci loginu i domeny konta (alec)
  - mo¿liwo¶æ zmiany opcji konfiguracyjnych z sekcji [phpui] i [invoices]
    w interfejsie u¿ytkownika (menu Administracja -> Konfiguracja), wiêcej 
    w dokumentacji: Rozdzia³ 3.2.5. (alec)
  - contrib/formularz_przelewu_wplaty: dwa druki na stronie i inne drobne
    poprawki (J.Krzymin/alec)
  - poprawki w Mailingu dot. obs³ugi b³êdów i kosmetyka interfejsu (alec)
  - wydruk faktur za dany okres z mo¿liwo¶ci± wyboru u¿ytkownika (alec)
  - lms-payments: poprawione dzia³anie opcji --quiet, dodana opcja
    -f, --fakedate=YYYY/MM/DD (alec/RIP)
  - usuniêty b³±d powoduj±cy brak mo¿liwo¶ci edycji konta systemowego (alec)
  - mo¿na okre¶liæ datê wystawienia nowej faktury (alec)
  - w oknie bilansu u¿ytkownika dodany link 'Wystaw fakturê' (alec)
  - BTS#0000254: funkcja writesyslog() dzia³a równie¿ na OpenBSD (kubatyszko)
  - edycja zobowi±zañ u¿ytkownika (alec)
  - dodana opcja 'to_words_short_version' w sekcji [phpui] okre¶laj±ca format
    reprezentacji s³ownej kwot (alec/kubatyszko)
  - w formularzu przelewu/wp³aty mo¿na zdefiniowaæ format reprezentacji s³ownej 
    kwoty (alec/kubatyszko)
  - BTS#0000252: usuniête spacje wiod±ce w repr. s³ownej kwot (alec)
  - filtrowanie listy zg³oszeñ Helpdesk wg statusu (alec)
  - w dokumentacji dodany opis pod³±czenia lms-rtparser do Exima (P.Górski)
  - Konta/Aliasy/Domeny 
	!!! UWAGA: Domeny nie s± ju¿ trzymane w passwd !!! (alec)
  - dodany filtr 'on-line' do listy u¿ytkowników (alec)
  - usuniêty b³±d w module payments demona, wystêpuj±cy na mysql'u, który
    powodowa³ niezapisywanie zawarto¶ci faktur (alec)
  - almsd: zmiana w funkcji db_query() dla mysql'a powoduj±ca, ¿e przy pustym
    resultsecie nie zwracamy teraz NULL'a, tzn. tak jak dla innych baz,
    czyli po wywo³aniu tej funkcji nale¿y pamiêtaæ o sprawdzeniu pola 
    'nrows' wyniku (alec)
  - usuniêta redefinicja funkcji chkconfig() z customer (chilek)
  - w userinfo dodany link do listy kont u¿ytkownika (alec)
  - listy kont i aliasów wspó³dziel± te same filtry (alec)
  - lms-squid-warnings obs³uguje bazy postgres i sqlite (alec)
  - lms-rtparser: przy nieustawionej opcji 'mail_from' poprawnie wstawiany
    jest adres kolejki (alec)
  - BTS#0000257: w sumie op³at miesiêcznych u¿ytkowników oraz w ¶rednim zysku
    miesiêcznym taryf nie uwzglêdniamy zobowi±zañ zawieszonych (alec)
  - BTS#0000266: zabezpieczenie przed generowaniem mapy sieci, w której nie ma
    urz±dzeñ, co powodowa³o segfaulta Apache'a (alec)
  - z szablonu faktury usuniêta informacja powo³uj±ca siê na nieaktualne
    przepisy prawne (alec)
  - poprawiona walidacja NIPu przy edycji i dodawaniu u¿ytkownika (alec)
  - contrib/formularz_przelewu_wplaty_2 (lexx)
  - lms-mgc ignoruje wpis node(x.x.x.x) je¿eli host x.x.x.x nie istnieje
    (dzwonus/lukasz)
  - Helpdesk: dodana mo¿liwo¶æ wysy³ania wiadomo¶ci z za³±cznikiem (alec)

version 1.5.2 Isis (25/11/2004):

  - experymentalny driver do MS SQL Servera (alec)
  - poprawne tworzenie shared-network w lms-makedhcpconf (alec)
  - dokumentacja: dodany opis lms-makedhcpconf (alec)
  - dodane brakuj±ce defaulty do niektórych kolumn w tabeli rtmessages
    w lms.mysql (alec)
  - w funkcji odczytuj±cej nazwê hosta (któr± nastêpnie widaæ w nag³ówkach 
    stron) dodano sprawdzenie sta³ych $_ENV['HOSTNAME'] i $_SERVER[SERVER_NAME']
    je¶li nie powiedzie siê próba odczytania nazwy poprzez `hostname` (alec)
  - do danych komputera dodano pole 'info' (alec)
  - lms-mgc: dodana zmienna %INFO zawieraj±ca opis komputera j.w. (alec)
  - dodana zmienna %info w regu³kach modu³u hostfile demona almsd (alec)
  - dokumentacja: uzupe³niony opis zmiennych lms-mgc (alec)
  - w statystykach dodany ¶redni transfer w KB/s (alec)
  - generowanie PINu podczas edycji/dodawania u¿ytkownika (alec)
  - poprawka w funkcji szybkiego wyszukiwania komputera uwzglêdniaj±ca zmianê
    dzia³ania ip2long() w PHP5 (alec)
  - BTS#0000229: contrib/customer - uwzglêdniona sytuacja, gdy ³±czymy siê z
    urz±dzenia sieciowego (alec)
  - lms-arping (T.Ciaszczyk/alec)
  - lms-rtparser: usuniêty b³±d w dzia³aniu opcji tmp_dir (alec)
  - pinger.h: usuniêty b³±d kompilacji z glibc 2.3 (alec)
  - almsd/cutoff: dodane opcje 'warning' i 'command' (alec)
  - BTS#0000245: poprawiona godzina w 'data do' na 23:59:59 w wydrukach
    bilansu finansowego sieci i u¿ytkownika (alec)
  - contrib/daemon/cbq-init: dodatkowy modu³ demona (alec)
  - dodane sprawdzenie czy zaznaczono u¿ytkowników przy dodawaniu nowej
    operacji (alec)
  - poprawki w genfake (lexx)
  - almsd/cutoff: dodana opcja 'warnings_only' umo¿liwiaj±ca wykorzystanie
    tego modu³u wy³±cznie do w³±czania ostrze¿eñ, gruntowna przebudowa (alec)
  - contrib/daemon/cutoff2 - ulepszony cutoff dla zobowi±zañ mies. (alec)
  - contrib/multiip_patch (alec/£.Wojciechowski/M.Adamski)
  - BTS#0000237: na li¶cie wyboru taryfy w zobowi±zaniach u¿ytkownika pokazujemy
    warto¶ci uprate, upceil, downrate, downceil (alec)
  - BTS#0000246: na FreeBSD hostname wywo³ujemy bez opcji -f (alec)
  - BTS#0000248: zmiana statusu lub ostrze¿enie komputera nie powoduje zmiany
    administratora "ostatniej modyfikacji" (alec)
  - w lms-makemacs poprawiona domy¶lna warto¶æ opcji config_file (alec)
  - dodany 'Rozdzia³ 9 FAQ' w dokumentacji (alec)
  - przebudowana struktura menu: Administratorzy, Bazy danych, Witamy!
    zebrane w jednym 'Administracja' (alec)
  - poprawki formularzy u³atwiaj±ce szybsz± obs³ugê bez u¿ycia myszy (alec)
  - Konta (lexx/alec)
  - contrib/daemon/shaper (M.Adamski)

version 1.5.1 Eamon (25/10/2004):

  - przyspieszone wy¶wietlanie modu³u wydruków i innych pobieraj±cych listê
    administratorów (alec)
  - BTS#0000200 (alec)
  - poprawki i kosmetyka w contrib/customer_otherip oraz dodany opis do
    dokumentacji (alec)
  - optymalizacja wydruku bilansu finansowego (alec)
  - BTS#0000203: nie mo¿na siê logowaæ na usuniête konto admina (alec)
  - usuniêty b³±d uniemo¿liwiaj±cy otwarcie za³±cznika do wiadomo¶ci rt (alec)
  - BTS#0000206: poprawione pobieranie baz przy po³±czeniu https (alec/lexx)
  - Helpdesk: dodane wpisy do sample/lms.ini, poprawiony b³±d przy zmianie
    w³a¶ciciela zg³oszenia, w dokumentacji dodana informacja o wymaganych
    przez rtparser modu³ach Perla (alec)
  - w lms-rtparser potwierdzenia wysy³a Net::SMTP zamiast sendmaila, 
    dodane opcje smtp_server, mail_from_name (alec)
  - usuniêty b³±d przy odtwarzaniu backupu na postgresie spowodowany 
    aktualizacj± nieistniej±cych sekwencji (alec)
  - status online adresów urz±dzeñ w netdevinfo (alec)
  - poprawiony b³±d w zapytaniu sql w lms-notify (alec)
  - na li¶cie sieci podajemy ilo¶æ komputerów online dla ka¿dej sieci (alec/lukas)
  - statystyki zg³oszeñ w welcome.html (alec)
  - dodana opcja networkhosts_pagelimit, domy¶lnie pokazujemy 256 hostów
    w netinfo (alec)
  - przebudowany i poprawiony lms-notify-sms (alec)
  - lms-notify: uzupe³niona dokumentacja (%phone1, %date_month_name), poprawione 
    sortowanie %last_10_in_a_table i znak przy kwotach (alec)
  - mo¿liwo¶æ szybkiego wyszukania zg³oszeñ o okre¶lonych stanach z welcome.html (chilek)
  - pominiêcie usuniêtych u¿ytkowników w szybkim wyszukiwaniu (modu³ quicksearch) (averne)
  - mo¿liwo¶æ skasowania wiadomo¶ci w widoku zg³oszenia (chilek)
  - poprawiona kwota s³ownie w contrib/formularz_wp³aty (alec)
  - lms-rtparser: poprawione/dodane kodowanie nag³ówków potwierdzenia (alec)
  - poprawiony auto-upgrade: w przypadku wyst±pienia b³êdu procedura zostaje
    przerwana (alec)
  - poprawiony b³±d uniemo¿liwiaj±cy edycjê danych grupy u¿ytkowników (alec)
  - opcja phpui/contract_template lms.ini dla szablonu umowy usera (alec)
  - lms-rtparser: auto_open - automatyczne otwieranie zamkniêtych zg³oszeñ (alec)
  - BTS#0000204: dane o ostatnim logowaniu zalogowanego administratora zawieraj±
    informacje z ostatniego logowania, a nie z bie¿±cej sesji (alec)
  - po zmianie has³a wy¶wietlamy ostatni modu³ zamiast welcome (alec)
  - nazwa interfejsu mo¿e zawieraæ ':' i '.' (alec)
  - naprawione sumowanie w kolumnie 0% w rejestrze sprzeda¿y (alec)
  - poprawione b³êdy w pinger.h uniemo¿liwiaj±ce kompilacjê na niektórych
    versionch glibca (alec)
  - BTS#0000221: dodany monit o potwierdzenie rozliczenia faktury (alec)
  - usuniête przekierowanie do listy faktur po dodaniu faktury (alec)
  - po³±czenia wireless na mapie sieci (alec)
  - poprawiony b³±d w polu 'adres IP' podczas edycji komputera (lukas/alec)
  - BTS#0000214: rozwi±zany problem z brakiem pamiêci podczas tworzenia 
    backupu (alec)
  - dodany contrib/import, czyli import p³atno¶ci z pliku txt (alec)
  
version 1.5.0 Marduk (18/09/2004):

  - w lms-makedhcpconf hosty s± sortowane (alec)
  - drukowanie zg³oszeñ (alec)
  - BTS#0000192: poprawione wy¶wietlanie z³ego urz±dzenia sieciowego podczas
    edycji komputera (lexx)
  - w oknie wyboru adresu IP domy¶ln± sieci± jest ta, do której nale¿y
    edytowany komputer/adres urz±dzenia (alec/lukas)
  - na mapie dodana informacja (w postaci ró¿nych ikon) o aktywno¶ci
    urz±dzeñ sieciowych (alec/lexx)
  - podgl±d szczegó³ów wiadomo¶ci Helpdesku (alec)
  - podczas odpowiadania na zg³oszenie nastêpuje zmiana statusu i w³a¶ciciela
    je¶li nie by³y wcze¶niej ustawione (alec)
  - nazwa sieci mo¿e zawieraæ znak '_' (alec)
  - nazwa grupy mo¿e zawieraæ znak '.' (alec)
  - dodana obs³uga opcji konfig. 'networks' i 'usergroups' w module 'ethers',
    'dns' i 'dhcp' demona (alec)
  - poprawione b³êdne interpretowanie opcji 'networks' w modu³ach demona
    gdy nazwa sieci zawiera³a kropkê (alec)
  - BTS#0000183: dodany indeks na kolumnie userid w tabeli cash, powoduj±cy
    znaczne przyspieszenie zapytañ sql ze z³±czeniami tabel cash i users (alec)
  - w formularzu nowej operacji napisy okre¶laj±ce typ operacji uaktywniaj±
    odpowiadaj±ce im radio-buttony (chilek)
  - w formularzu nowej operacji zapamiêtywany jest na czas sesji typ operacji (chilek)
  - w UI dodana obs³uga PIN dla u¿ytkowników - UWAGA! automatyczny upgrade bazy
    generuje nowe numery PIN dla wszystkich u¿ytkowników! JE¦LI POSIADASZ 
    JU¯ NUMERY PIN W BAZIE TO ZOSTAN¡ ONE WYGENEROWANE NA NOWO! (lexx)
  - BTS#0000185: poprawione rozliczanie u¿ytkowników (alec)
  - mo¿liwo¶æ wydrukowania umowy z poziomu UI (lexx)
  - w demonie mo¿na zdefiniowaæ polecenie pow³oki, które bêdzie wykonywane 
    przed ka¿dym po³±czeniem z baz± (alec)
  - w skryptach dodano wy¶wietlanie b³êdów w pliku konfiguracyjnym (alec)
  - w formularzu nowej operacji pokazuje siê ilo¶æ zaznaczonych u¿ytkowników (chilek)
  - przyspieszone wy¶wietlanie listy faktur na MySQL'u (alec) 	 
  - polecenie 'make daemon' do kompilacji samego demona, bez modu³ów (alec) 	 
  - przy starcie almsd w 'background mode' nie nastêpuje prze³adowanie (alec)
  - dodane klawisze szybkiego dostêpu w formularzu wyszukiwania u¿ytkownika (S)
    oraz nowej operacji (W) (chilek)
  - do demona dodana opcja wiersza poleceñ '-i' okre¶laj±ca instancje do
    prze³adowania, nie ma konieczno¶ci tworzenia odrêbnych plików konfig.
    dla modu³ów uruchamianych z crona (alec)
  - na mapie sieci zwiêkszony górny margines i usuniête b³êdy wyst. przy
    braku pod³±czonych komputerów (lukas)
  - w contrib/sqlpanel wyniki poleceñ sql przepuszczane s± przez funkcje
    nl2br() i htmlspecialchars() (alec)
  - na mapie zwiêkszony do 24 limit urz±dzeñ pod³±czonych do jednego urz±dzenia
    oraz usuniêty b³±d pokrywaj±cych siê linków (alec)
  - lms-rtparser: przebudowany, przetestowany i dodana dokumentacja (alec)
  - dopracowane wysy³anie wiadomo¶ci w Helpdesku (alec)
  - obs³uga za³±czników w Helpdesku (alec)

version 1.3.6 Osiris (01/09/2004);

  - obci±¿enia s± naliczane wed³ug ich warto¶ci, rosn±co - w wypadku jak kto¶
    ma odliczenie jakie¶, zostanie ono naliczone jako pierwsze, przez co nawet
    przez chwilê saldo nie zejdzie poni¿ej zera (lukasz)
  - dodana informacja kiedy dany komputer by³ ostatnio widziany w sieci (lexx)
  - teraz na mapie urz±dzeñ sieciowych pokazywana jest lokalizacja urz±dzenia
    (lexx)
  - poprawiony b³±d w zapytaniu przy wyszukiwaniu zg³oszeñ po temacie (alec)
  - uprawnienie 'manipulacja finansami' obejmuje tak¿e rozliczanie faktur (alec)
  - BTS#0000180: zliczanie wolnych adresów w sieci nie bierze pod uwagê 
    zarezerwowanych dla DHCP (lexx)
  - BTS#0000181: okienko wyboru adresu IP nie pozwala wybraæ adresu 
    zarezerwowanego dla DHCP (lexx)
  - BTS#0000153: klikniêcie na urz±dzenie/komputer na mapie urz±dzeñ powoduje
    przej¶cie do wybranego urz±dzenia/komputera (lexx)
  - poprawiona czytelno¶æ napisów na mapie urz±dzeñ (lexx)
  - zawieszanie p³atno¶ci wybranych zobowi±zañ u¿ytkownika lub wszystkich 
    na dany okres (alec)
  - dodany panel 'U¿ytkownicy'->'Ostrze¿enia' (alec)
  - dodany skrypt lms-fping (alec)
  - BTS#0000052: od³±czenie u¿ytkownika poprzez cutoff powoduje automatyczne 
    owinetkowanie komputerów u¿ytkownika oraz ustawienie wiadomo¶ci 
    administracyjnej (lexx)
  - poprawiony BTS#0000157: gubienie urz±dzeñ i b³êdne po³±czenia 
    na mapie (alec)
  - w welcome.html podajemy tak¿e ilo¶æ komputerów on-line (alec)
  - BTS#0000187: uzup. brakuj±ca definicja $utsfmt w lms-notify (alec)
  - BTS#0000189: poprawiony trigger dns2 w formularzu netadd.html (alec)
  - dodany modu³ pinger (szybszy odpowiednik lms-fping) do demona (alec)
  - w demonie wszystkie komunikaty informacyjne s± w DEBUG1 (alec)
  - usuniête b³êdy przy allow_call_time_pass_reference=Off w php.ini (alec)
  - dodane contrib/squid_warnings (lexx)
  - w dokum. dodany rozdzia³ 'Dodatki' opisuj±cy zawarto¶æ /contrib (alec)
  
version 1.3.5 Ju (30/07/2004):

  - usuniêty b³±d w skryptach perlowych, powoduj±cy b³êdne dzia³anie
    przy pustej zmiennej konfiguracyjnej 'usergroups' (alec)
  - domy¶lnie, w mailingu u¿ywamy imienia i e-maila administratora który
    aktualnie siê zalogowa³ jako nadawcy (lukasz)
  - skoñczony (?) interfejs www dla systemu RT-Helpdesk (alec)
  - zaktualizowano pliki do zak³adania bazy danych (alec)
  - w polu szybkiego wyszukiwania mo¿na podawaæ numer zg³oszenia lub
    nazwisko u¿ytkownika (alec)
  - w lms-mgc poprawiony b³±d w zapytaniu wybieraj±cym dane do htb oraz dodane
    zmienne %UPCEIL, %DOWNCEIL, %CLIMIT, %PLIMIT (alec)
  - zmiana typu kolumn statystyk na BIGINT zapobiegaj±ca b³êdom przy
    kompaktowaniu je¶li u¿ytkownicy ¶ci±gaj± ponad 2 GB danych dziennie (alec)
  - BTS#0000168: poprawione dzia³anie zmiennej 'use_current_payday', przy 
    okazji wreszcie dzia³aj± error-triggery dla zobowi±zañ (alec)
  - BTS#0000171: poprawiona obs³uga b³êdu przy braku wolnych portów 
    w urz±dzeniu przy pierwszym pod³±czeniu komputera (alec)
  - BTS#0000173: uzupe³nione sprawdzanie d³ugo¶ci nazwy komputera, urz±dzeñ 
    sieciowych i ich adresów oraz dodany atrybut maxlength w szablonach (alec)
  - dodano mo¿liwo¶æ nadpisania pojedyñczej regu³y w lms-mgc poprzez wpis:
    node(192.168.1.1) = regu³a (lukasz)
  - dodano pole 'adres do dorêczeñ' dla danych u¿ytkownika, który (je¶li 
    zdefiniowano) zast±pi adres u¿ytkownika na fakturze (alec)
  - w module hostfile demona dodana zmienna '%gw' zamieniana na adres
    bramy (alec)
  - w module 'tc' demona mo¿na okre¶liæ politykê generowania klas htb poprzez
    zmienn± 'one_class_per_host', rozbite regu³y na kilka opcji konfiguracyjnych
    osobno dla markowania i htb w obie strony (alec)
  - w lms-traffic-htbiptlimits dodana obs³uga upceil i downceil (alec)
  - uptime'y zg³oszeñ, czyli czas od zg³oszenia do rozwi±zania problemu (alec)
  - poprawna odmiana wyrazów dzieñ, godzina, minuta w uptime'ach (alec)
  - dodany filtr 'minimalny uptime' do wyszukiwania zg³oszeñ (alec)

version 1.3.4 Terok (06/07/2004):

  - naprawiony combobox ze stawk± podatku w 'Rachunku u¿ytkownika' (alec)
  - je¶li ¿adna grupa nie istnieje to skrypty bior± pod uwagê wszystkich
    u¿ytkowników (chilek)
  - dodane error-triggery w adminpasswd.html (alec)
  - zapamiêtujemy porz±dek sortowania w statystykach (chilek)
  - poprawiony BTS#0000137: dodany komunikat o braku wolnych portów w urz±dzeniu
    podczas pod³±czania z nodeinfobox.html (alec)
  - na listach u¿ytkowników filtr 'wszyscy' wybiera z bazy wszystkich oprócz
    usuniêtych (nie bierze pod uwagê pola status), a nie tylko pod³±czonych 
    jak dotychczas (alec)
  - przy obliczaniu ¶redniego zysku miesiêcznego taryfy nie uwzglêdniamy 
    u¿ytkowników zainteresowanych i oczekuj±cych - BTS#0000151 (alec)
  - poprawione opisy instalacji i upgrade'u bazy mysql, z uwagi na brakuj±ce
    uprawnienia do polecenia ALTER, wszyscy planuj±cy upgrade powinni z konta
    roota wykonaæ w mysqlu nastêpuj±ce polecenia: (alec)
	GRANT select,insert,update,delete,create ON lms.* TO lms@localhost 
		IDENTIFIED BY 'has³o';
	FLUSH PRIVILEGES;
  - na mapie sieci oprócz nazw hostów pokazujemy ich adresy IP oraz
    (max.4) adresy IP urz±dzeñ sieciowych (alec)
  - poprawiony b³±d na fakturze: BTS#0000154 (alec)
  - w formularzu dodawania faktury mo¿na podawaæ kwoty z przecinkiem oraz
    usuniêto wiod±ce zero dla kwot mniejszych od 10 (alec)
  - rozliczanie u¿ykowników w rozbiciu na stawki VAT (chilek)
  - mo¿liwo¶æ usuwania transakcji w bilansie u¿ytkowników (chilek)
  - mo¿liwo¶æ usuwania transakcji w informacji o u¿ytkowniku (chilek)
  - poprawka w DBDump() usuwaj±ca b³±d wystêpuj±cy podczas odtwarzania kopii
    bazy danych z warto¶ci± NULL ('zw.') w kolumnach taxvalue (alec)
  - lms-traffic-logiptables nie zapisuje ju¿ danych do logu, ale wstawia
    dane do bazy wprost, nie trzeba uruchamiaæ lms-traffic (alec)
  - do demona dodany modu³ 'system', dla tych co nie chc± u¿ywaæ sudo dla
    skryptów perlowych, oczywi¶cie nie tylko (alec)
  - poprawka w notify i ggnotify dodaj±ca znak minus przy obci±¿eniu w
    %last_10_in_a_table (alec)
  - poprawka linku do listy zad³u¿onych w welcome.html (alec)
  - dodany contrib/customer_otherip (hunter)
  - rozbudowane faktury o dane do htb: upload ceil, download ceil, 
    connection limit, packet limit (alec)
  - przepisany modu³ 'tc' demona uwzglêdnia zmiany w taryfach (alec)
  - poprawka w funkcji mailing, teraz pole from: powinno byæ dobre (lexx)
  - podczas usuwania urz±dzenia sieciowego usuwane s± tak¿e jego adresy (alec)
  - poprawione ustawianie sekwencji postgresa podczas odtwarzania kopii
    bazy danych (alec)
  - wznowiono prace na systemem RT (Helpdesk) (alec)

version 1.3.3 Sokar (05/05/2004):
  
  - naprawione usuwanie pozycji na fakturze (alec) 
  - w demonie dodana obs³uga bazy SQLite (alec)
  - poprawione zapytanie w lms-traffic-htbiptlimits uwzglêdniaj±ce prawid³owo
    okresowe assignmenty (alec)
  - dodana obs³uga datefrom i dateto w module 'tc' demona (alec)
  - dodana obs³uga zwolnieñ z VAT w taryfach i fakturach (chilek)
  - poprawione b³êdy w wygl±dzie listy faktur, z którymi nie radzi³a
    sobie Mozilla (alec)
  - dodana obs³uga stawek VAT w operacjach finansowych - tablica cash
    pole taxvalue (chilek)
  - w wydrukach bilansów uzwglêdniane s± stawki VAT (chilek)
  - w contrib/sqlpanel dodano stronicowanie wyników oraz opcjê wydruku (alec)
  - wybór stawki VAT przy nowej operacji w comboboksie (chilek)
  - wydruk raportu ³±cznych przychodów bezrachunkowych (chilek)
  - wydruk raportu wierzytelno¶ci userów (alec)
  - dodana mo¿liwo¶æ op³acania faktur - jeszcze nie w pe³ni funkcjonalna (chilek)
  - na fakturze termin p³atno¶ci mo¿e wynosiæ 0 (alec)
  - mo¿na podaæ datê op³acenia faktury (chilek)
  - mo¿na rozliczyæ wiele faktur (chilek)
  - sprawdzamy czy faktury s± rozliczone testuj±c bilans pozycji faktur (chilek)
  - w formularzach wyszukiwañ pokazywane s± ikonki ostrze¿eñ (chilek)
  - rejestr sprzeda¿y przeniesiony do Taryfy i Finanse -> Wydruki (alec)
  - wybór stawki VAT w nowej pozycji faktury za pomoc± comboboxa (chilek)
  - wybór stawki VAT w taryfach za pomoc± comboboxa (chilek)
  - dodany formularz zarz±dzania wiadomo¶ciami administracyjnymi (chilek)
  - grupy u¿ytkowników (chilek/alec)
  - mo¿liwo¶æ wyboru grupy wy¶wietlanej listy u¿ytkowników (chilek)
  - mo¿liwo¶æ ustalania przynale¿no¶ci do grup w formularzach informacji o
    u¿ytkowniku i edycji u¿ytkownika (chilek)
  - mo¿liwo¶æ ustalania przynale¿no¶ci do grup w formularzach informacji o
    komputerze i edycji komputera (chilek)
  - obs³uga grup u¿ytkowników w lms-makedhcpconf, lms-makeoidentconf,
    lms-makemacs, lms-makehosts (chilek)
  - naprawione filtrowanie listy userów wg grupy i sieci (alec) 
  - poprawka w bazie przywracaj±ca mo¿liwo¶æ dublowania MAC'ów (alec)
  - w Mailingu mo¿na wybraæ grupê u¿ytkowników (alec)
  - dodane skrypty lms-makewarnings, lms-makemessages (chilek)
  - dane administratorów usuniêtych nie s± usuwane z bazy (alec)
  - wydruki list u¿ytkowników mo¿na filtrowaæ wg grupy (alec)
  - do listy u¿ytkowników dodane filtry 'usuniêci', 'od³±czeni'
    i 'zad³u¿eni', w zwi±zku z tym znika menu U¿ytkownicy->Od³±czeni
    i U¿ytkownicy->Zad³u¿eni (alec/chilek)
  - w wersji demona dla SQLite dodane funkcje UPPER() i LOWER()
    uwzglêdniaj±ce systemowe locales, dla prawid³owego kapitalizowania
    polskich znaków diakrytycznych (alec)
  - poprawiony error-trigger w polu status w usereditbox.html (alec)
  - poprawione ignorowanie naliczeñ o warto¶ci zerowej (lukasz)
  - poprawiony b³±d w almsd, powoduj±cy zwa³kê demona na mysql'u, gdy
    w tabeli timestamps nie ma wpisu '_force' (alec)
  - przebudowany rozdzia³ 'Interfejs U¿ytkownika' w dokumentacji (alec)

version 1.3.2 Kinsey (03/04/2004):
  
  - przeniesienie warning&messages z contrib do g³ównej ga³êzi
    dodanie lms-updatewarnings (maniac/alec/chilek)
  - poprawione b³êdy w module 'hostfile' demona, dodane zmienne 
    %domain - zamieniana na nazwê domeny i %net - na nazwê sieci (alec)
  - w zmiennej 'networks' dla modu³ów hostfile i oident nie podajemy adresów, 
    ale listê nazw sieci (alec)
  - multilanguage? jednak nie (lexx)
  - rozpoczêto prace nad systemem RT (lukasz)
  - sporo poprawek kosmetycznych kodu (lukasz)
  - nareszcie zrobiona obs³uga b³êdów SQL (lukasz/alec)
  - poprawiony bug wystêpuj±cy na postgresie podczas dodawania usera z pustym
    numerem gadu-gadu (alec)
  - poprawione sortowanie listy komputerów wg nazwy w³a¶ciciela (alec)
  - dodany interfejs do definiowania filtrów dla wydruków list komputerów
    i u¿ytkowników (alec)
  - dodane drukowanie bilansu u¿ytkownika za dany okres (alec)
  - od teraz, u¿ytkownikom mo¿na przypisywaæ taryfy na dany okres czasu
    (lukasz)
  - pola szybkiego dostêpu akceptuj± teraz takie rzeczy jak nazwa, id, adres
    ip/mac, adres u¿ytkownika, adres email, telefon (lukasz)
  - ma³e przyspieszenie funkcji UserStats() (alec)
  - przebudowa struktury bazy danych: dodane warto¶ci domy¶lne pól, klucze
    unikalne i ograniczenia NOT NULL (lukasz/alec)
  - poprawione obliczanie ¶redniego dochodu miesiêcznego dla taryf (alec)
  - dodane obliczanie ilo¶ci aktywnych przypisañ taryfy (alec)
  - poprawione sortowanie list u¿ytkowników wg salda (alec)
  - poprawione genfake.php: dodane zerowanie auto_increment'ów oraz
    poprawki zwi±zane z ostatnimi zmianami w bazie (alec)
  - dodano sprawdzenie, czy zaznaczono typ operacji podczas dodawania nowej
    operacji - BTS#0000122 (alec)
  - poprawione b³êdy w modu³ach hostfile i oident demona powoduj±ce
    niewykonywanie instancji wyst. po tych modu³ach (alec)
  - na li¶cie u¿ytkowników w kolumnie Abonament jest ¶rednie obci±¿enie 
    miesiêczne u¿ytkownika (alec)
  - listê u¿ytkowników oraz wydruki mo¿na filtrowaæ wg sieci (alec)
  - w mailingu dodana mo¿liwo¶æ wybrania sieci  (alec)
  - dodany wydruk u¿ytkowników bez przypisanych komputerów (alec)
  - dodane wydruki bilansu finansowego z mo¿liwo¶ci± ograniczenia do podanego
    okresu oraz konkretnego administratora (alec)
  - dodany contrib/sqlpanel (alec)
  - BTS#0000131: poprawki w 'Rejestrze sprzeda¿y' (alec)
  - SQLite Support (alec)
  - poprawki w lms-notify zapobiegaj±ce b³êdom na postgresie (alec)
  - lms-sendinvoices: wysy³anie faktur (lukasz)
  - w automatycznych fakturach mo¿na zdefiniowaæ rodzaj p³atno¶ci 
    i termin zap³aty: lms-payments i almsd (alec)
  
version 1.3.1 Maybourne (04/03/2004):

  - poprawiony b³±d w GetInvoiceContents() powoduj±cy b³êdne wy¶wietlanie
    liczby groszy s³ownie na fakturze - BTS#0000112 (alec)
  - poprawione obliczanie kwot na fakturach dla kilku jednostek, b³±d
    powodowa³ tak¿e zapisywanie niepoprawnych danych do tabeli 'cash' 
    podczas dodawania nowej faktury - BTS#0000114 (alec)
  - multilanguage? mo¿e tak (RFD) (lexx)
  - w almsd, do modu³u hostfile dodano nowe opcje konfiguracyjne 'networks'
    oraz 'skip_dev_ips' (alec)
  - poprawione b³êdy w wyra¿eniu regularnym w adminadd i adminedit (alec)
  - poprawka do upgrade'u: taryfy maj± okres miesiêczny, a nie tygodniowy,
    poprawki sk³adni sql w UPGRADE.pgsql oraz komentarze w UPGRADE.mysql (alec) 
  - dodane local_ips i local_dests do lms-traffic-htbiptlimits (lukasz)
  - koniec z wyszukiwaniem koniecznych upgradów bazy danych w ChangeLogu - 
    od teraz LMS sam bêdzie poprawia³ bazê danych. Powiedzmy prawie koniec -
    oto ostatnie konieczne do wykonania zmiany w bazie:
    MySQL:
        CREATE TABLE dbinfo (
	    keytype VARCHAR(255) NOT NULL default '',
	    keyvalue VARCHAR(255) NOT NULL default '',
	    PRIMARY KEY  (keytype),
	    UNIQUE KEY keytype (keytype),KEY keytype_2 (keytype)
	) TYPE=MyISAM;
	INSERT INTO dbinfo (keytype, keyvalue) VALUES ('dbversion','2004030400');		  
    PostgreSQL:
	CREATE TABLE dbinfo (
	    keytype VARCHAR(255) DEFAULT '' NOT NULL,
	    keyvalue VARCHAR(255) DEFAULT '' NOT NULL,
	    PRIMARY KEY (keytype)
	);
	INSERT INTO dbinfo (keytype, keyvalue) VALUES ('dbversion','2004030400');		  
  - dodany 'Raport sprzeda¿y' czyli wydruk listy faktur za dany okres (alec)

version 1.3.0 Apophis (18/02/2004):

  - Smarty libs version change 2.5.0 -> 2.6.0 (alec)
  - added contrib/warn&msg (Rafa³ Ramocki/Tomasz Chiliñski)
  - another database fix results from BTS#103 (alec)
    MySQL:
	ALTER TABLE `users` CHANGE `gguin` `gguin` INT(11) DEFAULT '0';
    PostgreSQL:
	UPDATE users SET gguin=0 WHERE gguin IS NULL;
	ALTER TABLE users UPDATE gguin SET DEFAULT 0;
	ALTER TABLE users UPDATE gguin SET NOT NULL;
  - in genfake.php added example payments generation (alec)
  - tariff and payments quarterly accounting, small systematization in 
    period column (accounting: 0-weekly, 1-monthly, 2-quarterly, 
    3-yearly) (alec)
	UPDATE assignments SET period = 4 WHERE period = 1;
	UPDATE assignments SET period = 1 WHERE period = 0;
	UPDATE assignments SET period = 0 WHERE period = 4;
	UPDATE assignments SET period = 3 WHERE period = 2;
	UPDATE payments SET period = 4 WHERE period = 1;
	UPDATE payments SET period = 1 WHERE period = 0;
	UPDATE payments SET period = 0 WHERE period = 4;
	UPDATE payments SET period = 3 WHERE period = 2;
  - default networklist sorting by name (alec)
  - list of devices for connection is sorted by name (alec)
  - fixed navigation on invoicelist - BTS#0000104 (alec)
  - changes in daemon reload method: from 'timestamps' table readed is
    time and compared with time from previous reload, '_force' record 
    isn't deleted, so there are no problems with many daemons (lexx/alec)
  - ethercodes.txt up-to-date (alec)
  - BTS#0000109: fixes of bugs on BSD systems in loadavg() and hostname() 
    from Sysinfo.class.php (sfor/alec)
  - now some MGC section can have 'instances' that he calls other subsections
    - for example - if we have 5 sections related to the dns (dns1... dns5) -
    we can build sth like that:

    [mgc:dns]
    instances = dns1 dns2 dns3 dns4 dns5

    and now we do run of lms-mgc like that:   lms-mgc -i dns
    not like:    lms-mgc -i "dns1 dns2 dns3 dns4 dns5"

    If section have 'instances' variable, that variable will be respected,
    and others settings in this section ignored (lukasz)
  - now you can set time of the finance operations (alec)
  - fixed e-mails formatting, removed empty lines (lexx)

version 1.1.8 Cronos (01/02/2004):

  - netdevmap uses PNG images (some systems don't support GIF format) (Lexx) 
  - fixed records accounting on empty lists, BTS#90 (alec)
  - added userlist sorting by sum of tariffs (alec)
  - fixed nodelist sorting by owner (alec)
  - added netdevlist sorting by number of taken ports (alec)
  - added checkbox 'print form again' in nodeadd (alec)
  - fixed errornous status setting during adding of nodes (alec)
  - documentation cleanup - pictures & commit logs removed,
    so don't be suprise tarball is smaller than 1.1.7 (alec)
  - added number checking in quick node and user seeking input box (alec)
  - lms-notify-sms for sms sending. Required gnokii package (hunter)
  - added 'mailing access' right (alec)
  - added IP and MAC address attribute for net devices (lexx/alec)
  - in genfake.php fixed cleanup of database and added net devices and netlinks
    data generation (alec)
  - BTS#0000092 fix in GetMACs() (alec)    
  - added deadline and payment type in invoices
    (lukasz):
    MySQL:
    	ALTER TABLE `invoices` ADD `paytype` VARCHAR(255) DEFAULT '' NOT NULL AFTER `paytime`;
    PostgreSQL:
	ALTER TABLE invoices ADD paytype VARCHAR(255);
	UPDATE invoices SET paytype='';
	ALTER TABLE invoices ALTER COLUMN paytype ADD NOT NULL; 
	ALTER TABLE invoices ALTER COLUMN paytype SET DEFAULT '';
  - 'permanent payments' (alec)
    MySQL:
    CREATE TABLE payments (
	id INT(11) NOT NULL auto_increment,
	name VARCHAR(255) NOT NULL default '',
	value DECIMAL(9,2) NOT NULL default '0',
	creditor VARCHAR(255) NOT NULL default '',
	period INT(11) NOT NULL default '0',
	at INT(11) NOT NULL default '0',
	description text,
	PRIMARY KEY  (id),
	UNIQUE KEY id (id),
	KEY id_2 (id)
    ) TYPE=MyISAM;
    PostgreSQL:
    CREATE SEQUENCE "payments_id_seq";
    CREATE TABLE payments (
	id integer DEFAULT nextval('payments_id_seq'::text) NOT NULL,
	name VARCHAR(255) DEFAULT '' NOT NULL,
	value NUMERIC(9,2) DEFAULT 0 NOT NULL,
	creditor VARCHAR(255) DEFAULT '' NOT NULL,
	period integer DEFAULT 0 NOT NULL,
	at integer DEFAULT 0 NOT NULL,
	description text,
	PRIMARY KEY (id)
    );
  - fixed data werification in tariffs: tariff value can be negative,
    tax value can not (alec)
  - on users list, exclamation mark instead of light bulb sign if user
    has no nodes (alec)
  - fixed network address translation in lms-makeiptables and
    lms-makeipchains resulting from address data type change (alec)
  - in perl-script's option 'networks' networks names can be lower case
    - important for PostgreSQL database, where queries are case-sensitive (alec)
  - new 'mailing' interface, added e-mail checking and not taking deleted
    users into account (alec)
  - in window 'LMS Informations' added DBMS version (alec)
  - database cosmetics consistent with BTS#000103, or else bug fixes 
    while backup restoring on later versions of postgres (alec)
    MySQL:
	ALTER TABLE `admins` CHANGE `lastlogindate` `lastlogindate` INT(11) DEFAULT '0';
	ALTER TABLE `admins` CHANGE `failedlogindate` `failedlogindate` INT(11) DEFAULT '0';
    PostgreSQL:
	UPDATE admins SET lastlogindate=0 WHERE lastlogindate IS NULL;
	UPDATE admins SET failedlogindate=0 WHERE failedlogindate IS NULL;	 
	ALTER TABLE admins UPDATE lastlogindate SET DEFAULT 0;
	ALTER TABLE admins UPDATE lastlogindate SET NOT NULL;
	ALTER TABLE admins UPDATE failedlogindate SET DEFAULT 0;
	ALTER TABLE admins UPDATE failedlogindate SET NOT NULL;
	
version 1.1.7 Hathor (14/12/2003):

  - networks address now are type of bigint, for conversions are used
    INET_NTOA() and INET_ATON() functions, so required higher versions of
    database (Mysql 3.23.xx, PostgreSQL 7.3.x) (alec):
    MySQL:
	UPDATE networks SET address=INET_ATON(address);
        ALTER TABLE networks CHANGE address address INT(16) UNSIGNED NOT NULL;
    PostgreSQL:
        CREATE OR REPLACE FUNCTION inet_ntoa(bigint) RETURNS text AS '
        SELECT 
    	    ($1/(256*256*256))::text
    	    ||''.''||
	    ($1/(256*256) - $1/(256*256*256)*256)::text
    	    ||''.''||
    	    ($1/256 - $1/(256*256)*256)::text
    	    ||''.''||
    	    ($1 - $1/256*256)::text;
	' LANGUAGE SQL;
	CREATE OR REPLACE FUNCTION inet_aton(text) RETURNS bigint AS '
	SELECT
    	    split_part($1,''.'',1)::int8*(256*256*256)+
    	    split_part($1,''.'',2)::int8*(256*256)+
    	    split_part($1,''.'',3)::int8*256+
    	    split_part($1,''.'',4)::int8;
	' LANGUAGE SQL;
	ALTER TABLE networks ADD ipaddr bigint;
        UPDATE networks SET ipaddr = inet_aton(address); 
        ALTER TABLE networks DROP COLUMN address;
        ALTER TABLE networks RENAME COLUMN ipaddr to address;
        ALTER TABLE networks ALTER COLUMN address set NOT NULL;

  - IP address conversion int<->char taken to database, not PHP (alec)
  - fixed contrib/customer for new construction LMS() and 'initLMS.php'
    in contrib - example file explains LMS's class initialization (lukasz)
  - fixed bug in lms-payments, while invoices generation, when pesel field
    was empty (MaReK/lukasz)
  - added ownerid sorting on nodes list (alec)
  - taken to database polish special characters capitalization (alec)
  - change of monetary columns data type (hunter/alec/lukasz)
    MySQL:
	ALTER TABLE cash MODIFY value DECIMAL(9,2);
	ALTER TABLE tariffs MODIFY value DECIMAL(9,2);
	ALTER TABLE invoicecontents MODIFY value DECIMAL(9,2);
	ALTER TABLE invoicecontents MODIFY taxvalue DECIMAL(9,2);
	ALTER TABLE invoicecontents MODIFY count DECIMAL(9,2);
	ALTER TABLE tariffs MODIFY taxvalue DECIMAL(9,2);
    PostgreSQL:    
	ALTER TABLE cash ADD val numeric(9,2);
	UPDATE cash SET val=value;
	ALTER TABLE cash ALTER val SET NOT NULL;
	ALTER TABLE cash ALTER val SET DEFAULT 0;
	ALTER TABLE cash DROP COLUMN value;
	ALTER TABLE cash RENAME val TO value;	
	ALTER TABLE tariffs ADD val numeric(9,2);
	ALTER TABLE tariffs ADD taxv numeric(9,2);
	UPDATE tariffs SET val=value;
	UPDATE tariffs SET taxv=taxvalue;
	ALTER TABLE tariffs ALTER val SET NOT NULL;
	ALTER TABLE tariffs ALTER val SET DEFAULT 0;
	ALTER TABLE tariffs DROP COLUMN value;
	ALTER TABLE tariffs RENAME val TO value;	
	ALTER TABLE tariffs ALTER taxv SET NOT NULL;
	ALTER TABLE tariffs ALTER taxv SET DEFAULT 0;
	ALTER TABLE tariffs DROP COLUMN taxvalue;
	ALTER TABLE tariffs RENAME taxv TO taxvalue;
	ALTER TABLE invoicecontents ADD val numeric(9,2);
	ALTER TABLE invoicecontents ADD taxv numeric(9,2);
	ALTER TABLE invoicecontents ADD cnt numeric(9,2);
	UPDATE invoicecontents SET val=value;
	UPDATE invoicecontents SET taxv=taxvalue;
	UPDATE invoicecontents SET cnt=count;
	ALTER TABLE invoicecontents ALTER val SET NOT NULL;
	ALTER TABLE invoicecontents ALTER val SET DEFAULT 0;
	ALTER TABLE invoicecontents ALTER taxv SET NOT NULL;
	ALTER TABLE invoicecontents ALTER taxv SET DEFAULT 0;
	ALTER TABLE invoicecontents ALTER cnt SET NOT NULL;
	ALTER TABLE invoicecontents ALTER cnt SET DEFAULT 0;
	ALTER TABLE invoicecontents DROP COLUMN value;
	ALTER TABLE invoicecontents RENAME val TO value;
	ALTER TABLE invoicecontents DROP COLUMN taxvalue;
	ALTER TABLE invoicecontents RENAME taxv TO taxvalue;
	ALTER TABLE invoicecontents DROP COLUMN count;
	ALTER TABLE invoicecontents RENAME cnt TO count;	
  - added possibility to invoicing in PHP-UI (lukasz)
  - standardized reload for almsd and ui, now almsd reloads with standard 
    ui settings (reload table isn't needed) (Lexx)

version 1.1.6 Seth (08/12/2003):

  - misprint: http://bts.rulez.pl/bug_view_page.php?bug_id=0000088
    (chilek/lukasz)
  - fixed upgrade module:
    http://bts.rulez.pl/bug_view_page.php?bug_id=0000085 (chilek/lukasz)
  - fixed tariff adding (alec)
  - bugfix in lms-makearp
    http://bts.rulez.pl/bug_view_page.php?bug_id=0000086 (chilek/lukasz)
  - tariff description can be NULL (alec)
    MySQL:
    	ALTER TABLE tariffs CHANGE description description text;
    PostgreSQL:
    	ALTER TABLE tariffs ALTER COLUMN description DROP NOT NULL;  

version 1.1.5 Amaonet (04/12/2003):

  - added options for owner and permissions for script files maked
    with lms-traffic-* (lukasz)
  - contrib/customer adapted for new database API
  - added possibility of netdevices and nodes connection/diconnection
    with other netdevice while editing them (alec)
  - correction in function ScanNodes() preventing errors while nbtscan
    programm is missing (alec)
  - node search by address fixed, text searching by part of address added (alec)
  - added deleted nodes stats on stat bars and added option for deleting
    this in database compacting process (alec) 
  - added possibility of netdevices exchange (lexx)
  - fixed bugs on private address recognition in scripts and misprint in
    lms-iptables (lukasz/wojboj)
  - lms-notify adjusted for new finances (lukasz)
  - in /daemon directory has become alfa version of programm for config
    generation and services reloading (alec)
  - in index.php new config file parsing function, fully compatible 
    with daemon and partly with lms-mgc (alec)
  - in lms.pgsql added SQL functions inet_ntoa() i inet_aton() for
    future applications (alec)
  - fixed errornous users accounting in welcome screen (alec)
  - fixed default values in useradd form (alec)
  - deleting of user on the list not causing userinfo to expose (alec)
  - invoices are done - now are realy pretty and that require database
    change (lukasz):
    MySQL:
	ALTER TABLE `tariffs` ADD `taxvalue` INT DEFAULT '0' NOT NULL AFTER `value`;
	ALTER TABLE `tariffs` ADD `sww` VARCHAR(255) DEFAULT '' AFTER `taxvalue`;
	ALTER TABLE `assignments` ADD `invoice` TINYINT( 1 ) DEFAULT '0' NOT NULL;
	ALTER TABLE `cash` ADD `invoiceid` INT DEFAULT '0' NOT NULL ;
    PostgreSQL:
	ALTER TABLE tariffs ADD taxvalue integer;
	ALTER TABLE tariffs ALTER taxvalue SET DEFAULT 0;
	UPDATE tariffs SET taxvalue=0;
	ALTER TABLE tariffs ALTER taxvalue SET NOT NULL;
	ALTER TABLE tariffs ADD sww varchar(255);
	ALTER TABLE tariffs ALTER sww SET DEFAULT NULL;
	ALTER TABLE assignments ADD invoice smallint;
	ALTER TABLE assignments ALTER invoice SET DEFAULT 0;
	UPDATE assignments SET invoice=0;
	ALTER TABLE assignments ALTER invoice SET NOT NULL;
	ALTER TABLE cash ADD invoiceid;
	ALTER TABLE cash ALTER invoiceid SET DEFAULT 0;
	UPDATE cash SET invoiceid=0;
	ALTER TABLE cash ALTER invoiceid SET NOT NULL;
    MySQL:
	CREATE TABLE invoices (
    	    id INT NOT NULL AUTO_INCREMENT ,
    	    number INT NOT NULL ,
    	    cdate INT NOT NULL ,
    	    paytime TINYINT( 8 ) NOT NULL ,
    	    customerid INT NOT NULL ,
    	    name VARCHAR( 255 ) NOT NULL ,
    	    address VARCHAR( 255 ) NOT NULL ,
    	    nip VARCHAR( 16 )DEFAULT '' ,
    	    zip VARCHAR( 6 ) NOT NULL ,
    	    city VARCHAR( 32 ) NOT NULL ,
    	    phone VARCHAR( 255 ) NOT NULL ,
    	    finished TINYINT( 1 ) NOT NULL DEFAULT '0',
    	    PRIMARY KEY (id),
    	    UNIQUE KEY id (id),
    	    KEY id_2 (id)
	) TYPE=MyISAM;
	CREATE TABLE invoicecontents (
    	    invoiceid INT NOT NULL ,
    	    value DOUBLE NOT NULL ,
    	    taxvalue INT NOT NULL ,
	    sww VARCHAR( 255 ) DEFAULT '',
    	    content VARCHAR( 16 ) NOT NULL ,
    	    count INT NOT NULL ,
	    description VARCHAR( 255 ) NOT NULL ,
	    tariffid INT NOT NULL
	);
    PostgreSQL:
	CREATE SEQUENCE "invoices_id_seq";
	CREATE TABLE invoices (
	    id integer DEFAULT nextval('invoices_id_seq'::text) NOT NULL,
    	    number integer NOT NULL,
    	    cdate integer NOT NULL,
    	    paytime smallint NOT NULL,
    	    customerid integer NOT NULL,
    	    name varchar(255) NOT NULL,
    	    address varchar(255) NOT NULL,
    	    nip varchar(16) DEFAULT NULL,
    	    zip varchar(6) NOT NULL,
    	    city varchar(32) NOT NULL,
    	    phone varchar(255) NOT NULL,
    	    finished smallint DEFAULT 0 NOT NULL,
	    PRIMARY KEY (id)
	);
	CREATE TABLE invoicecontents (
	    invoiceid integer NOT NULL,
	    value float4 NOT NULL,
	    taxvalue integer NOT NULL,
	    sww varchar(255) DEFAULT NULL,
	    content varchar(16) NOT NULL,
	    count integer NOT NULL,
	    description varchar(255) NOT NULL,
	    tariffid integer NOT NULL
	);	 
  - removed %TID and %TVAL from lms-mgc (lukasz)
  - added PESEL column in user record, database upgrade (lukasz):
    MySQL:
	ALTER TABLE `users` ADD `pesel` VARCHAR(11) DEFAULT '' AFTER `nip`;
	ALTER TABLE `invoices` ADD `pesel` VARCHAR(11) DEFAULT '' AFTER `nip`;
    PostgreSQL:
	ALTER TABLE users ADD pesel varchar(11);
	ALTER TABLE users ALTER pesel SET DEFAULT NULL;
	ALTER TABLE invoices ADD pesel varchar(11);
	ALTER TABLE invoices ALTER pesel SET DEFAULT NULL;

    If user has no NIP, then to invoice goes PESEL.
  - for invoices added place of putting out (lukasz);
  - terminology change: 'sww' to 'pkwiu' (lukasz);
    MySQL:
	ALTER TABLE `tariffs` CHANGE `sww` `pkwiu` VARCHAR( 255 );
	ALTER TABLE `invoicecontents` CHANGE `sww` `pkwiu` VARCHAR( 255 );
    PostgreSQL:
	ALTER TABLE tariffs RENAME sww TO pkwiu;
	ALTER TABLE invoicecontents RENAME sww TO pkwiu;  

version 1.1.4 Tanith (03/10/2003):
  
  - tariff list not accounts deleted users (lukasz)
  - added new field on network list: interface - very usefull with making
    iptables/ipchains/htb scripts when we have networks on different 
    interfaces, in lms-mgc named %IFACE, %DIFACE and %NIFACE,
    like allways database format upgrade needed (lukasz):
    MySQL:
        ALTER TABLE networks ADD interface VARCHAR(8) AFTER mask;
    PostgreSQL:
    	ALTER TABLE networks ADD interface VARCHAR(8);
  - removed misprint causing MySQL's driver looses host informations from
    lms.ini then allways try to connect with localhost (lukasz)
  - reload.php used obsolete sqlTSfmt() (lexx/lukasz)
  - newly added node have access by default (lukasz)
  - amount of networks on summary was incremented by 2 (lukasz)
  - source code cosmetics (s/this->ADB->/this->DB->/g and others) (lukasz)
  - added traffic-stats module (taken from contrib) and bin/lms-traffic, 
    required table 'stats' creation for them: (alec)
    MySQL:
	DROP TABLE IF EXISTS stats;
	CREATE TABLE stats (
	    nodeid int(11) NOT NULL DEFAULT '0',
	    dt int(11) NOT NULL DEFAULT '0',
	    upload int(11) DEFAULT '0',
	    download int(11) DEFAULT '0',
	    PRIMARY KEY (nodeid, dt)
	) TYPE=MyISAM;
    PostgreSQL:
	DROP TABLE stats;
	CREATE TABLE stats (
	    nodeid integer DEFAULT 0 NOT NULL,
	    dt integer DEFAULT 0 NOT NULL,
	    upload integer DEFAULT 0,
	    download integer DEFAULT 0,
	    PRIMARY KEY (nodeid, dt)
	);    
  - new documentation (sgml/html/txt) (alec)
  - bugfix allowing mac address with '-' char writing while node edition - now, 
    like while adding - changing all '-' for ':' (lukasz)
  - small change of philosophy in tariffs table - 'NULL' is not set limit, '0'
    is a limit lack - why? you learn at eny day ;-) (lukasz):
    MySQL:
	ALTER TABLE tariffs CHANGE uprate uprate INT(11), CHANGE downrate downrate INT(11); 
    PostgreSQL:
	ALTER TABLE tariffs ALTER uprate DROP NOT NULL;
	ALTER TABLE tariffs ALTER uprate DROP DEFAULT;
	ALTER TABLE tariffs ALTER downrate DROP NOT NULL;
	ALTER TABLE tariffs ALTER downrate DROP DEFAULT;
  - 'small' rewolution in finances, and 'big' database upgrade, but i think
    you cope with this (lukasz):
    
    0) COMPLETELY do database backup.
    
    1) Create table 'assignments':
    MySQL:
    DROP TABLE IF EXISTS assignments;
    CREATE TABLE assignments (
    	id int(11) NOT NULL auto_increment,
	tariffid int(11) NOT NULL default '0',
	userid int(11) NOT NULL default '0',
	period int(11) NOT NULL default '0',
	at int(11) NOT NULL default '0',
	PRIMARY KEY  (id),
	UNIQUE KEY id (id),
	KEY id_2 (id)
    ) TYPE=MyISAM;
    
    PostgreSQL:
    DROP SEQUENCE "assignments_id_seq";
    CREATE SEQUENCE "assignments_id_seq";
    DROP TABLE assignments;
    CREATE TABLE assignments (
    	id integer default nextval('assignments_id_seq'::text) NOT NULL,
	tariffid integer default 0 NOT NULL,
	userid integer default 0 NOT NULL,
	period integer default 0 NOT NULL,
	at integer default 0 NOT NULL,
	PRIMARY KEY (id)
    );
    2) Run 'upgrade01' module - that means, after login write in url
    at the end '?m=upgrade01', i.e. 'http://serwer.pl/lms/?m=upgrade01'. 
    CAUTION! Run that module ONLY one time. If you run them couple of times,
    you destroy your database.

    3) Now cleanup of useless database columns:
    MySQL:
	ALTER TABLE users DROP tariff, DROP payday;
    PostgreSQL:
	ALTER TABLE users DROP tariff; ALTER TABLE users DROP payday;	

    4) Write in cron lms-payments for runing everyday at 0:00.

    5) Voila.

  - new script in bin: lms-traffic-logiptables, logs transfers to log
    accepted by alec's lms-traffic, more info in sample/lms.ini (lukasz)
  - code optymalization at many places (lukasz)
  - network devices list, so far stupid and ugly, but working
    of course needed new table (lexx)
    MySQL:
    DROP TABLE IF EXISTS netdevices;
    CREATE TABLE netdevices (
        id int(11) NOT NULL auto_increment,
        name varchar(32) default NULL,
        description varchar(255) default NULL,
        producer varchar(64) default NULL,
        model varchar(32) default NULL,
        serialnumber varchar(32) default NULL,
        ports int(10) default NULL,
        PRIMARY KEY  (id),
        KEY name (name)
    ) TYPE=MyISAM;

    PostgreSQL:
    DROP SEQUENCE "netdevices_id_seq";
    CREATE SEQUENCE "netdevices_id_seq";
    DROP TABLE netdevices;
    CREATE TABLE netdevices (
        id integer default nextval('netdevices_id_seq'::text) NOT NULL,
        name varchar(32) default NULL,
        description varchar(255) default NULL,
        producer varchar(64) default NULL,
        model varchar(32) default NULL,
        serialnumber varchar(32) default NULL,
        ports integer default NULL,
        PRIMARY KEY (id)
    );
  - netdevices - added 'location' column (lexx)
    MySql:
	ALTER TABLE `netdevices` ADD `location` VARCHAR( 255 ) AFTER `name` ;
    PosgreSQL:
	ALTER TABLE netdevices ADD COLUMN location varchar(255);
  - for 'Stats' module added database compacting possibility (alec)
  - fixed http://bts.rulez.pl/bug_view_page.php?bug_id=0000072 (lukasz)
  - at present arp table records '00:00:00:00:00:00' are not ignored, but
    static records (0x6/PERM) are (lukasz)
  - still netdev, now we break down the links (Lexx)
    MySql:
	CREATE TABLE netlinks (
	  id int(11) NOT NULL auto_increment,
	  src int(11) NOT NULL default '0',
	  dst int(11) NOT NULL default '0',
	  PRIMARY KEY  (id)
	) TYPE=MyISAM;
    PosgreSQL"
	CREATE SEQUENCE "netlinks_id_seq";
	CREATE TABLE netlinks (
	  id integer default nextval('netlinks_id_seq'::text) NOT NULL,
	  src integer default 0 NOT NULL,
	  dst integer default 0 NOT NULL,
	  PRIMARY KEY  (id)
	);
  - nodes can be linked to netdevices (Lexx)
    MySql:
	ALTER TABLE `nodes` ADD `netdev` INT(11) NOT NULL default '0' AFTER `modid` ;
    PosgreSQL:
	ALTER TABLE nodes ADD netdev integer;
	ALTER TABLE nodes ALTER COLUMN netdev SET default 0;
	UPDATE nodes SET netdev = 0;
	ALTER TABLE nodes ALTER COLUMN netdev SET NOT NULL;  	
  - update 'nodesearch' module (alec)
  - bugfixes in GetTariff() on postgres (alec)
  - errors are now popups (lukasz)
  - new script - bin/lms-traffic-htbiptlimits - for traffic limiting (lukasz)
  - new files doc/UPGRADE.mysql, doc/UPGRADE.pgsql for database upgrade
    since 1.0 to 1.1 version (alec)
  - lms-payments not writing to table 'cash' if load value is zero (lukasz)
  - changes in docs (lukasz):
    - removed INSTALL.*
    - new README and README.html - user manual
    - cleanup
  - fixed (I hope so) error handling - now we have tooltips (lukasz)
	
version 1.1.3 (29/08/2003):

  - changed users philosophy - now user deletion not delete them really,
    but only hidding and is possible get them by his ID, hi can by searched,
    but adding nodes is not possible, on userlist hi is invisible, however
    in his userinfo is note that hi is deleted. Of course database
    modification needed: (lukasz)
    MySQL:
	ALTER TABLE users ADD deleted BOOL DEFAULT '0' NOT NULL;
    PostgreSQL:
	ALTER TABLE users ADD deleted int2;
	UPDATE users SET deleted=0;
	ALTER TABLE users ALTER COLUMN deleted SET DEFAULT 0;
	ALTER TABLE users ALTER COLUMN deleted SET NOT NULL;
    (if you do this on ENUM
    MySQL:
 	ALTER TABLE users CHANGE deleted deleted CHAR(1) DEFAULT 'N' NOT NULL;
	UPDATE users SET deleted=1 WHERE deleted='Y';
	UPDATE users SET deleted=0 WHERE deleted='N';
	ALTER TABLE users CHANGE deleted deleted BOOL DEFAULT '0' NOT NULL;
    PostgreSQL: the same method like with 'access' column in table 'nodes')
  - IP address format change, database upgrade: (lukasz):
    MySQL:
        UPDATE nodes SET ipaddr=INET_ATON(ipaddr);
	ALTER TABLE nodes CHANGE ipaddr ipaddr INT(16) UNSIGNED NOT NULL;
    PostgreSQL:
	UPDATE nodes SET ipaddr=(split_part(ipaddr,'.',1)::int4*(256^3)+
				split_part(ipaddr,'.',2)::int4*(256^2)+
				split_part(ipaddr,'.',3)::int4*256+
				split_part(ipaddr,'.',4)::int4);
	ALTER TABLE nodes ADD ipaddr2 BIGINT;
	UPDATE nodes SET ipaddr2 = ipaddr::text::int8; 
	ALTER TABLE nodes DROP COLUMN ipaddr;
	ALTER TABLE nodes RENAME COLUMN ipaddr2 to ipaddr;
	ALTER TABLE nodes ALTER COLUMN ipaddr set NOT NULL;

  - change of recording method of nodes access - now is not a stupid char, but
    boolean (that means MySQL try to imitate boolean on tinyint), and
    another upgrade (lukasz):
	UPDATE nodes SET access='1' WHERE access='Y';
	UPDATE nodes SET access='0' WHERE access='N';
	ALTER TABLE nodes CHANGE access access BOOL NOT NULL DEFAULT '1';
    and in PostgreSQL columns are type of int2:
	UPDATE nodes SET access= CASE access WHEN 'Y' THEN '1' ELSE '0' END;
	ALTER TABLE nodes ADD access2 int2; 
	UPDATE nodes SET access2 = access::text::int2; 
	ALTER TABLE nodes DROP COLUMN access;
	ALTER TABLE nodes RENAME COLUMN access2 TO access;
	ALTER TABLE nodes ALTER COLUMN access SET NOT NULL;
	ALTER TABLE nodes ALTER COLUMN access SET DEFAULT 0;
    additional database improving operations (zalecane):
    MySQL:
	ALTER TABLE nodes CHANGE ownerid ownerid INT(11) DEFAULT '0' NOT NULL;
	ALTER TABLE nodes CHANGE mac mac VARCHAR(20) NOT NULL;
    PostgreSQL:
	ALTER TABLE nodes ALTER COLUMN ownerid SET DEFAULT '0'; 
	ALTER TABLE nodes ALTER COLUMN mac SET NOT NULL;
	
  - source optimized for big networks printing (lukasz)
  - transactions while database backup restoring again enabled (lukasz)
  
version 1.1.2 (24/08/2003):

  - new substitution (%date_month_name) in mail templates, resolves into
    current month name, based on locales.
  - added possibility of custom invoicing (Lexx)
  - additional option %date_month_name in mailingu templates, solved for
    actual month name (acc. LC_NUMERIC? hunter)
  - some changes in docs concerning postgres, lms.pgsql upgrade (alec)
  - humanization of empty admins table detection - now, when that table is 
    empty LMS allows adminadd module access (lukasz)
  - in lms-mgc network address and broadcast are ignored while rules
    generation (lukasz)
  - while MAC's selection entries '00:00:00:00:00:00' and 'FF:FF:FF:FF:FF:FF' 
    are ignored (lukasz)
  - new toy in /contrib - bandlogger+htblimiter - supporting HTB and 
    iptables (lukasz)
  - is done - ADOdb is not required - LMS have own libs for mysql and
    postgres databases (lukasz)
  - changed all '<?' (short PHP tags) to '<?php' - that should be at the
    beginning, but who go to fall into that? (lukasz)

version 1.1.1 (09/08/2003):

  - new possibility of indebted users printing (MichalZ)
  - added %TID (tariff id) and %TVAL (tariff value) in lms-mgc (lukasz)
  - removed problems with sorting change on indebted or disconnected 
    users (lukasz)
  - Opera browser bugfix (change exit(0) to die) (lukasz)
  - added possibility of payments day setting, needed SQL change:
    MySQL: 
	ALTER TABLE `users` ADD `payday` INT DEFAULT '5' NOT NULL;
    PostgreSQL: 
	ALTER TABLE users ADD payday integer;
	ALTER TABLE users ALTER COLUMN payday SET DEFAULT 0;
	ALTER TABLE users ALTER COLUMN payday SET NOT NULL;
    where in place of '5', can be write default payments day (lukasz)
  - related to upper, not exist lms-eachmonth, now is lms-payments, 
    which must be run everyday with cron! (lukasz)
  - source cleanup (lukasz)
  
version 1.1.0 (23/06/2003):

  - secondary nameserver support (%DNS2 in lms-mgc); database modification needed:
    MySQL:	
	ALTER TABLE `networks` ADD `dns2` VARCHAR( 16 ) AFTER `dns`;
    PostgreSQL: 
	ALTER TABLE networks ADD dns2 VARCHAR(16);
  - if the lms.ini file exists in the same directory as index.php, LMS will use it instead of /etc/lms/lms.ini;
  - default values for address, city and postal code can now be set for adding users;
  - new file: ChangeLog.en (warden)
  - not used table 'options' removed and lms.mysql refreshed (lukasz)

version 1.0.0 (18/05/2003):

  - icons have been changed (Yeah, they are awful, but nobody has done any better)
  - some documentation. Not much but better than nothing. Any volunteers to write? :-)
  - uff...

version 1.0.0rc1 (17/05/2003):

  - docs incoming (Lexx)
  - some cleaning in LMS.class.php (lukasz)
  - contrib/customers - simple layout for curious lusers. As an effect, the awful (?! -> warden)
    button on the front page of LMS has disappeared. (lukasz)
  - different access levels (basic) (lukasz)
  - lms-notify corrected (lukasz)
  - add 'useful links' to the greeting page (lukasz)
  - printing layouts corrected: lists by the actual filter and without it (warden)
  - added 'scan' option when adding a new node - searches for hosts with nbtscan (kennyGRV/lukasz)
  - added NIC manufacturer info in nodeinfo box (lukasz)
  - showing miscalculated last financial operations bug - fixed (lukasz)
  - some icons have been changed (lukasz)
  - back redirects fixed (lukasz)
  - bogon browsers supports (some browsers do referrer rigging when logging out) (lukasz)
  - host information added on the top of the login page (warden & lukasz)
  - lms-scripts back in bin/ (lexx & lukasz)
  - lms-notify finally works.
  - mail template changed (byko/lukasz)
  - email schema checking fixed (repcio/lukasz)
  - a lot of cleaning :-)
  
version 1.0pre10 (15/04/2003):

  - poprawki zgodno¶ci ze Smarty-2.5.0 (niestety, automatycznie 2.5.0 jest
    wymagane przez LMS'a)
  - usuniête zbêdne title w li¶cie userów
  - poprawione wy¶wietlanie nazwiska usera w popupie od usuwania usera
  - na stronie powitalnej trochê statystyk
  - usuniêty dosyæ powa¿ny b³±d w lib/Session.class.php
  - jak zwykle kosmetyka (literówki i tym podobne)
  - logosy by Pierzak

version 1.0pre9 'CVS-Has-Been-Crashed-Edition' (13/04/2003):
  
  - wymaga Smarty-2.4.2
  - tooltips
  - force ssl
  - przy dodawaniu usera domy¶lna taryfa to nie ta najdro¿sza, a ta
    najczê¶ciej u¿ywana
  - nazwa sieci mo¿e ju¿ zawieraæ kropkê
  - nazwa komputera mo¿e zawieraæ _ (podkre¶lenie)
  - sporo kosmetyki (popupy i opisy pól formularzy)
  - logosy by Pierzak

version 1.0pre8 (30/03/2003):

  - poprawiony bug z edycj± u¿ytkownika i traceniem zawarto¶ci pola z
    komentarzem
  - przeniesiony formularz dodawania sieci do oddzielnej strony
  - poprawione kilka innych bugów	

version 1.0pre7 (24/03/2003):

  - poprawiony powa¿ny bug w lms-mgc powoduj±cy traktowanie jako
    prywatnej sieci tylko 192.168.1.0/24 a nie 192.168.0.0/16
  - zrobiona lista u¿ytkowników od³±czonych i zad³u¿onych
  - poprawione dodawanie userów (nie dodawali siê lub imiê nie zostawa³o
    zapisywane (BTS: 0000019)
  - w przypadku odrzucenia danych do dodania u¿ytkownika gubi³o siê miasto w
    fromularzu
  - poprawione templejty tak by LMS by³ zgodny ze Smarty'm 2.4.2

version 1.0pre6 (17/03/2003):

  - mo¿liwo¶æ edycji imienia i nazwiska u¿ytkownika
  - sporo kosmetyki, poprawek w sortowaniu i nie tylko
  - SetBalanceZERO w LMS.class.php zeruje saldo
  - %abonament zmienia siê w kwotê abo zapisan± w tariffs.value
  - usuniête polskie locales, sprawia³o to wiêcej problemów
    ni¿ po¿ytku
  - ma³y update dokumentacji
  - dodany katalog contrib z ró¿nymi dodatkami do LMS
  - dodano lms.spec do contrib/ zgodnego ze specyfikacj± PLD
  - ³atka usprawniaj±ca odpalenie LMS w PLD
  - support do pustych hase³
  - zrobiony usersearch, nodesearch i parê innych rzeczy ;)
  - sprawdzenie stanu konta przez usera
  - czê¶ciowo wydruki
  - dodane ³adne cacu¶ne i s³odkie README
  - poprawiony pagelimiter w li¶cie u¿ytkowników
  - opcja w³±czaj±ca sharing mac-addr
  - automagiczna instalacja domy¶lnego admina z poziomu pliku lms.mysql
  - pole "Imiê" mo¿e byæ puste

version 1.0pre5 (26/01/2003):
 
  - PLIKI KONFIGURACYJNE PRZENIESIONE DO KATALOGU /etc/lms/ !!!
  - podzia³ listy u¿ytkowników na strony
  - poprawiony bug przy dodawaniu nowego usera
  - Pamiêtanie ostatniej wybranej podsieci i ostatniego wpisanego 
    komentarza do wp³at
  - przyk³adowe configi przeniesione do sample
  - utworzony katalog ze skryptami perlowymi - bin - znadjduj± siê
    tam niektóre skrypty z modu³u lms-scripts
  - oddzielny formularz do dodawania nowych operacji finansowych
  - informacje o taryfie i mo¿liwo¶æ jej edycji wreszcie.
  - poprawione parsowanie wprowadzanych danych w niektórych miejscach
    poprzez u¿ycie regexpów (dziêki mteg za podsuniêcie pomys³u)
  - dodano nowe pola w tablicy z u¿ytkownikami, aby je wykorzystaæ i
    bezproblemowo móc ich u¿ywaæ nale¿y wykonaæ nastêpuj±ce komendy z
    poziomu klienta mysql:

    ALTER TABLE `users` ADD `gguin` INT AFTER `phone3`;
    ALTER TABLE `users` ADD `zip` VARCHAR(6) AFTER `address` ,
    ADD `city` VARCHAR(32) AFTER `zip`, ADD `nip` varchar(16) AFTER `city`;
  - dodano opcjê do lms-notify:
      -D, --template-file=/etc/lms/another.template.txt
    uruchamia ona alternatywny plik template, przydatne przy wysy³aniu
    upomnienia, etc.
  - Teraz %b we wzorcu wiadomo¶ci rozwija siê do - (saldo) (czyli jest to
    kwota do zap³aty, ksiêgowi nie znaj± liczb ujemnych :)
    %date-y %date-m %desc rozwijaj± siê odpowiednio do: aktualnego roku,
    nazwy miesi±ca (set LANG=pl ?) i opisu pakietu z tariffs.
    %last_10_in_a_table zmienia siê w maksymalnie 10 ostatnich operacji na
    koncie.
	  
version 1.0pre4 (21/01/2003):

  - pe³ne przeportowanie obs³ugi SQL'a na ADODB
  - support do MySQL i PostgreSQL
  - pola uprate i downrate w taryfach. upgrade:
  
    ALTER TABLE tariffs ADD uprate INT DEFAULT '0' NOT NULL AFTER
    value , ADD downrate INT DEFAULT '0' NOT NULL AFTER uprate;

  - poprawka kolumny table na tablename w timestamps. upgrade:

    ALTER TABLE `timestamps` CHANGE `table` `tablename` VARCHAR( 255 ) 
    NOT NULL

  - lista u¿ytkowników: dodana kwota abonamentu miesiêcznego poni¿ej
    aktualnego salda u¿ytkownika (Goblin)
  - lista u¿ytkowników: u¿ytkownik którego komputery s± od³±czone
    jest pokazywany na szaro
  - wyszukiwanie u¿ytkowników;
  - oddzielny formularz dodawania u¿ytkowników;
  - wyszukiwanie u¿ytkowników;
  - mo¿liwo¶æ zdefiniowania sposobu reloadu (albo via sql, albo exec
    jakiej¶ komendy);
  - poprawki w dodawaniu taryf;
  
version 1.0pre3 (27/12/2002):

  - poprawione pobieranie hostname i uptime (Marcoos)
  - zmiana typu kolumny value w tabeli cash z float na double
  - zmiana typu kolumny value w tabeli tariffs z float na double
  - dodane blokowanie dostêpu do aplikacji poza okre¶lonymi hostami
    lub klasami adresowymi
  - poprawka parsowania ¶cie¿ek do katalogów z configa

version 1.0pre2 (25/12/2002):

  - parsowanie configa nie zapisuje odrazu zmiennych odczytanych
    z ini jako globalnych, a do tablicy $_CONFIG (nie mo¿na napisaæ 
    niczego poprzez plik ini)
  - dodane sprawdzanie czy istniej± katalogi backups i templates_c 
    oraz czy mo¿na do nich zapisywaæ
  - naprawiony modu³ od dodawania taryf
  - posprz±tane w niektórych plikach
  - poprawiony plik doc/lms.mysql i doc/INSTALL

version 1.0pre1 (24/12/2002):

  - przepisane obiektowo
  - napisane z wykorzystaniem engine'u template'owego Smarty
  - dodana opcja mailingu
  - bardzo fajne sortowanie (tm) :-)
  - wprowadzone cacheowanie wyników (nawala, ale co¶ tam dzia³a)

version 0.4:

  - napisana od nowa, ca³kowicie z wykorzystaniem sesji, oraz
    paru u³atwieñ je¿eli chodzi o SQL'a
  - dodana mo¿liwo¶æ definicji podsieci, nie ma ju¿
    konieczno¶ci d³ubania w ¼ród³ach aby zmieniæ ustawienia
    podsieci
  - serwer jest konfigurowany poprzez demona w perlu, s³uchaj±cego
    na sockecie TCP/IP
  - rozbudowane sortowanie
  - dane administratorów s± trzymane w bazie danych i nie trzeba
    rêcznie ustawiaæ hase³ w pliku .htpasswd

version 0.3:
   
  - obs³uga finansów i rozliczeñ u¿ytkowników

version 0.2:

  - obs³uga komputerów, generowanie plików od maskarady na iptables i od
    DHCP
  - pomoc w wyszukiwaniu mac-adresów poprzez listowanie widocznych adresów w
    trakcie dodawania

version 0.1:

  - autoryzacja oparta o .htpasswd w serwerze www
  - prosta baza u¿ytkowników zawieraj±ca dane osobowe oraz status
    u¿ytkowników
