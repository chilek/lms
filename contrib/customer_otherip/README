$Id$

Jest to mini panel dla u¿ytkowników którzy:

a) korzystaj± z proxy
b) nie korzystaj± z sieci tylko w domu
c) nie chc± aby dzieci/ma³¿onkowie/pracownicy mieli wgl±d w dane fiansowe 
dotycz±ce ich dostêpu do sieci/innych us³ug sprzedawanych przez LMS.


Testowa³em *tylko* z mysqlem wiêc móg³by kto¶ sprawdziæ...


Na pocz±tek kolumna pin:

mysql> alter table users add column pin int(5)=31337;

*warto¶æ domy¶ln± pinu dobrze jest zmieniæ*

Potem dla ka¿dego u¿ytkownika warto¶æ domy¶lna:

mysql> update users set pin=RAND() + RAND()*10 + RAND()*100 + RAND()*1000 
	+ RAND()*10000;

Dobrze jest te¿ powiadomiæ u¿ytkowników w co rocznym/miesiêcznym/tygodniowym 
mailu rozrachunkowo-newsletterowym:


"
Jednocze¶nie informujemy o wprowadzeniu mo¿liwo¶ci sprawdzenia stanu
swojego konta w ka¿dej chwili:

http://www.TwójUrl.pl/lms/contrib/clients/

Pañstwa PIN to: %pin
"


Oraz zmieniæ lms-notify np tak (dodaæ pin w zapytaniu SELECT):

(okolice 170 linni)

#V+
my $dbq = $dbase->prepare("SELECT users.id, pin, lastname, users.name, email, phone1,  tariffs.description FROM users,tariffs
                WHERE users.tariff=tariffs.id and status!=4");
#v-
	
Oraz dodaæ mo¿liwo¶æ podmiany %pin w mailach (opkolice 250 linijki):

#V+
{
	my $pin = $row->{'pin'};
	$line =~ s/\%pin/$pin/;
}
#V-


ps. SOA#1.
