diff -ru -3 ./lms/doc/ChangeLog ./lms.orig/doc/ChangeLog
--- ./lms/doc/ChangeLog	Fri Jan 30 18:48:03 2004
+++ ./lms.orig/doc/ChangeLog	Sun Jan 25 21:53:16 2004
@@ -2,8 +2,6 @@
 
 wersja 1.1.8 (??/??/????):
 
-  - dodane pole message do tabeli users
-  - dodane pole warnigns do tabeli nodes
   - netdevmap korzysta z obrazków w formacie PNG (brak obs³ugi GIF na 
     niektórych systemach) (Lexx)
   - poprawione zliczanie rekordów na pustych listach, BTS#90 (alec)
diff -ru -3 ./lms/doc/UPGRADE.mysql ./lms.orig/doc/UPGRADE.mysql
--- ./lms/doc/UPGRADE.mysql	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/doc/UPGRADE.mysql	Sun Jan 11 16:08:44 2004
@@ -22,8 +22,6 @@
 ALTER TABLE users ADD payday INT DEFAULT '1' NOT NULL;
 /* PESEL */
 ALTER TABLE users ADD pesel VARCHAR(11) DEFAULT '' AFTER nip;
-/* Wiadomosc administracyjna */
-ALTER TABLE users ADD message TEXT DEFAULT '';
 
 /* Nowe pola w tabeli */
 ALTER TABLE networks ADD dns2 VARCHAR(16) AFTER dns;
@@ -46,9 +44,6 @@
 
 /* Linki do urz±dzeñ */
 ALTER TABLE nodes ADD netdev INT(11) NOT NULL DEFAULT '0' AFTER modid;
-
-/* Ostrze¿enia */
-ALTER TABLE nodes ADD warning BOOL NOT NULL DEFAULT '0' AFTER access;
 
 /* Zmiana zapisu limitu */
 ALTER TABLE tariffs CHANGE uprate uprate INT(11), 
diff -ru -3 ./lms/doc/UPGRADE.pgsql ./lms.orig/doc/UPGRADE.pgsql
--- ./lms/doc/UPGRADE.pgsql	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/doc/UPGRADE.pgsql	Sun Jan 11 16:08:44 2004
@@ -30,9 +30,6 @@
 /* pesel */
 ALTER TABLE users ADD pesel varchar(11);
 ALTER TABLE users ALTER COLUMN pesel SET DEFAULT NULL;
-/* Wiadomosc administracujna */
-ALTER TABLE users ADD message text;
-ALTER TABLE users ALTER COLUMN message SET DEFAULT NULL;
 
 /* Nowe kolumny w tabeli */
 ALTER TABLE networks ADD dns2 VARCHAR(16);
@@ -86,10 +83,6 @@
 ALTER TABLE nodes ALTER COLUMN netdev SET default 0;
 UPDATE nodes SET netdev = 0;
 ALTER TABLE nodes ALTER COLUMN netdev SET NOT NULL;  	
-/* Ostrze¿enia */
-ALTER TABLE nodes ADD warning int2;
-ALTER TABLE nodes ALTER COLUMN warning SET NOT NULL;
-ALTER TABLE nodes ALTER COLUMN warning SET DEFAULT 0;
 
 /* Zmiana zapisu limitu */
 ALTER TABLE tariffs ALTER uprate DROP NOT NULL;
@@ -98,7 +91,7 @@
 ALTER TABLE tariffs ALTER downrate DROP DEFAULT; 
 ALTER TABLE tariffs ALTER description DROP NOT NULL;
 
-/* Zmiana typów pól numerycznych */
+/* Zmiana typów pul numerycznych */
 ALTER TABLE cash ADD val numeric(9,2);
 UPDATE cash SET val=value;
 ALTER TABLE cash ALTER val SET NOT NULL;
diff -ru -3 ./lms/doc/lms.mysql ./lms.orig/doc/lms.mysql
--- ./lms/doc/lms.mysql	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/doc/lms.mysql	Sun Jan 11 15:04:58 2004
@@ -134,7 +134,6 @@
   creatorid INT(11) NOT NULL default '0',
   modid INT(11) NOT NULL default '0',
   access TINYINT(1) NOT NULL default '1',
-  warning TINYINT(1) NOT NULL default '0',
   PRIMARY KEY  (id),
   UNIQUE KEY id_2 (id,name),
   KEY id (id)
@@ -220,7 +219,6 @@
   modid INT(11) NOT NULL default '0',
   payday INT(11) NOT NULL default '5',
   deleted TINYINT(1) NOT NULL default '0',
-  message TEXT,
   PRIMARY KEY  (id),
   UNIQUE KEY id_2 (id),
   KEY id (id)
diff -ru -3 ./lms/doc/lms.pgsql ./lms.orig/doc/lms.pgsql
--- ./lms/doc/lms.pgsql	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/doc/lms.pgsql	Sun Jan 11 16:08:44 2004
@@ -78,7 +78,6 @@
 	creatorid integer NOT NULL,
 	modid integer DEFAULT 0 NOT NULL,
 	access smallint DEFAULT 1 NOT NULL,
-	warning smallint DEFAULT 0 NOT NULL,
 	PRIMARY KEY (id)
 );
 
@@ -191,7 +190,6 @@
 	creatorid integer DEFAULT 0 NOT NULL,
 	modid integer DEFAULT 0 NOT NULL,
 	deleted smallint DEFAULT 0 NOT NULL,
-	message text,
 	PRIMARY KEY (id)	
 );
 
diff -ru -3 ./lms/lib/LMS.class.php ./lms.orig/lib/LMS.class.php
--- ./lms/lib/LMS.class.php	Fri Jan 30 18:46:06 2004
+++ ./lms.orig/lib/LMS.class.php	Sun Jan 25 16:16:02 2004
@@ -444,7 +444,7 @@
 
 	function UserAdd($useradd)
 	{
-		if($this->DB->Execute("INSERT INTO users (name, lastname, phone1, phone2, phone3, gguin, address, zip, city, email, nip, pesel, status, creationdate, creatorid, info, message) VALUES (?, UPPER(?), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?NOW?, ?, ?, ?)",array(ucwords($useradd['name']), $useradd['lastname'], $useradd['phone1'], $useradd['phone2'], $useradd['phone3'], $useradd['gguin'], $useradd['address'], $useradd['zip'], $useradd['city'], $useradd['email'], $useradd['nip'], $useradd['pesel'], $useradd['status'], $this->SESSION->id, $useradd['info'], $useradd['message']))) {
+		if($this->DB->Execute("INSERT INTO users (name, lastname, phone1, phone2, phone3, gguin, address, zip, city, email, nip, pesel, status, creationdate, creatorid, info) VALUES (?, UPPER(?), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?NOW?, ?, ?)",array(ucwords($useradd['name']), $useradd['lastname'], $useradd['phone1'], $useradd['phone2'], $useradd['phone3'], $useradd['gguin'], $useradd['address'], $useradd['zip'], $useradd['city'], $useradd['email'], $useradd['nip'], $useradd['pesel'], $useradd['status'], $this->SESSION->id, $useradd['info']))) {
 			$this->SetTS("users");
 			return $this->DB->GetOne("SELECT MAX(id) FROM users");
 		} else
@@ -488,7 +488,7 @@
 
 	function GetUser($id)
 	{
-		if($result = $this->DB->GetRow("SELECT id, ".$this->DB->Concat("UPPER(lastname)","' '","name")." AS username, lastname, name, status, email, gguin, phone1, phone2, phone3, address, zip, nip, pesel, city, info, creationdate, moddate, creatorid, modid, deleted, message FROM users WHERE id=?",array($id)))
+		if($result = $this->DB->GetRow("SELECT id, ".$this->DB->Concat("UPPER(lastname)","' '","name")." AS username, lastname, name, status, email, gguin, phone1, phone2, phone3, address, zip, nip, pesel, city, info, creationdate, moddate, creatorid, modid, deleted FROM users WHERE id=?",array($id)))
 		{
 			$result['createdby'] = $this->GetAdminName($result['creatorid']);
 			$result['modifiedby'] = $this->GetAdminName($result['modid']);
@@ -592,7 +592,6 @@
 		{
 			$tariffvalues = $this->DB->GetAllByKey("SELECT users.id AS id, SUM(value) AS value FROM users, assignments, tariffs WHERE users.id = assignments.userid AND tariffs.id = tariffid GROUP by users.id",'id');
 			$access = $this->DB->GetAllByKey("SELECT ownerid AS id, SUM(access) AS acsum, COUNT(access) AS account FROM nodes GROUP BY ownerid",'id');
-			$warning = $this->DB->GetAllByKey("SELECT ownerid AS id, SUM(warning) AS warnsum, COUNT(warning) AS warncount FROM nodes GROUP BY ownerid",'id');
 
 			foreach($userlist as $idx => $row)
 			{
@@ -603,12 +602,6 @@
 					$userlist[$idx]['nodeac'] = 0;
 				else
 					$userlist[$idx]['nodeac'] = 2;
-				if($warning[$row['id']]['warncount'] == $warning[$row['id']]['warnsum'])
-					$userlist[$idx]['nodewarn'] = 1;
-				elseif($warning[$row['id']]['warnsum'] == 0)
-					$userlist[$idx]['nodewarn'] = 0;
-				else
-					$userlist[$idx]['nodewarn'] = 2;
 				if($userlist[$idx]['balance'] > 0)
 					$over += $userlist[$idx]['balance'];
 				elseif($userlist[$idx]['balance'] < 0)
@@ -668,30 +661,22 @@
 		if(!isset($state))
 			$state = 3;
 
-		if($userlist = $this->DB->GetAll("SELECT users.id AS id, ".$this->DB->Concat("UPPER(lastname)","' '","users.name")." AS username, status, email, phone1, address, gguin, nip, pesel, zip, city, info, message,SUM((type * -2 + 7) * cash.value) AS balance FROM users LEFT JOIN cash ON users.id = cash.userid AND (cash.type = 3 OR cash.type = 4) WHERE deleted = 0 ".($state !=0 ? " AND status = '".$state."'":"")." GROUP BY users.id, lastname, users.name, status, email, phone1, phone2, phone3, address, gguin, nip, pesel, zip, city, info ".($sqlord !="" ? $sqlord." ".$direction:"")))
+		if($userlist = $this->DB->GetAll("SELECT users.id AS id, ".$this->DB->Concat("UPPER(lastname)","' '","users.name")." AS username, status, email, phone1, address, gguin, nip, pesel, zip, city, info, SUM((type * -2 + 7) * cash.value) AS balance FROM users LEFT JOIN cash ON users.id = cash.userid AND (cash.type = 3 OR cash.type = 4) WHERE deleted = 0 ".($state !=0 ? " AND status = '".$state."'":"")." GROUP BY users.id, lastname, users.name, status, email, phone1, phone2, phone3, address, gguin, nip, pesel, zip, city, info ".($sqlord !="" ? $sqlord." ".$direction:"")))
 		{
 			$tariffvalues = $this->DB->GetAllByKey("SELECT users.id AS id, SUM(value) AS value FROM users, assignments, tariffs WHERE users.id = assignments.userid AND tariffs.id = tariffid GROUP by users.id",'id');
 
 			$access = $this->DB->GetAllByKey("SELECT ownerid AS id, SUM(access) AS acsum, COUNT(access) AS account FROM nodes GROUP BY ownerid",'id');
-			$warning = $this->DB->GetAllByKey("SELECT ownerid AS id, SUM(warning) AS warnsum, COUNT(warning) AS warncount FROM nodes GROUP BY ownerid",'id');
 			foreach($userlist as $idx => $row)
 			{
 				$userlist[$idx]['tariffvalue'] = $tariffvalues[$row['id']]['value'];
 				$userlist[$idx]['account'] = $access[$row['id']]['account'];
-				$userlist[$idx]['warncount'] = $warning[$row['id']]['warncount'];
-
+				
 				if($access[$row['id']]['account'] == $access[$row['id']]['acsum'])
 					$userlist[$idx]['nodeac'] = 1;
 				elseif($access[$row['id']]['acsum'] == 0)
 					$userlist[$idx]['nodeac'] = 0;
 				else
 					$userlist[$idx]['nodeac'] = 2;
-				if($warning[$row['id']]['warncount'] == $warning[$row['id']]['warnsum'])
-					$userlist[$idx]['nodewarn'] = 1;
-				elseif($warning[$row['id']]['warnsum'] == 0)
-					$userlist[$idx]['nodewarn'] = 0;
-				else
-					$userlist[$idx]['nodewarn'] = 2;
 					
 				if($userlist[$idx]['balance'] > 0)
 					$over += $userlist[$idx]['balance'];
@@ -730,7 +715,7 @@
 
 	function GetUserNodes($id)
 	{
-		if($result = $this->DB->GetAll("SELECT id, name, mac, ipaddr, inet_ntoa(ipaddr) AS ip, access, warning FROM nodes WHERE ownerid=? ORDER BY name ASC",array($id))){
+		if($result = $this->DB->GetAll("SELECT id, name, mac, ipaddr, inet_ntoa(ipaddr) AS ip, access FROM nodes WHERE ownerid=? ORDER BY name ASC",array($id))){
 			$result['total'] = sizeof($result);
 			$result['ownerid'] = $id;
 		}
@@ -846,7 +831,7 @@
 	function NodeUpdate($nodedata)
 	{
 		$this->SetTS("nodes");
-		return $this->DB->Execute("UPDATE nodes SET name=?, ipaddr=inet_aton(?), mac=?, netdev=?, moddate=?NOW?, modid=?, access=?, warning=?, ownerid=? WHERE id=?",array(strtoupper($nodedata['name']), $nodedata['ipaddr'], strtoupper($nodedata['mac']), $nodedata['netdev'], $this->SESSION->id, $nodedata['access'], $nodedata['warning'], $nodedata['ownerid'], $nodedata['id']));
+		return $this->DB->Execute("UPDATE nodes SET name=?, ipaddr=inet_aton(?), mac=?, netdev=?, moddate=?NOW?, modid=?, access=?, ownerid=? WHERE id=?",array(strtoupper($nodedata['name']), $nodedata['ipaddr'], strtoupper($nodedata['mac']), $nodedata['netdev'], $this->SESSION->id, $nodedata['access'], $nodedata['ownerid'], $nodedata['id']));
 	}
 
 	function DeleteNode($id)
@@ -897,7 +882,7 @@
 
 	function GetNode($id)
 	{
-		if($result = $this->DB->GetRow("SELECT id, name, ownerid, ipaddr, inet_ntoa(ipaddr) AS ip, mac, access, warning, creationdate, moddate, creatorid, modid, netdev FROM nodes WHERE id=?",array($id)))
+		if($result = $this->DB->GetRow("SELECT id, name, ownerid, ipaddr, inet_ntoa(ipaddr) AS ip, mac, access, creationdate, moddate, creatorid, modid, netdev FROM nodes WHERE id=?",array($id)))
 		{
 			$result['createdby'] = $this->GetAdminName($result['creatorid']);
 			$result['modifiedby'] = $this->GetAdminName($result['modid']);
@@ -945,7 +930,7 @@
 			foreach($username as $idx => $row)
 				$usernames[$row['id']] = $row['username'];
 
-		if($nodelist = $this->DB->GetAll("SELECT id, ipaddr,inet_ntoa(ipaddr) AS ip, mac, name, ownerid, access, warning, netdev FROM nodes WHERE ownerid > 0".($sqlord != "" ? $sqlord." ".$direction : "")))
+		if($nodelist = $this->DB->GetAll("SELECT id, ipaddr,inet_ntoa(ipaddr) AS ip, mac, name, ownerid, access, netdev FROM nodes WHERE ownerid > 0".($sqlord != "" ? $sqlord." ".$direction : "")))
 		{
 			foreach($nodelist as $idx => $row)
 			{
@@ -1084,24 +1069,6 @@
 			return $this->DB->Execute("UPDATE nodes SET access=?, modid=? WHERE ownerid=?",array(0,$this->SESSION->id,$id));
 	}		
 
-	function NodeSetWarn($id)
-	{
-		$this->SetTS("nodes");
-		if($this->DB->GetOne("SELECT warning FROM nodes WHERE id=?",array($id)) == 1 )
-			return $this->DB->Execute("UPDATE nodes SET warning=0, modid=? WHERE id=?",array($this->SESSION->id,$id));
-		else
-			return $this->DB->Execute("UPDATE nodes SET warning=1, modid=? WHERE id=?",array($this->SESSION->id,$id));
-	}
-
-	function NodeSetWarnU($id,$warning=FALSE)
-	{
-		$this->SetTS("nodes");
-		if($warning)
-			return $this->DB->Execute("UPDATE nodes SET warning=?, modid=? WHERE ownerid=?",array(1,$this->SESSION->id,$id));
-		else
-			return $this->DB->Execute("UPDATE nodes SET warning=?, modid=? WHERE ownerid=?",array(0,$this->SESSION->id,$id));
-	}		
-
 	function IPSetU($netdev, $access=FALSE)
 	{
 		$this->SetTS("nodes");
@@ -1114,7 +1081,7 @@
 	function NodeAdd($nodedata)
 	{
 		$this->SetTS("nodes");
-		if($this->DB->Execute("INSERT INTO nodes (name, mac, ipaddr, ownerid, creatorid, creationdate, access, warning) VALUES (?, ?, inet_aton(?), ?, ?, ?NOW?, ?)",array(strtoupper($nodedata['name']),strtoupper($nodedata['mac']),$nodedata['ipaddr'],$nodedata['ownerid'],$this->SESSION->id, $nodedata['access'], $nodedata['warning'])))
+		if($this->DB->Execute("INSERT INTO nodes (name, mac, ipaddr, ownerid, creatorid, creationdate, access) VALUES (?, ?, inet_aton(?), ?, ?, ?NOW?, ?)",array(strtoupper($nodedata['name']),strtoupper($nodedata['mac']),$nodedata['ipaddr'],$nodedata['ownerid'],$this->SESSION->id, $nodedata['access'])))
 			return $this->DB->GetOne("SELECT MAX(id) FROM nodes");
 		else
 			return FALSE;
diff -ru -3 ./lms/modules/nodeedit.php ./lms.orig/modules/nodeedit.php
--- ./lms/modules/nodeedit.php	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/modules/nodeedit.php	Thu Jan  1 21:45:36 2004
@@ -110,8 +110,6 @@
 
 	if($nodeedit[access]!=1)
 		$nodeedit[access] = 0;
-	if($nodeedit[warning]!=1)
-		$nodeedit[warning] = 0;
 	
 	if($nodeinfo[netdev] != $nodeedit[netdev] && $nodeedit[netdev] != 0)
 	{
Only in ./lms/modules: nodewarn.php
diff -ru -3 ./lms/sample/lms.ini ./lms.orig/sample/lms.ini
--- ./lms/sample/lms.ini	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/sample/lms.ini	Fri Dec 26 20:46:33 2003
@@ -384,19 +384,6 @@
 ; limit			= -20
 
 ; ---------------------------------------------------------------------------
-; Konfiguracja lms-updatewarnings - skryptu do ustawiania ostrze¿enia
-; komputerów u¿ytkowników maj±cych bilans poni¿ej zadanego poziomu
-; finansowego.
-; ---------------------------------------------------------------------------
-
-[warnings]
-
-; Limit bilansu poni¿ej którego wszystkie komputery u¿ytkownika bêd±
-; otrzymywaæ ostrze¿enie przez www. Domy¶lnie - 0.
-;
-; limit			= -20
-
-; ---------------------------------------------------------------------------
 ; Konfiguracja lms-makedhcpconf - skryptu do generowania pliku dhcpd.conf
 ; ---------------------------------------------------------------------------
 
diff -ru -3 ./lms/templates/nodeaddbox.html ./lms.orig/templates/nodeaddbox.html
--- ./lms/templates/nodeaddbox.html	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/templates/nodeaddbox.html	Wed Dec 17 00:18:47 2003
@@ -49,20 +49,6 @@
 	</TR>
 	<TR CLASS="LIGHT">
 		<TD WIDTH="1%" CLASS="FLEFT">
-			<IMG SRC="img/{if ! $nodedata.warning}no{/if}access.gif" BORDER="0" ALT="">
-		</TD>
-		<TD WIDTH="1%" NOWRAP>
-			<B>Ostrze¿enie:</B>
-		</TD>
-		<TD WIDTH="98%" CLASS="FRIGHT">
-			<SELECT SIZE="1" CLASS="BOLD" NAME="nodedata[warning]" {tip text="Ustaw ostrze¿enie komputera"}>
-				<OPTION VALUE="1"{if $nodedata.warning} SELECTED{/if}>w³±czone</OPTION>
-				<OPTION VALUE="0"{if ! $nodedata.warning} SELECTED{/if}>wy³±czone</OPTION>
-			</SELECT>
-		</TD>
-	</TR>
-	<TR CLASS="LIGHT">
-		<TD WIDTH="1%" CLASS="FLEFT">
 			<IMG SRC="img/user.gif" BORDER="0" ALT="W³a¶ciciel:">
 		</TD>
 		<TD WIDTH="1%" NOWRAP>
diff -ru -3 ./lms/templates/nodeeditbox.html ./lms.orig/templates/nodeeditbox.html
--- ./lms/templates/nodeeditbox.html	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/templates/nodeeditbox.html	Mon Dec 15 01:47:00 2003
@@ -60,17 +60,6 @@
 	</TR>
 	<TR CLASS="LIGHT">
 		<TD WIDTH="1%" CLASS="FLEFT">
-			<IMG SRC="img/{if ! $nodeinfo.warning}no{/if}access.gif" BORDER="0" ALT="">
-		</TD>
-		<TD WIDTH="99%" CLASS="FRIGHT" COLSPAN="2">
-			<SELECT SIZE="1" CLASS="BOLD" NAME="nodeedit[warning]" {tip text="Ustaw ostrze¿enie komputera"}>
-				<OPTION VALUE="1"{if $nodeinfo.warning} SELECTED{/if}>ostrze¿enie w³±czone</OPTION>
-				<OPTION VALUE="0"{if ! $nodeinfo.warning} SELECTED{/if}>ostrze¿enie wy³±czone</OPTION>
-			</SELECT>
-		</TD>
-	</TR>
-	<TR CLASS="LIGHT">
-		<TD WIDTH="1%" CLASS="FLEFT">
 			<IMG SRC="img/user.gif" BORDER="0" ALT="W³a¶ciciel:">
 		</TD>
 		<TD WIDTH="99%" CLASS="FRIGHT" COLSPAN="2">
diff -ru -3 ./lms/templates/nodeinfobox.html ./lms.orig/templates/nodeinfobox.html
--- ./lms/templates/nodeinfobox.html	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/templates/nodeinfobox.html	Mon Dec 15 01:47:00 2003
@@ -65,14 +65,6 @@
 	</TR>
 	<TR CLASS="LIGHT">
 		<TD WIDTH="1%" CLASS="FLEFT">
-			<A HREF="?m=nodewarn&id={$nodeinfo.id}"><IMG SRC="img/{if ! $nodeinfo.warning}no{/if}access.gif" BORDER="0" ALT=""></A>
-		</TD>
-		<TD WIDTH="99%" CLASS="FRIGHT" COLSPAN="2">
-			<B>{if $nodeinfo.warning}ostrze¿enie w³±czone{else}ostrze¿enie wy³aczone{/if}</B>
-		</TD>
-	</TR>
-	<TR CLASS="LIGHT">
-		<TD WIDTH="1%" CLASS="FLEFT">
 			<IMG SRC="img/admins.gif" BORDER="0" ALT="">
 		</TD>
 		<TD WIDTH="1%">
diff -ru -3 ./lms/templates/nodelist.html ./lms.orig/templates/nodelist.html
--- ./lms/templates/nodelist.html	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/templates/nodelist.html	Mon Dec 15 22:00:00 2003
@@ -51,7 +51,6 @@
 		<TD class="fright" width="1%">
 			<nobr>
 			<a href="?m=nodeset&id={$nodelist[nodelist].id}"><img src="img/{if ! $nodelist[nodelist].access}no{/if}access.gif" border="0" ALT="{if ! $nodelist[nodelist].access}[ Pod³±cz ]{else}[ Od³±cz ]{/if}"></A>
-			<a href="?m=nodewarn&id={$nodelist[nodelist].id}"><img src="img/{if ! $nodelist[nodelist].warning}no{/if}access.gif" border="0" ALT="{if ! $nodelist[nodelist].warning}[ Ostrzegaj ]{else}[ Nie ostrzegaj ]{/if}"></A>
 			<a href="?m=nodedel&id={$nodelist[nodelist].id}" onClick="return confirmLink(this, 'Jeste¶ pewien ¿e chcesz usun±æ komputer \'{$nodelist[nodelist].name|upper}\' z bazy danych?')"><img src="img/delete.gif" border="0" ALT="[ Usuñ ]"></A>
 			<a href="?m=nodeedit&id={$nodelist[nodelist].id}"><img src="img/edit.gif" border="0" ALT="[ Edytuj ]"></A>
 			<a href="?m=nodeinfo&id={$nodelist[nodelist].id}"><img src="img/info.gif" border="0" ALT="[ Info ]"></A>
diff -ru -3 ./lms/templates/useradd.html ./lms.orig/templates/useradd.html
--- ./lms/templates/useradd.html	Wed Jan 28 16:16:29 2004
+++ ./lms.orig/templates/useradd.html	Mon Dec 15 01:47:01 2003
@@ -101,16 +101,12 @@
 			</TABLE>
 		</td>
 		<TD width="50%" bgcolor="#DFD5BD" class="fright" ALIGN="LEFT">
-			<P>
-			<B>Uwagi: </B><BR>
+			<p>
+			<b>Uwagi: </b><BR>
 <TEXTAREA rows="6" cols="50" name="useradd[info]">
 {$useradd.info}
-</TEXTAREA><P>
-<B>Wiadomosc administracyjna: </B><BR>
-<TEXTAREA rows="6" cols="50" name="useradd[message]">
-{$useradd.message}
-</TEXTAREA><P>
-		</TD>
+</TEXTAREA>
+		</td>
 	</TR>
 	<TR class="light">
 		<TD width="100%" colspan="2" class="fbottomu" align="right">
diff -ru -3 ./lms/templates/usereditbox.html ./lms.orig/templates/usereditbox.html
--- ./lms/templates/usereditbox.html	Wed Jan 28 16:11:01 2004
+++ ./lms.orig/templates/usereditbox.html	Mon Dec 15 01:47:01 2003
@@ -154,20 +154,6 @@
 		</TD>
 	</TR>
 	<TR CLASS="LIGHT">
-		<TD WIDTH="1%" CLASS="FLEFT">
-			<IMG SRC="img/mail.gif" BORDER="0" ALT="">
-		</TD>
-		<TD WIDTH="99%" CLASS="FRIGHT" COLSPAN="2">
-			<TABLE WIDTH="1%" CELLPADDING="5">
-				<TR>
-					<TD CLASS="FALL" BGCOLOR="#F4F0EC" {tip text="Wiadomosc administracyjna do uzytkownika (opcjonalnie)"}>
-						<TEXTAREA NAME="userdata[message]" STYLE="background-color: #F4F0EC; border-style: none; border-width: 0pt" COLS="40" ROWS="5">{$userinfo.message}</TEXTAREA>
-					</TD>
-				</TR>
-			</TABLE>
-		</TD>
-	</TR>
-	<TR CLASS="LIGHT">
 		<TD WIDTH="100%" COLSPAN="3" CLASS="FBOTTOMU" ALIGN="RIGHT">
 			<A HREF="javascript:document.useredit.submit();" ACCESSKEY="S">Zapisz <IMG SRC="img/save.gif" BORDER="0" ALIGN="ABSMIDDLE"></A>
 			<A HREF="?m=userinfo&id={$userinfo.id}">Anuluj <IMG SRC="img/cancel.gif" BORDER="0" ALIGN="ABSMIDDLE"></A>
diff -ru -3 ./lms/templates/userinfobox.html ./lms.orig/templates/userinfobox.html
--- ./lms/templates/userinfobox.html	Wed Jan 28 16:16:43 2004
+++ ./lms.orig/templates/userinfobox.html	Mon Dec 15 01:47:01 2003
@@ -117,23 +117,6 @@
 		</TD>
 	</TR>
 	{/if}
-	{if $userinfo.message}
-	<TR CLASS="LIGHT">
-		<TD WIDTH="1%" CLASS="FLEFT">
-			<IMG SRC="img/mail.gif" BORDER="0" ALT="">
-		</TD>
-		<TD WIDTH="99%" CLASS="FRIGHT" COLSPAN="2">
-			<TABLE WIDTH="100%" CELLPADDING="5">
-				<TR>
-					<TD CLASS="FALL" BGCOLOR="#F4F0EC">
-						{$userinfo.message|replace:"\n":"<BR>"}
-					</TD>
-				</TR>
-			</TABLE>
-		</TD>
-	</TR>
-	{/if}
-
 	<TR CLASS="LIGHT">
 		<TD WIDTH="100%" COLSPAN="3" CLASS="FBOTTOMU" ALIGN="RIGHT">
 			{if $userinfo.deleted}<A HREF="?m=useredit&id={$userinfo.id}&action=recover">Przywróæ <IMG SRC="img/recover.gif" border="0" align="absmiddle" ALT="[ Przywróæ ]"></A>{else}<A href="?m=useredit&id={$userinfo.id}" ACCESSKEY="E">Edytuj <IMG src="img/edit.gif" border="0" align="absmiddle" ALT="[ Edytuj ]"></A> <A href="?m=userdel&id={$userinfo.id}" 
diff -ru -3 ./lms/templates/userlist.html ./lms.orig/templates/userlist.html
--- ./lms/templates/userlist.html	Fri Jan 30 18:41:54 2004
+++ ./lms.orig/templates/userlist.html	Tue Jan 13 21:42:48 2004
@@ -63,38 +63,34 @@
 	{section name=userlist loop=$userlist start=$start max=$pagelimit}
 	<TR bgcolor="{cycle}" {cycle print=false} onmouseover="setPointer(this, '#CCFFCC')" onmouseout="setPointer(this, '{cycle}')"{if $userlist[userlist].nodeac eq 0} class="blend"{/if}>
 		<TD onClick="return self.location.href='?m=userinfo&id={$userlist[userlist].id}';" class="fleft" valign="top">
-			<A name="{$userlist[userlist].id}"><IMG src="img/{if $userlist[userlist].status eq 1}unk{/if}{if $userlist[userlist].status eq 2}wait{/if}{if $userlist[userlist].status eq 3}user{/if}.gif" ALT="" align="absmiddle" border="0">{if $userlist[userlist].info}&nbsp;<img src="img/usercomment.gif" ALT="" align="absmiddle" {tip text=$userlist[userlist].info}>{/if}{if $userlist[userlist].message}&nbsp;<img src="img/mail.gif" ALT="" align="absmiddle" {tip text=$userlist[userlist].message}>{/if}&nbsp;<B>{$userlist[userlist].username|escape}</B></A><BR>
+			<A name="{$userlist[userlist].id}"><IMG src="img/{if $userlist[userlist].status eq 1}unk{/if}{if $userlist[userlist].status eq 2}wait{/if}{if $userlist[userlist].status eq 3}user{/if}.gif" ALT="" align="absmiddle" border="0">{if $userlist[userlist].info}&nbsp;<img src="img/usercomment.gif" ALT="" align="absmiddle" {tip text=$userlist[userlist].info}>{/if}&nbsp;<B>{$userlist[userlist].username|escape}</B></A><BR>
 			<IMG src="img/phone.gif" ALT="" align="absmiddle" border="0">&nbsp;{$userlist[userlist].phone1|default:"&nbsp;"}<BR>
 			<IMG SRC="img/home.gif" ALT="" align="absmiddle" border="0">&nbsp;{$userlist[userlist].address}{if $userlist[userlist].city neq ""},{/if} {$userlist[userlist].zip} {$userlist[userlist].city}
 		</TD>
 		<TD 	{if $userlist[userlist].account}
 				{if $userlist[userlist].status neq 3} 
 					onClick="return self.location.href='?m=userinfo&id={$userlist[userlist].id}';"
+				{else}
+					{if $userlist[userlist].nodeac eq 1} 
+						onClick="return self.location.href='?m=nodeset&ownerid={$userlist[userlist].id}';"
+					{else}
+						{if $userlist[userlist].nodeac eq 2} 
+			    				onClick="return self.location.href='?m=nodeset&ownerid={$userlist[userlist].id}';"
+						{else} 
+							onClick="return self.location.href='?m=nodeset&ownerid={$userlist[userlist].id}&access=1';"
+						{/if}
+					{/if}
 				{/if}
 			{/if} valign="top" align="right">
 			<img src="img/empty.gif" align="absmiddle" width="1" height="16" ALT="" border="0">({$userlist[userlist].id|string_format:"%04d"})<BR>
 			{if $userlist[userlist].account}
 				{if $userlist[userlist].status eq 3}
 					{if $userlist[userlist].nodeac eq 1}
-						<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}"><IMG SRC="img/access.gif" align="absmiddle" ALT="[ Od³±cz wszystkie ]" border="0"></A><BR>
+						<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}"><IMG SRC="img/access.gif" align="absmiddle" ALT="[ Od³±cz wszystkie ]" border="0"></A>
 					{else}
 						{if $userlist[userlist].nodeac eq 2}
-							<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}"><IMG SRC="img/mixaccess.gif" align="absmiddle" ALT="[ Od³±cz wszystkie ]" border="0"></A><BR>
-						{else}<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}&access=1"><IMG SRC="img/noaccess.gif" align="absmiddle" ALT="[ Pod³±cz wszystkie ]" border="0"></A><BR>
-						{/if}
-					{/if}
-				{/if}
-			{else}
-				<IMG src="img/exclamation.gif" align="absmiddle" border="0" ALT="Brak przypisanych komputerów"><BR>
-			{/if}			
-			{if $userlist[userlist].warncount}
-				{if $userlist[userlist].status eq 3}
-					{if $userlist[userlist].nodewarn eq 1}
-						<A HREF="?m=nodewarn&ownerid={$userlist[userlist].id}"><IMG SRC="img/access.gif" align="absmiddle" ALT="[ Nie ostrzegaj ¿adnych ]" border="0"></A>
-					{else}
-						{if $userlist[userlist].nodewarn eq 2}
-							<A HREF="?m=nodewarn&ownerid={$userlist[userlist].id}"><IMG SRC="img/mixaccess.gif" align="absmiddle" ALT="[ Nie ostrzegaj ¿adnych ]" border="0"></A>
-						{else}<A HREF="?m=nodewarn&ownerid={$userlist[userlist].id}&warning=1"><IMG SRC="img/noaccess.gif" align="absmiddle" ALT="[ Ostrzegaj wszystkie ]" border="0"></A>
+							<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}"><IMG SRC="img/mixaccess.gif" align="absmiddle" ALT="[ Od³±cz wszystkie ]" border="0"></A>
+						{else}<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}&access=1"><IMG SRC="img/noaccess.gif" align="absmiddle" ALT="[ Pod³±cz wszystkie ]" border="0"></A>
 						{/if}
 					{/if}
 				{/if}
diff -ru -3 ./lms/templates/usernodesbox.html ./lms.orig/templates/usernodesbox.html
--- ./lms/templates/usernodesbox.html	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/templates/usernodesbox.html	Mon Dec 15 01:47:01 2003
@@ -15,7 +15,6 @@
 	<tr bgcolor="{cycle}" {cycle print=false} onmouseover="setPointer(this, '#CCFFCC')" onmouseout="setPointer(this, '{cycle}')"{if ! $usernodes[usernodes].access} class="blend"{/if}>
 		<TD WIDTH="1%" CLASS="FLEFT">
 			<a href="?m=nodeset&id={$usernodes[usernodes].id}"><IMG src="img/{if ! $usernodes[usernodes].access}no{/if}access.gif" ALT="[ {if ! $usernodes[usernodes].access}Pod³±cz{else}Od³±cz{/if} ]" border="0" align="absmiddle"></A>
-			<a href="?m=nodewarn&id={$usernodes[usernodes].id}"><IMG src="img/{if ! $usernodes[usernodes].warning}no{/if}access.gif" ALT="[ {if ! $usernodes[usernodes].warning}Ostrzegaj{else}Nie ostrzegaj{/if} ]" border="0" align="absmiddle"></A>
 		</TD>
 		<TD WIDTH="97%" onClick="return self.location.href='?m=nodeinfo&id={$usernodes[usernodes].id}';">
 			<B>{$usernodes[usernodes].name}</B><BR>
@@ -47,8 +46,6 @@
 		<TD WIDTH="99%" COLSPAN="3" CLASS="FLEFTU">
 			<A HREF="?m=nodeset&ownerid={$usernodes.ownerid}&access=1"><IMG SRC="img/access.gif" ALIGN="ABSMIDDLE" BORDER="0"> Pod³±cz wszystkie</A><BR>
 			<A HREF="?m=nodeset&ownerid={$usernodes.ownerid}"><IMG SRC="img/noaccess.gif" ALIGN="ABSMIDDLE" BORDER="0"> Od³±cz wszystkie</A><BR>
-			<A HREF="?m=nodewarn&ownerid={$usernodes.ownerid}&warning=1"><IMG SRC="img/access.gif" ALIGN="ABSMIDDLE" BORDER="0"> Ostrzegaj wszystkie</A><BR>
-			<A HREF="?m=nodewarn&ownerid={$usernodes.ownerid}"><IMG SRC="img/noaccess.gif" ALIGN="ABSMIDDLE" BORDER="0"> Nie ostrzegaj ¿adnych</A><BR>
 		</TD>
 		<TD WIDTH="1%" CLASS="FRIGHTU" NOWRAP VALIGN="BOTTOM" ALIGN="RIGHT">
 			{if $userinfo.status eq "3" and ! $userinfo.deleted}<A HREF="?m=nodeadd&ownerid={$usernodes.ownerid}">Nowy <IMG SRC="img/edit.gif" ALIGN="ABSMIDDLE" BORDER="0"></A>{else}<FONT CLASS="BLEND">Nowy <IMG SRC="img/edit.gif" ALIGN="ABSMIDDLE">{/if}
diff -ru -3 ./lms/templates/usersearchresults.html ./lms.orig/templates/usersearchresults.html
--- ./lms/templates/usersearchresults.html	Fri Jan 30 18:38:26 2004
+++ ./lms.orig/templates/usersearchresults.html	Wed Dec 17 22:24:31 2003
@@ -37,10 +37,9 @@
 			<IMG src="img/phone.gif" ALT="" align="absmiddle" border="0">&nbsp;{$userlist[userlist].phone1}{/if}<BR>
 			<IMG SRC="img/home.gif" ALT="" align="absmiddle" border="0">&nbsp;{$userlist[userlist].address}{if $userlist[userlist].city neq ""},{/if} {$userlist[userlist].zip} {$userlist[userlist].city}
 		</TD>
-		<TD {if $userlist[userlist].status neq 3} onClick="return self.location.href='?m=userinfo&id={$userlist[userlist].id}';"{/if} valign="top" align="right">
+		<TD {if $userlist[userlist].status neq 3} onClick="return self.location.href='?m=userinfo&id={$userlist[userlist].id}';"{else}{if $userlist[userlist].nodeac eq 1} onClick="return self.location.href='?m=nodeset&ownerid={$userlist[userlist].id}';"{else}{if $userlist[userlist].nodeac eq 2} onClick="return self.location.href='?m=nodeset&ownerid={$userlist[userlist].id}';"{else} onClick="return self.location.href='?m=nodeset&ownerid={$userlist[userlist].id}&access=1';"{/if}{/if}{/if}valign="top" align="right">
 			<img src="img/empty.gif" align="absmiddle" width="1" height="16" ALT="" border="">({$userlist[userlist].id|string_format:"%04d"})<BR>
-			{if $userlist[userlist].status eq 3}{if $userlist[userlist].nodeac eq 1}<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}"><IMG SRC="img/access.gif" align="absmiddle" ALT="" border="0"></A>{else}{if $userlist[userlist].nodeac eq 2}<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}"><IMG SRC="img/mixaccess.gif" align="absmiddle" ALT="" border="0"></A>{else}<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}&access=1"><IMG SRC="img/noaccess.gif" align="absmiddle" ALT="" border="0"></A>{/if}{/if}{/if}<BR>
-			{if $userlist[userlist].status eq 3}{if $userlist[userlist].nodewarn eq 1}<A HREF="?m=nodewarn&ownerid={$userlist[userlist].id}"><IMG SRC="img/access.gif" align="absmiddle" ALT="" border="0"></A>{else}{if $userlist[userlist].nodewarn eq 2}<A HREF="?m=nodewarn&ownerid={$userlist[userlist].id}"><IMG SRC="img/mixaccess.gif" align="absmiddle" ALT="" border="0"></A>{else}<A HREF="?m=nodewarn&ownerid={$userlist[userlist].id}&warning=1"><IMG SRC="img/noaccess.gif" align="absmiddle" ALT="" border="0"></A>{/if}{/if}{/if}
+			{if $userlist[userlist].status eq 3}{if $userlist[userlist].nodeac eq 1}<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}"><IMG SRC="img/access.gif" align="absmiddle" ALT="" border="0"></A>{else}{if $userlist[userlist].nodeac eq 2}<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}"><IMG SRC="img/mixaccess.gif" align="absmiddle" ALT="" border="0"></A>{else}<A HREF="?m=nodeset&ownerid={$userlist[userlist].id}&access=1"><IMG SRC="img/noaccess.gif" align="absmiddle" ALT="" border="0"></A>{/if}{/if}{/if}
 		</TD>
 		<TD onClick="return self.location.href='?m=userinfo&id={$userlist[userlist].id}';" valign="top">
 			<IMG src="img/mail.gif" ALT="" align="absmiddle" border="0">&nbsp;{$userlist[userlist].email}<BR>
